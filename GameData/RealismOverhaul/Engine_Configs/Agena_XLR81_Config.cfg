//	==================================================
//	XLR81/Bell Model 8000 Series Engine
//
//	Manufacturer: Bell Aircraft
//
//	=================================================================================
//	Model 117
//	B-58 Hustler rocket pod
//
//	Dry Mass: 127 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 67 kN
//	ISP: ??? SL / 265.5 Vac
//	Burn Time: 60
//	Chamber Pressure: 3.4 MPa
//	Propellant: IRFNA-III / RP1
//	Prop Ratio: 2.55
//	Throttle: N/A
//	Nozzle Ratio: 15
//	Ignitions: 1
//	=================================================================================
//	XLR81-BA-3
//	Bell Model 8001, Agena Prototype
//
//	Dry Mass: 127 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 67 kN
//	ISP: ??? SL / 265.5 Vac
//	Burn Time: 100
//	Chamber Pressure: 3.4 MPa
//	Propellant: IRFNA-III / RP1
//	Prop Ratio: 2.55
//	Throttle: N/A
//	Nozzle Ratio: 15
//	Ignitions: 1
//	=================================================================================
//	XLR81-BA-5
//	Bell Model 8048, Agena A
//
//	Dry Mass: 127 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 68.9 kN
//	ISP: ??? SL / 276 Vac
//	Burn Time: 120
//	Chamber Pressure: 3.4 MPa
//	Propellant: IRFNA-III / UDMH
//	Prop Ratio: 2.57
//	Throttle: N/A
//	Nozzle Ratio: 20
//	Ignitions: 2
//	=================================================================================
//	XLR81-BA-7
//	Bell Model 8081, Agena B
//
//	Dry Mass: 130 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 70.7 kN	//15890 lbf
//	ISP: ??? SL / 285 Vac
//	Burn Time: 240
//	Chamber Pressure: 3.4 MPa
//	Propellant: IRFNA-III / UDMH
//	Prop Ratio: 2.57
//	Throttle: N/A
//	Nozzle Ratio: 45
//	Ignitions: 2
//	=================================================================================
//	XLR81-BA-11  // [A]
//	Bell Model 8096, Agena D
//
//	Dry Mass: 134.26 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 71.17 kN
//	ISP: ??? SL / 290.5 Vac
//	Burn Time: 240
//	Chamber Pressure: 3.48 MPa
//	Propellant: IRFNA-III / UDMH
//	Prop Ratio: 2.8
//	Throttle: N/A
//	Nozzle Ratio: 45
//	Ignitions: 2
//  Gimbal: Â±5
//	=================================================================================
//	XLR81-BA-13
//	Bell Model 8247, Gemini ATV
//
//	Dry Mass: 137.26 Kg		//start tanks added about 3 kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 71.17 kN
//	ISP: ??? SL / 290.5 Vac
//	Burn Time: 240
//	Chamber Pressure: 3.48 MPa
//	Propellant: IRFNA-III / UDMH
//	Prop Ratio: 2.8
//	Throttle: N/A
//	Nozzle Ratio: 45
//	Ignitions: 15
//	=================================================================================
//	Bell Model 8096-39, Agena D HDA
//
//	Dry Mass: 134.26 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 75.62 kN
//	ISP: ??? SL / 300 Vac
//	Burn Time: 240
//	Chamber Pressure: 3.75 MPa
//	Propellant: IRFNA-IV / UDMH
//	Prop Ratio: 2.94
//	Throttle: N/A
//	Nozzle Ratio: 45
//	Ignitions: 3
//	=================================================================================
//	Bell Model 8096A, Agena Growth Option
//
//	Dry Mass: 143.26 Kg		//~9kg for 75:1 nozzle?
//	Thrust (SL): ??? kN
//	Thrust (Vac): 78.3 kN	//Thrust increase proportional with ISP increase
//	ISP: ??? SL / 312 Vac
//	Burn Time: 240
//	Chamber Pressure: 3.4 MPa
//	Propellant: IRFNA-IV / UDMH
//	Prop Ratio: 2.69
//	Throttle: N/A
//	Nozzle Ratio: 75
//	Ignitions: 3
//	=================================================================================
//	Bell Model 8096L, Reusable Agena for STS
//
//	Dry Mass: 155.26 Kg		//18 kg for 150:1 nozzle, 3 kg for start tanks
//	Thrust (SL): ??? kN
//	Thrust (Vac): 71.1 kN
//	ISP: ??? SL / 324 Vac
//	Burn Time: 1200
//	Chamber Pressure: 3.34 MPa
//	Propellant: IRFNA-IV / MMH
//	Prop Ratio: 2.03
//	Throttle: N/A
//	Nozzle Ratio: 150
//	Ignitions: 15
//	=================================================================================
//	Bell Model 8096C, Agena Growth Option
//
//	Dry Mass: 84.3 Kg		//redesigned to reduce mass for use on tug
//	Thrust (SL): ??? kN
//	Thrust (Vac): 53.4 kN
//	ISP: ??? SL / 336 Vac
//	Burn Time: 240
//	Chamber Pressure: 5.17 MPa
//	Propellant: NTO / MMH
//	Prop Ratio: 1.88
//	Throttle: N/A
//	Nozzle Ratio: 250
//	Ignitions: 15
//	=================================================================================
//	Agena 2000
//
//	Dry Mass: 130 Kg	//guess
//	Thrust (SL): ??? kN
//	Thrust (Vac): 67.5 kN
//	ISP: ??? SL / 336 Vac
//	Burn Time: 700
//	Chamber Pressure: 4.95 MPa
//	Propellant: MON3 / MMH
//	Prop Ratio: 1.83
//	Throttle: N/A
//	Nozzle Ratio: 275
//	Ignitions: 15
//	=================================================================================
//	Apollo Agena SPS
//	Proposal for GE Apollo SPS
//
//	Dry Mass: 150 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 53.7 kN
//	ISP: ??? SL / 446.2 Vac
//	Burn Time: 360
//	Chamber Pressure: 2.06 MPa
//	Propellant: LF2 / LH2
//	Prop Ratio: 11.92
//	Throttle: 17.7 kN in PF mode
//	Nozzle Ratio: 45
//	Ignitions: 15
//	=================================================================================

//	Sources:

//	(1) Agena Payload Users Handbook
//	(2) Shuttle/Agena study Vol 1 - http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19720013175.pdf
//	(3) NASA Aegna D Mission Capabilities and Restraints Catalog Vol 2 - http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19660009137.pdf
//	(4) The Agena Rocket Engine... Six Generations of Reliability in Space Propulsion - http://forum.nasaspaceflight.com/index.php?topic=16154.msg373040#msg373040
//	(5) AlternateWars Bell/Textron rocket engines - http://www.alternatewars.com/BBOW/Space_Engines/BellTextron_Engines.htm
//	(6) NASA 19740024172 Reusable Agena Study Final Report (Technical Volume II) - http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19740024172.pdf
//	(7)	AIAA DESIGN AND TEST RESULTS ON AGENA 2000 - https://www.pdf-archive.com/2017/05/31/design-and-test-results-on-agena-2000/design-and-test-results-on-agena-2000.pdf
//      [A] History of Liquid Propellant Rocket Engines, George P. Sutton, Page 519 Table 7.11-2

//	Used by:

//	Notes:

//	The Agena start tanks were developed for use on the Gemini-Agena Target vehicle, to increase the number of restarts available for Agena. A pair of pressurized bladder tanks
//	were added to the XLR81, containing fuel and oxidizer. Pressurized propellants from these tanks would be used to spin up the XLR81 turbopump. Once the engine was started, 
//	propellant would be tapped off from the turbopumps to refill the tanks for the next start. This system allowed for up to 15 restarts of the XLR81 engine. Although developed
//	for GATV, the start tanks could be added to any Agena upon customer request.

//	XLR81-BA-13 config eliminated, as it is identical to the BA-11 other than the addition of the start tanks.
//	Start tanks added ~3 kg to the overall mass of the engine (elimination of the solid starter cartridges offset weight of start tanks).
//	==================================================
@PART[*]:HAS[#engineType[Agena]]:FOR[RealismOverhaulEngines]
{
	@title = #roAgenaTitle	//XLR81 (Agena) Vacuum Engine
	@manufacturer = #roMfrBell
	@description = #roAgenaDesc	//A gas-generator nitric acid/UDMH vacuum engine used on Agena. The XLR81 family was derived from the Bell Hustler Rocket Engine, originally developed for use on an air-to-surface missile. Early engines were nearly identical to the Hustler engine, while later variants offered new capabilities and improved performance. Engine restart was introduced on the Agena B's XLR81-BA-7 (Model 8081). The XLR81-BA-11 (Model 8096) used on Agena D used propellant sumps to eliminate the need for ullage thrust. The XLR81-BA-13 (Model 8247) powered the Gemini Agena Target Vehicle (a modified Agena D) and was rated for up to 14 restarts.

	@tags ^= :$: USA bell agena XLR81 model 8000 liquid pump upper UDMH nitric acid NTO

	%specLevel = operational

	@MODULE[ModuleEngines*]
	{
		%EngineType = LiquidFuel
	}

	!MODULE[ModuleEngineConfigs],*{}
	!MODULE[ModuleAlternator],*{}
	!RESOURCE,*{}

	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 5.0
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = Model117
		modded = false
		origMass = 0.127
		CONFIG
		{
			name = Model117
			description = B-58 Hustler rocket pod
			specLevel = prototype
			maxThrust = 67
			minThrust = 67
			heatProduction = 100
			gimbalRange = 0
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.4422
			}
			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.5578
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 265.5
				key = 1 220	//sea level nozzle
			}
			ullage = True
			pressureFed = False
			ignitions = 1
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}
		}
		CONFIG
		{
			name = XLR81-BA-3
			description = Model 8001, Agena Prototype
			specLevel = operational
			maxThrust = 67
			minThrust = 67
			heatProduction = 100
			gimbalRange = 5
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.4422
			}
			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.5578
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 265.5
				key = 1 220	//sea level nozzle
			}
			ullage = True
			pressureFed = False
			ignitions = 1
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}
		}
		CONFIG
		{
			name = XLR81-BA-5
			description = Model 8048, Agena A
			specLevel = operational
			maxThrust = 68.9
			minThrust = 68.9
			heatProduction = 100
			gimbalRange = 5
			PROPELLANT
			{
				name = UDMH
				ratio = 0.4492
			}
			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.5508
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 276
				key = 1 100
			}
			ullage = True
			pressureFed = False
			ignitions = 1
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}
		}
		CONFIG
		{
			name = XLR81-BA-7
			description = Model 8081, Agena B. Cannot restart between 15 minutes and 3 hours after shutdown.
			specLevel = operational
			maxThrust = 70.7
			minThrust = 70.7
			heatProduction = 100
			massMult = 1.0236
			gimbalRange = 5
			PROPELLANT
			{
				name = UDMH
				ratio = 0.4492
			}
			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.5508
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 285
				key = 1 100
			}
			ullage = True
			pressureFed = False
			ignitions = 2
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
		}

		CONFIG
		{
			name = XLR81-BA-11
			description = Model 8096, Agena D. Cannot restart between 15 minutes and 3 hours after shutdown.
			specLevel = operational
			maxThrust = 71.17
			minThrust = 71.17
			heatProduction = 100
			ullage = False //(1) p 1-4
			pressureFed = False
			ignitions = 2
			massMult = 1.0572
			gimbalRange = 5

			PROPELLANT
			{
				name = UDMH
				ratio = 0.4281
				DrawGauge = False
			}

			PROPELLANT
			{
				name = IRFNA-III
				ratio = 0.5719
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 290.5
				key = 1 100
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
			SUBCONFIG
			{
				name = StartTanks
				description = A.K.A. XLR81-BA-13, or Model 8247. Add reusable start tanks, developed for GATV, to allow for up to 14 restarts of the XLR81.
				massMult = 1.0808	//start tanks add ~3 kg
				ignitions = 15
				costOffset = 100
			}
		}
		CONFIG
		{
			name = Model8096-39
			description = Improved propellant, using high density acid (HDA). Cannot restart between 15 minutes and 3 hours after shutdown.
			specLevel = operational
			maxThrust = 75.62 //17 klbf
			minThrust = 75.62
			heatProduction = 100
			ullage = False //(1) p 1-4
			pressureFed = False
			ignitions = 3
			massMult = 1.0572
			gimbalRange = 5

			PROPELLANT
			{
				name = UDMH
				ratio = 0.4618
				DrawGauge = False
			}

			PROPELLANT
			{
				name = IRFNA-IV
				ratio = 0.5382
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 300
				key = 1 100
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
			SUBCONFIG
			{
				name = StartTanks
				description = Add reusable start tanks, developed for GATV, to allow for up to 14 restarts of the XLR81.
				massMult = 1.0808	//start tanks add ~3 kg
				ignitions = 15
				costOffset = 100
			}
		}
		CONFIG
		{
			name = Model8096A // (5)
			description = Higher expansion ratio nozzle prototype. Cannot restart between 15 minutes and 3 hours after shutdown.
			specLevel = prototype
			maxThrust = 78.3
			minThrust = 78.3
			heatProduction = 100
			ullage = False //(1) p 1-4
			pressureFed = False
			ignitions = 3
			massMult = 1.1280
			gimbalRange = 5

			PROPELLANT
			{
				name = UDMH
				ratio = 0.4838
				DrawGauge = False
			}

			PROPELLANT
			{
				name = IRFNA-IV
				ratio = 0.5161
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 312 // (5)
				key = 1 100
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
			SUBCONFIG
			{
				name = StartTanks
				description = Add reusable start tanks, developed for GATV, to allow for up to 14 restarts of the XLR81.
				massMult = 1.1517	//start tanks add ~3 kg
				ignitions = 15
				costOffset = 100
			}
		}
		CONFIG
		{
			name = Model8096L // (6)
			description = Reusable Agena for STS
			specLevel = concept
			maxThrust = 71.1 //16 klbf
			minThrust = 71.1
			heatProduction = 100
			ullage = False //(1) p 1-4
			pressureFed = False
			ignitions = 15 // '10 to 100' depending on cert; go with 8247 for now.
			massMult = 1.2225
			gimbalRange = 5

			PROPELLANT // (6) - 2.03 ratio for HDA/MMH
			{
				name = MMH
				ratio = 0.5276
				DrawGauge = False
			}

			PROPELLANT
			{
				name = IRFNA-IV
				ratio = 0.4724
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 324 // (6)
				key = 1 75
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
		}
		CONFIG
		{
			name = Model8096C // (6)
			description = Growth Agena option, sacrificing thrust for improved effeciency
			specLevel = concept
			maxThrust = 53.4 //12 klbf
			minThrust = 53.4
			heatProduction = 100
			ullage = False //(1) p 1-4
			pressureFed = False
			ignitions = 15 // '10 to 100' depending on cert; go with 8247 for now.
			massMult = 0.6638
			gimbalRange = 5

			PROPELLANT // (6) - 1.88 ratio for NTO/MMH
			{
				name = MMH
				ratio = 0.4671
				DrawGauge = False
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5329
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 336 // (6)
				key = 1 75
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
		}
		CONFIG
		{
			name = Agena-2000	//(7)
			description = Agena upgrade for proposed Atlas V upper stage. Tested, but cancelled when studies showed it would be more economical to use single engine centaur instead.
			specLevel = prototype
			maxThrust = 67.5 //15170 lbf
			minThrust = 67.5
			heatProduction = 100
			ullage = False //(1) p 1-4
			pressureFed = False
			ignitions = 15
			massMult = 1.0394
			gimbalRange = 5

			PROPELLANT // (6) - 1.83 ratio for MON3/MMH
			{
				name = MMH
				ratio = 0.4691
				DrawGauge = False
			}

			PROPELLANT
			{
				name = MON3
				ratio = 0.5309
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 336 // (7)
				key = 1 75
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
		}
		CONFIG
		{
			name = XLR81-LF2-SPS // (5)
			description = Liquid Fluorine based design, proposed for use on the GE D-2 Apollo vehicle, and later high performance Agena tugs.
			specLevel = prototype
			maxThrust = 53.7 //12 klbf
			minThrust = 17.7 //3.98 klbf
			heatProduction = 100
			ullage = False //(1) p 1-4
			pressureFed = False	//Because engine was intended to be used mostly in pump-fed mode, pressurization system is included in engine mass
			ignitions = 15
			massMult = 1.1811	//Including mass of pressurization system that allowed it to function in HP mode
			gimbalRange = 5

			//Only 2 thrust settings, 12 klbf in pump-fed mode or 4 klbf in pressurefed mode
			throttleCurve
			{
				key = 0.000 0.33 0.0 0.0
				key = 0.500 0.33 0.0 0.0
				key = 0.501 1.00 0.0 0.0
				key = 1.000 1.00 0.0 0.0
			}

			PROPELLANT // (5) - 11.92 ratio for LF2/LH2
			{
				name = LqdFluorine
				ratio = 0.3599
				DrawGauge = False
			}

			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.6401
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 446.2 // (5)
				key = 1 75
			}

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.2
			}
		}
	}
}

//no data
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Model117]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Model117
		testedBurnTime = 120
		ratedBurnTime = 60		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.8
		ignitionReliabilityEnd = 0.85
		ignitionDynPresFailMultiplier = 10.0 //was intended to be launched from a B-58
		cycleReliabilityStart = 0.8
		cycleReliabilityEnd = 0.9
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Model117] { %ratedBurnTime = #$/TESTFLIGHT[Model117]/ratedBurnTime$ } }
}

//sharing data with XLR81-BA-5 since the only difference was propellant and nozzle extension
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR81-BA-3]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = XLR81-BA-3
		testedBurnTime = 150
		ratedBurnTime = 100		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		// pump-fed, so failure is as likely to be ignition as during runtime
		//Identical to XLR81-BA-5 other than nozzle, give same reliability since only two were launched
		ignitionReliabilityStart = 0.889167
		ignitionReliabilityEnd = 0.982500
		
		cycleReliabilityStart = 0.883333
		cycleReliabilityEnd = 0.981579
		techTransfer = Model117:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[XLR81-BA-3] { %ratedBurnTime = #$/TESTFLIGHT[XLR81-BA-3]/ratedBurnTime$ } }
}

//Thor-DM18 Agena-A: 15 flights, 1 failures (1 cycle)
//Atlas-LV3 Agena-A: 4 flights, 1 failures (1 ignition)
//19 ignitions, 1 failures
//18 cycles, 1 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR81-BA-5]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = XLR81-BA-5
		testedBurnTime = 180
		ratedBurnTime = 120		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		ignitionReliabilityStart = 0.889167
		ignitionReliabilityEnd = 0.982500
		
		cycleReliabilityStart = 0.883333
		cycleReliabilityEnd = 0.981579
		techTransfer = XLR81-BA-3,Model117:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[XLR81-BA-5] { %ratedBurnTime = #$/TESTFLIGHT[XLR81-BA-5]/ratedBurnTime$ } }
}

//Atlas-LV3 Agena-B: 24 flights, 2 failures (2 reignition failures)
//Atlas-SLV3 Agena-B: 1 flights, 0 failures
//Thor-DM21 Agena-B (Thor-SLV2 Agena-B): 38 flights, 5 failures (1 ignition, 2 reignition, 2 cycle)
//Thor-SLV2 Agena-B (TAT Agena-B): 4 flights, 1 failures (1 cycle)
//Assuming 2 ignitions per flight
//67 ignitions, 1 failure
//66 cycles, 2 failures
//64 restarts, 4 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR81-BA-7]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = XLR81-BA-7
		testedBurnTime = 480
		ratedBurnTime = 240		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		restartWindowPenalty		//cannot restart between 15 minutes and 3 hours due to heatsoak in turbopumps
		{
			key = 0 1 0 0
			key = 900 1 0 0		//sharp drop after 15 minutes
			key = 1800 0 0 0
			key = 8874 0.5025576 0.0002037228 0.0002375458		//gentle slope back up as pumps cool down
			key = 10800 1 0 0
		}
		ignitionReliabilityStart = 0.944823
		ignitionReliabilityEnd = 0.991288
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.948010
		cycleReliabilityEnd = 0.991791
		techTransfer = XLR81-BA-5,XLR81-BA-3,Model117:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[XLR81-BA-7] { %ratedBurnTime = #$/TESTFLIGHT[XLR81-BA-7]/ratedBurnTime$ } }
}

//Atlas-LV3 Agena-D: 15 flights, 0 failures
//Atlas-SLV3 Agena-D: 46 flights, 3 failures (1 cycle, 1 ignition, 1 reignition)
//Atlas-SLV3A Agena-D: 11 flights, 0 failures
//Atlas-E/F Agena-D: 1 flight, 0 failures

//Thor-DM21 Agena-D: 15 flights, 0 failures
//Thor-SLV2A Agena-D: 57 flights, 1 failures (1 reignition)
//Thorad-SLV2G Agena-D: 29 flights, 1 failures (1 cycle)
//Thorad-SLV2H Agena-D: 12 flights, 0 failures

//Titan-IIIB Agena-D: 21 flights, 0 failures
//Titan-III(23)B Agena-D: 9 flights, 0 failures
//Titan-III(33)B Agena-D: 3 flights, 1 failure (1 ignition)
//Titan-III(24)B Agena-D: 22 flights, 1 failure (i ignition)
//Titan-III(34)B: 11 flights, 0 failures
//Assuming 2 ignitions per flight
//252 ignitions, 3 failures
//249 cycles, 2 failures
//247 restarts, 2 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR81-BA-11]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = XLR81-BA-11
		testedBurnTime = 640
		ratedBurnTime = 240		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		restartWindowPenalty		//cannot restart between 15 minutes and 3 hours due to heatsoak in turbopumps
		{
			key = 0 1 0 0
			key = 900 1 0 0		//sharp drop after 15 minutes
			key = 1800 0 0 0
			key = 8874 0.5025576 0.0002037228 0.0002375458		//gentle slope back up as pumps cool down
			key = 10800 1 0 0
		}
		ignitionReliabilityStart = 0.985433
		ignitionReliabilityEnd = 0.997700
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.986067
		cycleReliabilityEnd = 0.997800
		techTransfer = XLR81-BA-7,XLR81-BA-5,XLR81-BA-3,Model117:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[XLR81-BA-11] { %ratedBurnTime = #$/TESTFLIGHT[XLR81-BA-11]/ratedBurnTime$ } }
}

//Same as BA-11, with reignition kit
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR81-BA-13]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = XLR81-BA-13
		testedBurnTime = 640
		ratedBurnTime = 240		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		restartWindowPenalty		//cannot restart between 15 minutes and 3 hours due to heatsoak in turbopumps
		{
			key = 0 1 0 0
			key = 900 1 0 0		//sharp drop after 15 minutes
			key = 1800 0 0 0
			key = 8874 0.5025576 0.0002037228 0.0002375458		//gentle slope back up as pumps cool down
			key = 10800 1 0 0
		}
		ignitionReliabilityStart = 0.985433
		ignitionReliabilityEnd = 0.997700
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.986067
		cycleReliabilityEnd = 0.997800
		techTransfer = XLR81-BA-11,XLR81-BA-7,XLR81-BA-5,XLR81-BA-3,Model117:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[XLR81-BA-13] { %ratedBurnTime = #$/TESTFLIGHT[XLR81-BA-13]/ratedBurnTime$ } }
}

//same as BA-11, with different fuel type
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Model8096-39]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Model8096-39
		testedBurnTime = 640
		ratedBurnTime = 240		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		restartWindowPenalty		//cannot restart between 15 minutes and 3 hours due to heatsoak in turbopumps
		{
			key = 0 1 0 0
			key = 900 1 0 0		//sharp drop after 15 minutes
			key = 1800 0 0 0
			key = 8874 0.5025576 0.0002037228 0.0002375458		//gentle slope back up as pumps cool down
			key = 10800 1 0 0
		}
		ignitionReliabilityStart = 0.985433
		ignitionReliabilityEnd = 0.997700
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.986067
		cycleReliabilityEnd = 0.997800
		techTransfer = XLR81-BA-13,XLR81-BA-11,XLR81-BA-7,XLR81-BA-5,XLR81-BA-3,Model117:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Model8096-39] { %ratedBurnTime = #$/TESTFLIGHT[Model8096-39]/ratedBurnTime$ } }
}

//no data, never flew
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Model8096A]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Model8096A
		testedBurnTime = 640
		ratedBurnTime = 240		//Ran to 640 seconds during HDA tests with no damage
		safeOverburn = true
		restartWindowPenalty		//cannot restart between 15 minutes and 3 hours due to heatsoak in turbopumps
		{
			key = 0 1 0 0
			key = 900 1 0 0		//sharp drop after 15 minutes
			key = 1800 0 0 0
			key = 8874 0.5025576 0.0002037228 0.0002375458		//gentle slope back up as pumps cool down
			key = 10800 1 0 0
		}
		ignitionReliabilityStart = 0.985433
		ignitionReliabilityEnd = 0.997700
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.986067
		cycleReliabilityEnd = 0.997800
		techTransfer = Model8096-39,XLR81-BA-13,XLR81-BA-11,XLR81-BA-7,XLR81-BA-5,XLR81-BA-3,Model117:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Model8096A] { %ratedBurnTime = #$/TESTFLIGHT[Model8096A]/ratedBurnTime$ } }
}

//no data, never flew
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Model8096L]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Model8096L
		ratedBurnTime = 36000		//"only apparent limitation is the three-year calender life". Give 10 hours
		ratedContinuousBurnTime = 1200		//Intended for reusable shuttle tug, rated for 1200 seconds continuous burn. 
		//material changes in turbopump allowed restart at any time
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.985433
		ignitionReliabilityEnd = 0.997700
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.986067
		cycleReliabilityEnd = 0.997800
		techTransfer = Model8096-39A,Model8096-39,XLR81-BA-13:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Model8096L] { %ratedBurnTime = #$/TESTFLIGHT[Model8096L]/ratedBurnTime$ } }
	@MODULE[ModuleEngineConfigs] { @CONFIG[Model8096L] { %ratedContinuousBurnTime = #$/TESTFLIGHT[Model8096L]/ratedContinuousBurnTime$ } }
}

//no data, never flew
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Model8096C]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Model8096C
		ratedBurnTime = 36000		//"only apparent limitation is the three-year calender life". Give 10 hours
		ratedContinuousBurnTime = 1200		//Intended for reusable shuttle tug, rated for 1200 seconds continuous burn. 
		//material changes in turbopump allowed restart at any time
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.985433
		ignitionReliabilityEnd = 0.997700
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.986067
		cycleReliabilityEnd = 0.997800
		techTransfer = Model8096-39A,Model8096-39,XLR81-BA-13:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Model8096C] { %ratedBurnTime = #$/TESTFLIGHT[Model8096C]/ratedBurnTime$ } }
	@MODULE[ModuleEngineConfigs] { @CONFIG[Model8096C] { %ratedContinuousBurnTime = #$/TESTFLIGHT[Model8096C]/ratedContinuousBurnTime$ } }
}

//no data, never flew. Using RL10A-4 data, since it shared many components with the RL10A-4
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Agena-2000]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Agena-2000
		testedBurnTime = 1200 // guess
		ratedBurnTime = 700		//683 seconds required for propellant depletion.
		// pump-fed, so failure is as likely to be ignition as during runtime
		ignitionReliabilityStart = 0.985433
		ignitionReliabilityEnd = 0.997700
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.986067
		cycleReliabilityEnd = 0.997800
		techTransfer = Model8096C,Model8096-39A,Model8096-39,XLR81-BA-13:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Agena-2000] { %ratedBurnTime = #$/TESTFLIGHT[Agena-2000]/ratedBurnTime$ } }
}

//no data, never flew
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[XLR81-LF2-SPS]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = XLR81-LF2-SPS
		testedBurnTime = 480 // guess, but probably lower than regular due to LF2
		ratedBurnTime = 360	//No burn time listed. Time assumed to allow for mission completion even with single engine failure, with margin.
		// pump-fed pressure fed hybrid. Allegedly only 1% worse reliability than pure pressurefed engine
		safeOverburn = true
		// uses XLR81-BA-13 stats, but without restart penalty
		// and with increaed upper end for human-rating
		
		// pressure fed mode bypasses pumps and significantly drops chamber pressure
		// Agena is already very durable, give 15x burn time in pressurefed mode
		thrustModifier
		{
			key = 0.00 0.07 0 0
			key = 0.50 0.07 0 0
			key = 1.00 1.00 0 0
		}
		
		ignitionReliabilityStart = 0.958763
		ignitionReliabilityEnd = 0.994
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.958763
		cycleReliabilityEnd = 0.995
		techTransfer = XLR81-BA-13,XLR81-BA-11,XLR81-BA-7,XLR81-BA-5,XLR81-BA-3,Model117:20
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[XLR81-LF2-SPS] { %ratedBurnTime = #$/TESTFLIGHT[XLR81-LF2-SPS]/ratedBurnTime$ } }
}
