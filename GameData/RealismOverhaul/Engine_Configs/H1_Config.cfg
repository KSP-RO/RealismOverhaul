//	==================================================
//	H-1/RS-27
//
//	Manufacturer: Rocketdyne
//
//	=================================================================================
//	H-1 165K
//	1961, SA-1 through SA-4. Actually downrated H-1-188k.
//
//	Dry Mass: 911? Kg
//	Thrust (SL): 733.9563 kN	[3/10] 165klbf sl
//	Thrust (Vac): 846.76 kN
//	ISP: 255.7 SL / 295? Vac		SL calculated with RPA
//	Burn Time: 155
//	Chamber Pressure: 4.05? MPa
//	Propellant: LOX / RP1
//	Prop Ratio: 2.23?
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//  Gimbal: 10.5
//	=================================================================================
//	H-1 188K
//	1964, SA-5 through SA-10
//
//	Dry Mass: 911? Kg
//	Thrust (SL): 836.26536 kN	[3/10] 188klbf sl
//	Thrust (Vac): 950.19 kN
//	ISP: 259.63 SL / 295 Vac		SL calculated with RPA
//	Burn Time: 155
//	Chamber Pressure: 4.52 MPa		[8]
//	Propellant: LOX / RP1
//	Prop Ratio: 2.23		[8]
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//  Gimbal: 10.5
//	=================================================================================
//	H-1 200K
//	1966, SA-201 through SA-205
//
//	Dry Mass: 911 Kg
//	Thrust (SL): 886.530 kN		[9] 199,300 klbf sl
//	Thrust (Vac): 997.93 kN
//	ISP: 262.07 SL / 295 Vac		SL calculated with RPA
//	Burn Time: 155
//	Chamber Pressure: 4.75 MPa		[9]
//	Propellant: LOX / RP1
//	Prop Ratio: 2.338		[9]
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//  Gimbal: 10.5
//	=================================================================================
//	H-1 205K
//	1973, SA-206 through SA-210
//
//	Dry Mass: 911 Kg
//	Thrust (SL): 908.771 kN		[9] 204,300 klbf sl
//	Thrust (Vac): 1021.01 kN
//	ISP: 262.57 SL / 295 Vac	[1]
//	Burn Time: 155
//	Chamber Pressure: 4.82 MPa		[9]
//	Propellant: LOX / RP1
//	Prop Ratio: 2.341		[1/9]
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//  Gimbal: 10.5
//	=================================================================================
//	H-1 250K
//	1976? Uprated S-IB concept
//
//	Dry Mass: 911 Kg
//	Thrust (SL): 1112.1 kN		250,000 klbf sl
//	Thrust (Vac): 1224.46 kN
//	ISP: 267.93 SL / 295 Vac		SL calculated with RPA
//	Burn Time: 155
//	Chamber Pressure: 5.78? MPa
//	Propellant: LOX / RP1
//	Prop Ratio: 2.34?
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//  Gimbal: 10.5
//	=================================================================================
//	H-2 250K
//	1968? SII concept [12]
//	H-2 baseline performance at 250k matched H-1 188k.
//	Assume 0.5 percentage point increase in combustion efficiency from tap-off cycle
//
//	Dry Mass: 915 kg	[12] SII engine section estimated weight only 0.44% heavier than SI
//	Thrust (SL): 1112.1 kN		250,000 klbf sl [12]
//	Thrust (Vac): 1260.7 kN
//	ISP: 262.0 SL / 297 Vac		calculated with RPA
//	Burn Time: 155
//	Chamber Pressure: 4.52 MPa		same as 188k?
//	Propellant: LOX / RP1
//	Prop Ratio: 2.34?
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//	=================================================================================
//	H-2 300K
//	1976? Uprated S-II concept
//	H-2 baseline performance at 250k matched H-1 188k. Scale to 300k to get chamber pressure, etc.
//	Assume 0.5 percentage point increase in combustion efficiency from tap-off cycle
//
//	Dry Mass: 915 kg	[12] SII engine section estimated weight only 0.44% heavier than SI
//	Thrust (SL): 1334.5 kN		300,000 klbf sl [12]
//	Thrust (Vac): 1480.6 kN
//	ISP: 267.70 SL / 297 Vac		calculated with RPA
//	Burn Time: 155
//	Chamber Pressure: 5.42? MPa
//	Propellant: LOX / RP1
//	Prop Ratio: 2.34?
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//	=================================================================================
//	RS-27
//	1974
//
//	Dry Mass: 1072 Kg
//	Thrust (SL): 971 kN
//	Thrust (Vac): 1023 kN
//	ISP: 264 SL / 295 Vac
//	Burn Time: 240
//	Chamber Pressure: 4.85 MPa
//	Propellant: LOX / RP1
//	Prop Ratio: 2.245	[3/6]
//	Throttle: N/A
//	Nozzle Ratio: 8
//	Ignitions: 1
//  Gimbal: 8.5
//	=================================================================================
//	RS-27A
//	1989
//
//	Dry Mass: 1147 Kg
//	Thrust (SL): 890.1 kN
//	Thrust (Vac): 1054.23 kN
//	ISP: 255 SL / 302 Vac		[2]
//	Burn Time: 265   // [A] Nominal Flight Duration: 265s
//	Chamber Pressure: 4.82 MPa		[2]
//	Propellant: LOX / RP1
//	Prop Ratio: 2.245		[3]
//	Throttle: N/A
//	Nozzle Ratio: 12		[2]
//	Ignitions: 1
//  Gimbal: 8.5
//	=================================================================================

//	Sources:

//	[1] MSFC-MAN-206 Skylab Saturn IB Flight Manual (1972): https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19740021163.pdf

//	[2] https://web.archive.org/web/20190307173028/https://www.rocket.com/rs-27a-engine
//	[3] https://web.archive.org/web/20211229003426/http://www.alternatewars.com/BBOW/Space_Engines/Rocketdyne_Engines.htm
//	[4] https://web.archive.org/web/20160520063133/http://www.apollosaturn.com/sibnews/sec4.htm
//	[5] https://web.archive.org/web/20041022144943/http://history.nasa.gov/SP-4206/ch4.htm
//	[6] http://www.astronautix.com/engines/rs27a.htm
//	[7] https://web.archive.org/web/20190714132700/https://www.history.nasa.gov/SP-4012/vol3/table1.31.htm
//	[8] http://www.b14643.de/Spacerockets/Specials/U.S._Rocket_engines/engines.htm
//	[9] https://web.archive.org/web/20211229003426/http://www.alternatewars.com/BBOW/Space_Engines/H-1C-D_Manual.pdf
//	[10] https://web.archive.org/web/20220531043804/https://www.alternatewars.com/BBOW/Space_Engines/Saturn_H-1_Design_Features.pdf
//	[11] https://web.archive.org/web/20211229003426/http://www.alternatewars.com/BBOW/Space_Engines/Launch_Vehicles_Engines_PDP_1-JAN-1967.pdf
//	[12] https://nsarchive2.gwu.edu/NSAEBB/NSAEBB479/docs/EBB-Moon01A_sm.pdf
//	[13] http://heroicrelics.org/info/h-1/saturn-h-1-engine-design-features.html
//      [A] History of Liquid Propellant Rocket Engines, George P. Sutton, Page 409 Table 7.8-1
//      [A] History of Liquid Propelland Rocket Engines, George P. Sutton, Page 424

//	Used by:
//		FASA
//		KW Rocketry
//		Squad
//		BDB
//	==================================================

@PART[*]:HAS[#engineType[H1]]:FOR[RealismOverhaulEngines]
{
	%title = #roH1Title	//H-1/RS-27
	%manufacturer = #roMfrRocketdyne
	%description = #roH1Desc	//The H-1 is an upgrade to the original LR79 engine that propelled the Saturn-I and IB vehicles, as well as late-model Delta rockets (as the RS-27). The H-1/RS-27 are optimized for the first-stage main engine role. The RS-27A has a higher expansion ratio optimized for performance at altitude since liftoff thrust on the Delta II is augmented by solid boosters.

	@tags ^= :$: USA rocketdyne north american h-1 rs-27 liquid pump booster kerosene lqdoxygen

	%specLevel = operational

	@MODULE[ModuleEngines*]
	{
		%EngineType = LiquidFuel
	}

	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 10.5
		%useGimbalResponseSpeed = True
		%gimbalResponseSpeed = 15 // 15 Degrees per second
	}

	!MODULE[ModuleEngineConfigs],*{}
	!MODULE[ModuleAlternator] {}
	!RESOURCE,*{}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = H-1-165K
		origMass = 0.911
		CONFIG
		{
			name = H-1-165K
			description = Earliest prototype version of the H-1 Engine that flew on the Saturn I, Block I. It is rated at 165k lbf sea level thrust.
			specLevel = operational
			minThrust = 846.76
			maxThrust = 846.76
			heatProduction = 100
			massMult = 1.0

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 295
				key = 1 255.7
			}

			//Saturn 1 Block I: 4 flights, 0 failures
			//32 engines flown, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 350	//leave at 350, had embrittlement issues
				ratedBurnTime = 155
				safeOverburn = true
				ignitionReliabilityStart = 0.971212
				ignitionReliabilityEnd = 0.995455
				cycleReliabilityStart = 0.971212
				cycleReliabilityEnd = 0.995455
				techTransfer = S-3D,S-3:25	//Based on S-3
			}
		}

		CONFIG
		{
			name = H-1-188K
			description = Improved version of the H-1 Engine for the Saturn I, Block II. It is rated at 188k lbf sea level thrust.
			specLevel = operational
			minThrust = 950.19
			maxThrust = 950.19
			heatProduction = 100
			massMult = 1.0

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 295
				key = 1 259.63
			}

			//Saturn 1 Block II: 6 flights, 0 failures
			//48 engines, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 775
				ratedBurnTime = 155
				safeOverburn = true
				ignitionReliabilityStart = 0.980612
				ignitionReliabilityEnd = 0.996939
				cycleReliabilityStart = 0.980612
				cycleReliabilityEnd = 0.996939
				techTransfer = S-3D,S-3:25&H-1-165K:50
			}
		}
		
		CONFIG
		{
			name = H-1-200K
			description = H-1 Engine that flew on the first 5 Saturn IB launches. It is rated at 200k lbf sea level thrust.
			specLevel = operational
			minThrust = 997.93
			maxThrust = 997.93
			heatProduction = 100
			massMult = 1.0

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 295
				key = 1 262.07
			}

			//Saturn 1B: 5 flights, 0 failures
			//40 engines, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 2025	//[11] target lifetime 2025 seconds
				ratedBurnTime = 155
				safeOverburn = true
				ignitionReliabilityStart = 0.976829
				ignitionReliabilityEnd = 0.996341
				cycleReliabilityStart = 0.976829
				cycleReliabilityEnd = 0.996341
				techTransfer = S-3D,S-3:25&H-1-188K,H-1-165K:50
			}
		}
		
		CONFIG
		{
			name = H-1-205K
			description = Final version of the H-1 Engine for the Saturn IB that flew on the 4 flights of Skylab and ASTP. It is rated at 205k lbf sea level thrust.
			specLevel = operational
			minThrust = 1021.01
			maxThrust = 1021.01
			heatProduction = 100
			massMult = 1.0

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 295
				key = 1 262.57
			}

			//Saturn 1B (Skylab): 4 flights, 0 failures
			//32 engines, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 2025	//[11] target lifetime 2025 seconds
				ratedBurnTime = 155
				safeOverburn = true
				ignitionReliabilityStart = 0.976829
				ignitionReliabilityEnd = 0.996341
				cycleReliabilityStart = 0.976829
				cycleReliabilityEnd = 0.996341
				techTransfer = S-3D,S-3:25&H-1-200K,H-1-188K,H-1-165K:50
			}
		}

		CONFIG
		{
			name = H-1-250K
			description = Maximum possible thrust for H-1 design, proposed for a post-Apollo uprated Saturn IB. Although engines were tested at increased thrust levels, the end of Apollo and selection of Titan III over Saturn IB meant this was never developed further.
			specLevel = concept
			minThrust = 1224.46
			maxThrust = 1224.46
			heatProduction = 100
			massMult = 1.0

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 295
				key = 1 267.93
			}

			//No data, same as 205K
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 2025	//[11] target lifetime 2025 seconds
				ratedBurnTime = 155
				safeOverburn = true
				ignitionReliabilityStart = 0.976829
				ignitionReliabilityEnd = 0.996341
				cycleReliabilityStart = 0.976829
				cycleReliabilityEnd = 0.996341
				techTransfer = S-3D,S-3:25&H-1-205K,H-1-200K,H-1-188K,H-1-165K:50
			}
		}

		CONFIG
		{
			name = H-2-250K
			description = Enhanced H-1 design, featuring an enlarged, tap-off cycle turbopump and simplified components to increase thrust and reduce cost. Intended to power the Saturn-II and later versions of the Saturn-I, but development was cancelled due to satisfactory performance of the H-1 at increased thrust levels.
			specLevel = concept
			minThrust = 1260.7
			maxThrust = 1260.7
			heatProduction = 100
			massMult = 1.0044

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 297
				key = 1 262
			}

			//No data, same as 205K
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 3600	//simplified and theoretically less stressed due to enlarged pumps
				ratedBurnTime = 155
				safeOverburn = true
				ignitionReliabilityStart = 0.976829
				ignitionReliabilityEnd = 0.996341
				cycleReliabilityStart = 0.976829
				cycleReliabilityEnd = 0.996341
				techTransfer = S-3D,S-3:25&H-1-188K,H-1-165K:50
			}
		}

		CONFIG
		{
			name = H-2-300K
			description = Enhanced H-1 design, featuring an enlarged, tap-off cycle turbopump and simplified components to increase thrust and reduce cost. Intended to power the Saturn-II and later versions of the Saturn-I, but development was cancelled due to satisfactory performance of the H-1 at increased thrust levels.
			specLevel = speculative		//300klbf version only mentioned in passing for future uprating
			minThrust = 1480.6
			maxThrust = 1480.6
			heatProduction = 100
			massMult = 1.0044

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 297
				key = 1 267.7
			}

			//No data, same as 205K
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 3600	//simplified and theoretically less stressed due to enlarged pumps
				ratedBurnTime = 155
				safeOverburn = true
				ignitionReliabilityStart = 0.976829
				ignitionReliabilityEnd = 0.996341
				cycleReliabilityStart = 0.976829
				cycleReliabilityEnd = 0.996341
				techTransfer = S-3D,S-3:25&H-2-250K,H-1-205K,H-1-200K,H-1-188K,H-1-165K:50
			}
		}

		CONFIG
		{
			name = RS-27
			description = Remanufactured H-1 for use with Delta
			specLevel = operational
			maxThrust = 1023
			minThrust = 1023
			heatProduction = 100
			massMult = 1.0395

			%gimbalRange = 8.5
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3880
				DrawGauge = true
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6120
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 295
				key = 1 264
			}

			//Delta 2310: 3 flights, 0 failures
			//Delta 2313: 3 flights, 0 failures
			//Delta 2910: 6 flights, 0 failures
			//Delta 2913: 2 flights, 0 failures
			//Delta 2914: 30 flights, 0 failures
			//Delta 3910: 3 flights, 0 failures
			//Delta 3913: 1 flight, 0 failures
			//Delta 3914: 13 flights, 2 failures. 1 Failure due to SRMs
			//Delta 3910 PAM-D: 7 flights, 0 failures
			//Delta 3920: 4 flights, 0 failures
			//Delta 3924: 4 flights, 0 failures
			//Delta 3920 PAM-D: 6 flights, 0 failures
			//Delta 5920: 1 flight, 0 failures
			//Delta 6920: 3 flights, 0 failures
			//Delta 6925: 14 flights, 0 failures
			//100 engines, 1 failure
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 2025	//[11] target lifetime 2025 seconds
				ratedBurnTime = 240
				safeOverburn = true
				ignitionReliabilityStart = 0.978053
				ignitionReliabilityEnd = 0.996535
				cycleReliabilityStart = 0.978053
				cycleReliabilityEnd = 0.996535
				techTransfer = S-3D,S-3:25&H-1-205K,H-1-200K,H-1-188K,H-1-165K:50
			}
		}

		CONFIG
		{
			name = RS-27A
			description = RS-27 with a higher expansion nozzle for Delta II
			specLevel = operational
			maxThrust = 1054.23
			minThrust = 1054.23
			heatProduction = 100
			massMult = 1.10425

			%gimbalRange = 8.5
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1
			}

			PROPELLANT
			{
				name = RP-1
				ratio = 0.3870
				DrawGauge = true
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6130
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 302
				key = 1 255
			}

			//Delta 7320: 12 flights, 0 failures
			//Delta 7326: 3 flights, 0 failures
			//Delta 7420: 14 flights, 0 failures
			//Delta 7425: 4 flights, 0 failures
			//Delta 7426: 1 flight, 0 failures
			//Delta 7920: 29 flights, 0 failures
			//Delta 7925: 69 flights, 2 failures. 2 failures due to SRMs
			//Delta 7920H: 3 flights, 0 failures
			//Delta 7925H: 3 flights, 0 failures
			//Delta 8930: 3 flights, 2 failures. 1 failure due to SRMs, 1 due to upper stage
			//141 engines, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 2025	//[11] target lifetime 2025 seconds
				ratedBurnTime = 265
				safeOverburn = true
				ignitionReliabilityStart = 0.993310
				ignitionReliabilityEnd = 0.998944
				cycleReliabilityStart = 0.993310
				cycleReliabilityEnd = 0.998944
				techTransfer = S-3D,S-3:25&RS-27,H-1-205K,H-1-200K,H-1-188K,H-1-165K:50
			}
		}
	}

	RESOURCE
	{
		name = TEATEB
		amount = 1
		maxAmount = 1
	}
}
