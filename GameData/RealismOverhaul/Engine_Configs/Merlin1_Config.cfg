//	==================================================
//	Merlin 1
//
//	Manufacturer: SpaceX
//
//	=================================================================================
//	Merlin 1A
//	Falcon 1
//
//	Dry Mass: 760 Kg
//	Thrust (SL): 324.7 kN
//	Thrust (Vac): 369.2 kN
//	ISP: 253.7 SL / 288.5 Vac
//	Burn Time: 240
//	Chamber Pressure: 5.39 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.17
//	Throttle: N/A
//	Nozzle Ratio: 14.5
//	Ignitions: 1
//	=================================================================================
//	Merlin 1B
//	Falcon 1+
//
//	Dry Mass: 760 Kg
//	Thrust (SL): 348.7 kN
//	Thrust (Vac): 394.6 kN
//	ISP: 264.5 SL / 299.2 Vac
//	Burn Time: 240
//	Chamber Pressure: 6.08 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.17
//	Throttle: N/A
//	Nozzle Ratio: 16
//	Ignitions: 1
//	=================================================================================
//	Merlin 1BVac
//	
//
//	Dry Mass: ??? Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 421.6 kN
//	ISP: ??? SL / 332.1 Vac
//	Burn Time: 240
//	Chamber Pressure: 6.08 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.17
//	Throttle: N/A
//	Nozzle Ratio: 117
//	Ignitions: 1
//	=================================================================================
//	Merlin 1C
//	Falcon 9 Block I (v1.0)
//
//	Dry Mass: 630 Kg
//	Thrust (SL): 422.6 kN
//	Thrust (Vac): 482.63 kN
//	ISP: 267 SL / 304.8 Vac
//	Burn Time: 240
//	Chamber Pressure: 6.14 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.17
//	Throttle: N/A
//	Nozzle Ratio: 16
//	Ignitions: 1
//	=================================================================================
//	Merlin 1CVac
//	Falcon 9 Block I (v1.0)
//
//	Dry Mass: 760 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 524.9 kN
//	ISP: ??? SL / 336 Vac
//	Burn Time: 400
//	Chamber Pressure: 6.14 MPa
//	Propellant: LOX / PR-1
//	Prop Ratio: 2.17
//	Throttle: 100% to 60%
//	Nozzle Ratio: 117
//	Ignitions: 4
//	=================================================================================
//	Merlin 1D
//	Falcon 9 v1.1
//
//	Dry Mass: 470 Kg
//	Thrust (SL): 654.3 kN
//	Thrust (Vac): 742.4 kN
//	ISP: 282 SL / 311 Vac
//	Burn Time: 240
//	Chamber Pressure: 9.72 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.34
//	Throttle: 100% to 39%
//	Nozzle Ratio: 21.4
//	Ignitions: 4
//	=================================================================================
//	Merlin 1D+
//	Falcon 9 v1.2 (Full Thrust)
//
//	Dry Mass: 470 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 825 kN
//	ISP: 282 SL / 311 Vac
//	Burn Time: 240
//	Chamber Pressure: 10.8 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.36
//	Throttle: 100% to 39%
//	Nozzle Ratio: 21.4
//	Ignitions: 4
//	=================================================================================
//	Merlin 1D++
//	Falcon 9 Block 5
//
//	Dry Mass: 470 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 914.22 kN
//	ISP: 282 SL / 311 Vac
//	Burn Time: 240
//	Chamber Pressure: 10.8 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.36
//	Throttle: 100% to 39%
//	Nozzle Ratio: 21.4
//	Ignitions: 4
//	=================================================================================
//	Merlin 1DVac
//	Falcon 9 v1.1
//
//	Dry Mass: 490 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 805 kN
//	ISP: ??? SL / 345 Vac
//	Burn Time: 400
//	Chamber Pressure: 9.72 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.36
//	Throttle: 100% to 39%
//	Nozzle Ratio: 117
//	Ignitions: 4
//	=================================================================================
//	Merlin 1DVac+
//	Falcon 9 v1.2 (Full Thrust, Block 5)
//
//	Dry Mass: 490 Kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 934.12 kN
//	ISP: ??? SL / 348 Vac
//	Burn Time: 400
//	Chamber Pressure: 10.8 MPa
//	Propellant: LOX / RP-1
//	Prop Ratio: 2.36
//	Throttle: 100% to 39%
//	Nozzle Ratio: 117
//	Ignitions: 4
//	=================================================================================

//	Sources:

//	[1] http://spaceflight101.com/spacerockets/falcon-9-v1-1-f9r/
//	[2] http://www.spacex.com/falcon9 (2015-09-21)
//	[3] http://www.spacex.com/falcon9 (2016-05-14)
//	[4] https://www.quora.com/Is-SpaceXs-Merlin-1Ds-thrust-to-weight-ratio-of-150+-believable
//	[5] https://twitter.com/elonmusk/status/728753234811060224 (min thrust of Merlin1D+ is ~40%)
//	[6] http://www.spacex.com/press/2012/12/19/spacex-falcon-9-upper-stage-engine-successfully-completes-full-mission-duration
//	[7] http://www.spacex.com/press/2012/12/19/spacex-completes-development-merlin-regeneratively-cooled-rocket-engine
//	[8] https://www.youtube.com/watch?v=rUDLxFUMC9c (eyeballed burn times)
//	[9] http://www.b14643.de/Spacerockets/Specials/U.S._Rocket_engines/engines.htm

//	Used by:

//	* LazTek
//	* RealFuels
//	* StarShine Industries
//	* SSTU

//	Notes:

//	* None of the Merlin 1 engines ever really failed, with the
//	  exception of the SpX-1/CRS-1 flight anomaly. The TF configs
//	  should not be considered complete by any means.
//	==================================================

@PART[*]:HAS[#engineType[Merlin1]]:FOR[RealismOverhaulEngines]
{
	%category = Engine
	%title = #roMerlin1Title	//Merlin 1
	%manufacturer = #roMfrSpaceX
	%description = #roMerlin1Desc	//The whole family of Merlin 1 rocket engines, made by SpaceX.

	@tags ^= :$: USA spacex merlin 1 liquid pump booster kerosene lqdoxygen

	%specLevel = operational

	@MODULE[ModuleEngines*]
	{
		%EngineType = LiquidFuel
	}

	!MODULE[ModuleEngineConfigs],*{}
	!MODULE[ModuleAlternator],*{}
	!RESOURCE,*{}

	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 5
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 8
	}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = Merlin1A
		origMass = 0.76

		CONFIG
		{
			name = Merlin1A
			description = Used on Falcon 1 first stage
			specLevel = operational
			minThrust = 369.2
			maxThrust = 369.2
			heatProduction = 58
			massMult = 1.0

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3907
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6093
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 288.5
				key = 1 253.7
			}

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 4.0
			}
		}

		CONFIG
		{
			name = Merlin1B
			specLevel = prototype
			minThrust = 394.6
			maxThrust = 394.6
			heatProduction = 64
			massMult = 1.0			// From Wikipedia: turbopump weight was unchanged at 150 lbs.

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3907
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6093
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 302.3
				key = 1 260.8
			}

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 4.0
			}
		}

		CONFIG
		{
			name = Merlin1BVac
			specLevel = prototype
			minThrust = 421.6
			maxThrust = 421.6
			heatProduction = 63
			massMult = 1.2			// No good source but it should be heavier than the SL version.

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3907
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6093
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 332.1
				key = 1 195.5
			}

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 4.0
			}
		}

		CONFIG
		{
			name = Merlin1C
			description = Used on Falcon 9 Block 1 (v1.0)
			specLevel = operational
			minThrust = 482.63
			maxThrust = 482.63
			heatProduction = 96
			massMult = 0.829

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3907
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6093
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 304.8
				key = 1 267
			}

			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 4.0
			}
		}

		CONFIG
		{
			name = Merlin1CVac
			description = Used on Falcon 9 Block 1 (v1.0)
			specLevel = operational
			minThrust = 314.94
			maxThrust = 524.9		// [9]
			heatProduction = 76
			massMult = 1.0

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3907
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6093
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 336			// [9]
				key = 1 173
			}

			ullage = True
			pressureFed = False
			ignitions = 4

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.500
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1.0
			}
		}

		CONFIG
		{
			name = Merlin1D
			description = Used on Falcon 9 v1.1
			specLevel = operational
			minThrust = 290
			maxThrust = 742.4
			heatProduction = 196
			massMult = 0.6184

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3729
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6271
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 311
				key = 1 282
			}

			ullage = True
			pressureFed = False
			ignitions = 4

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1.0
			}
		}

		CONFIG
		{
			name = Merlin1D+
			description = Used on Falcon 9 v1.2 (Full Thrust)
			specLevel = operational
			minThrust = 330
			maxThrust = 825			//[2]
			heatProduction = 225
			massMult = 0.6184

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3729
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6271
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 311			// FIXME: M1D+ Isp is not same as M1D, exact spec difficult to pin down.
				key = 1 282
			}

			ullage = True
			pressureFed = False
			ignitions = 4

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1.0
			}
		}

		CONFIG
		{
			name = Merlin1D++		// Uprated again, slated to fly in mid/late 2016.
			description = Used on Falcon 9 Block 5
			specLevel = operational
			minThrust = 330			// [5]
			maxThrust = 914.12		// [3]
			heatProduction = 248
			massMult = 0.6184

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3729
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6271
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 311			// FIXME: M1D+ Isp is not same as M1D, exact spec difficult to pin down.
				key = 1 288.5
			}

			ullage = True
			pressureFed = False
			ignitions = 4

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1.0
			}
		}

		CONFIG
		{
			name = Merlin1DVac
			description = Used on Falcon 9 v1.1
			specLevel = operational
			minThrust = 360
			maxThrust = 805
			heatProduction = 233
			massMult = 0.6447

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3709
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6291
			}

			atmosphereCurve
			{
				key = 0 345
				key = 1 200
			}

			ullage = True
			pressureFed = False
			ignitions = 4

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1.0
			}
		}

		CONFIG
		{
			name = Merlin1DVac+
			description = Used on Falcon 9 v1.2 (Full Thrust and Block 5)
			specLevel = operational
			minThrust = 360
			maxThrust = 934.12		 // [2]
			heatProduction = 225
			massMult = 0.6447

			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3709
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6291
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 348
				key = 1 200
			}

			ullage = True
			pressureFed = False
			ignitions = 4

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			IGNITOR_RESOURCE
			{
				name = TEATEB
				amount = 1.0
			}
		}
	}

	RESOURCE
	{
		name = TEATEB
		amount = 4.0
		maxAmount = 4.0
	}
}

//	==================================================
//	TestFlight compatibility.
//	==================================================
//Falcon 1: 5 flights, 1 failure
//
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1A]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1A
		ratedBurnTime = 170		//ablative, no extra time
		ignitionReliabilityStart = 0.750000
		ignitionReliabilityEnd = 0.941667
		cycleReliabilityStart = 0.750000	//capped at 75%
		cycleReliabilityEnd = 0.941667
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1A] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1A]/ratedBurnTime$ } }
}

//Never flown?
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1B]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1B
		ratedBurnTime = 170		//non reusable
		ignitionReliabilityStart = 0.90
		ignitionReliabilityEnd = 0.99
		cycleReliabilityStart = 0.90
		cycleReliabilityEnd = 0.99
		techTransfer = Merlin1A:50&Merlin1BVac:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1B] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1B]/ratedBurnTime$ } }
}

//Never flown?
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1BVac]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1BVac
		ratedBurnTime = 345		//non reusable
		ignitionReliabilityStart = 0.90
		ignitionReliabilityEnd = 0.99
		cycleReliabilityStart = 0.90
		cycleReliabilityEnd = 0.99
		techTransfer = Merlin1A:50&Merlin1B:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1BVac] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1BVac]/ratedBurnTime$ } }
}

//Falcon-9 v1.0: 5 flights, 1 failure
//45 engines, 1 failed
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1C]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1C
		testedBurnTime = 1620		//rated for 10 flights 
		ratedBurnTime = 170
		safeOverburn = true
		overburnPenalty = 1		//Actually intended to run for this long
		ignitionReliabilityStart = 0.951812
		ignitionReliabilityEnd = 0.992391
		cycleReliabilityStart = 0.951812
		cycleReliabilityEnd = 0.992391
		techTransfer = Merlin1BVac,Merlin1B,Merlin1A:50&Merlin1CVac:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1C] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1C]/ratedBurnTime$ } }
}

//Falcon 9 v1.0: 5 flights, 0 failures
//5 ignitions, 0 failures
//5 cycles, 0 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1CVac]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1CVac
		testedBurnTime = 1620		//same as -1C
		ratedBurnTime = 345
		safeOverburn = true
		overburnPenalty = 1		// Actually intended to run for this long
		
		// assume roughly exponential relationship between chamber pressure and lifespan
		thrustModifier
		{
			key = 0.00 0.05 0 0
			key = 1.00 1.00 3 3
		}
		
		ignitionReliabilityStart = 0.841667
		ignitionReliabilityEnd = 0.975000
		cycleReliabilityStart = 0.841667
		cycleReliabilityEnd = 0.975000
		techTransfer = Merlin1BVac,Merlin1B,Merlin1A:50&Merlin1C:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1CVac] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1CVac]/ratedBurnTime$ } }
}
//Falcon-9 v1.1: 7 flights, 1 failure. (1 cycle)
//Falcon-9 v1.1(ex): 8 flights, 0 failures
//135 ignitions, 0 failures.
//135 cycles, 1 failures
//24 restarts, 1 failures.
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1D]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1D
		testedBurnTime = 1620		//rated for 10 flights 
		ratedBurnTime = 180
		safeOverburn = true
		overburnPenalty = 1		// Actually intended to run for this long
		
		// assume roughly exponential relationship between chamber pressure and lifespan
		thrustModifier
		{
			key = 0.00 0.05 0 0
			key = 1.00 1.00 3 3
		}
		
		ignitionReliabilityStart = 0.986146
		ignitionReliabilityEnd = 0.997813
		cycleReliabilityStart = 0.983701
		cycleReliabilityEnd = 0.997426
		techTransfer = Merlin1CVac,Merlin1C,Merlin1BVac,Merlin1B,Merlin1A:50&Merlin1DVac:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1D] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1D]/ratedBurnTime$ } }
}

//Falcon-9 v1.2: 28 flights, 0 failures
//Falcon-9 v1.2(ex): 8 flights, 0 failures
//324 ignitions, 0 failures
//324 cycles, 0 failures
//72 restarts, 0 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1D+]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1D+
		testedBurnTime = 1620		//rated for 10 flights 
		ratedBurnTime = 162
		safeOverburn = true
		overburnPenalty = 1		// Actually intended to run for this long
		
		// assume roughly exponential relationship between chamber pressure and lifespan
		thrustModifier
		{
			key = 0.00 0.05 0 0
			key = 1.00 1.00 3 3
		}
		
		ignitionReliabilityStart = 0.997607
		ignitionReliabilityEnd = 0.999622
		cycleReliabilityStart = 0.997077
		cycleReliabilityEnd = 0.999538
		techTransfer = Merlin1D,Merlin1CVac,Merlin1C,Merlin1BVac,Merlin1B,Merlin1A:50&Merlin1DVac+:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1D+] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1D+]/ratedBurnTime$ } }
}

//Falcon-9FT: 28 flights, 1 failures (1 cycle)
//Falcon-9FT(ex): 8 flights, 0 failures
//Falcon-9 Block 5: 68 flights, 2 failures (2 cycle)
//Falcon-9 Block 5 (ex): 2 flights, 0 failures
//Falcon Heavy: 3 flights, 1 failures (1 restart)
//1035 ignitions, 0 failures
//1035 cycles, 3 failures
//420 restarts, 1 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1D++]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1D++
		testedBurnTime = 2430		//rated for 10 flights? Several B5 boosters have over 10 flights. Uprate to 15 flights?
		ratedBurnTime = 162
		safeOverburn = true
		overburnPenalty = 1		// Actually intended to run for this long
		
		// assume roughly exponential relationship between chamber pressure and lifespan
		thrustModifier
		{
			key = 0.00 0.05 0 0
			key = 1.00 1.00 3 3
		}
		
		ignitionReliabilityStart = 0.999348
		ignitionReliabilityEnd = 0.999760
		cycleReliabilityStart = 0.995415
		cycleReliabilityEnd = 0.999276
		techTransfer = Merlin1D+,Merlin1D,Merlin1CVac,Merlin1C,Merlin1BVac,Merlin1B,Merlin1A:50
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1D++] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1D++]/ratedBurnTime$ } }
}

//Falcon-9 v1.1: 6 flights, 0 failures
//Falcon-9 v1.1(ex): 8 flights, 0 failures
//14 ignitions, 0 failures
//14 cycles, 0 failures
//Assuming 2 ignitions per flight average
//14 restarts, 0 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1DVac]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1DVac
		testedBurnTime = 1620		//same as -1D
		ratedBurnTime = 375
		safeOverburn = true
		overburnPenalty = 1		// Actually intended to run for this long
		
		// assume roughly exponential relationship between chamber pressure and lifespan
		thrustModifier
		{
			key = 0.00 0.05 0 0
			key = 1.00 1.00 3 3
		}
		
		ignitionReliabilityStart = 0.967241
		ignitionReliabilityEnd = 0.994828
		cycleReliabilityStart = 0.936667
		cycleReliabilityEnd = 0.990000
		techTransfer = Merlin1CVac,Merlin1C,Merlin1BVac,Merlin1B,Merlin1A:50&Merlin1D:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1DVac] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1DVac]/ratedBurnTime$ } }
}

//Falcon-9FT: 28 flights, 0 failures
//Falcon-9FT(ex): 8 flights, 0 failures
//Falcon-9 Block 5: 68 flights, 0 failures
//Falcon-9 Block 5 (ex): 2 flights, 0 failures
//Falcon Heavy: 3 flights, 0 failures.
//109 ignitions, 0 failures
//109 cycles, 0 failures
//Assuming 2 ignitions per flight average
//109 restarts, 0 failures
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[Merlin1DVac+]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]:NEEDS[TestLite|TestFlight]
{
	TESTFLIGHT
	{
		name = Merlin1DVac+
		testedBurnTime = 1620		//same as -1D+
		ratedBurnTime = 400
		safeOverburn = true
		overburnPenalty = 1		// Actually intended to run for this long
		
		// assume roughly exponential relationship between chamber pressure and lifespan
		thrustModifier
		{
			key = 0.00 0.05 0 0
			key = 1.00 1.00 3 3
		}
		
		ignitionReliabilityStart = 0.995662
		ignitionReliabilityEnd = 0.999315
		cycleReliabilityStart = 0.991364
		cycleReliabilityEnd = 0.998636
		techTransfer = Merlin1DVac,Merlin1D,Merlin1CVac,Merlin1C,Merlin1BVac,Merlin1B,Merlin1A:50&Merlin1D+:100
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[Merlin1DVac+] { %ratedBurnTime = #$/TESTFLIGHT[Merlin1DVac+]/ratedBurnTime$ } }
}
