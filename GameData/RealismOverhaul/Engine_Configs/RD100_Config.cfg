//	==================================================
//	RD-100
//
//	Manufacturer: NPO Energomash (OKB-456)
//
//	=================================================================================
//	RD-100
//	R-1
//
//	Dry Mass: 1209 Kg
//	Thrust (SL): 257 kN
//	Thrust (Vac): 304 kN
//	ISP: 199 SL / 233 Vac
//	Burn Time: 70
//	Chamber Pressure: 1.62 MPa
//	Propellant: LOX / Ethanol75
//	Prop Ratio: 1.28
//	Throttle: N/A
//	Nozzle Ratio: ???
//	Ignitions: 1
//	=================================================================================
//	RD-101
//	R-2
//
//	Dry Mass: 1178 Kg
//	Thrust (SL): 363 kN
//	Thrust (Vac): 404 kN
//	ISP: 210 SL / 237 Vac
//	Burn Time: 85
//	Chamber Pressure: 2.16 MPa
//	Propellant: LOX / Ethanol90
//	Prop Ratio: 1.45
//	Throttle: N/A
//	Nozzle Ratio: ???
//	Ignitions: 1
//	=================================================================================
//	RD-102
//	R-3A
//
//	Dry Mass: 1209 Kg // Not in [A], changing from 885 relative to -100's mass change
//	Thrust (SL): ??? kN
//	Thrust (Vac): 428 kN
//	ISP: 214 SL / 235 Vac
//	Burn Time: 83
//	Chamber Pressure: ??? MPa
//	Propellant: LOX / Ethanol90
//	Prop Ratio: ???
//	Throttle: N/A
//	Nozzle Ratio: ???
//	Ignitions: 1
//	=================================================================================
//	RD-103
//	R-5
//
//	Dry Mass: 1194 Kg // Not in [A], changing from 885 relative to -100's mass change
//	Thrust (SL): ??? kN
//	Thrust (Vac): 490.33 kN
//	ISP: 220 SL / 248 Vac
//	Burn Time: 130
//	Chamber Pressure: 2.39 MPa
//	Propellant: LOX / Ethanol90
//	Prop Ratio: 1.44
//	Throttle: N/A
//	Nozzle Ratio: ???
//	Ignitions: 1
//	=================================================================================
//	RD-103M
//	R-5M
//
//	Dry Mass: 1867 Kg
//	Thrust (SL): 432 kN
//	Thrust (Vac): 500.14 kN
//	ISP: 232 SL / 300 Vac
//	Burn Time: 140
//	Chamber Pressure: 2.44 MPa
//	Propellant: LOX / Ethanol90
//	Prop Ratio: 1.69
//	Throttle: N/A
//	Nozzle Ratio: ???
//	Ignitions: 1
//	=================================================================================

//	Sources:


//	NPO Energomash - Liquid rocket engines list:					http://www.npoenergomash.ru/encikloped/dvizki/
//	Exponenta Educational Mathematical Site - Aeroengines:			http://www.k204.ru/books/Aviadvigatel2.pdf
//	Alternate Wars - The Development of Rocket Engines in the USSR: http://www.alternatewars.com/BBOW/Space_Engines/Germans_USSR_Engines.pdf
//	Alternate Wars - Russian Space Engines:							http://www.alternatewars.com/BBOW/Space_Engines/Russian_Engines.htm
//	Liquid Propellant Rocket Engines - Experimental Engines:		http://www.lpre.de/energomash/ED/index.htm
//	Norbert Br√ºgge - Russian liquid propellant engines:				http://www.b14643.de/Spacerockets/Specials/Russian_Rocket_engines/engines.htm
//	Encyclopedia Astronautica - RD-100 engine:						http://astronautix.com/r/rd-100.html
//	Encyclopedia Astronautica - RD-101 engine:						http://astronautix.com/r/rd-101.html
//	Encyclopedia Astronautica - RD-102 engine:						http://astronautix.com/r/rd-102.html
//	Encyclopedia Astronautica - RD-103 engine:						http://astronautix.com/r/rd-103.html
//	Encyclopedia Astronautica - RD-103M engine:						http://astronautix.com/r/rd-103m.html
//  [A] History of Liquid Propellant Rocket Engines, George P. Sutton, Page 589 Table 8.4-1
//      Sub-Sources:
//          Liquid Propellant Rocket Engines in the Soviet Union, International Academy of Astronautics, Paper 99-2-3-04
//          Rocket Engines from the Glushko Design Bureau, British Interplanetary Society
//          Personal Communications, J. Morehart

//	Used by:

//	* RealEngines pack
//	* Ven Stock Revamp

//	Notes:

//	*The gimbal range defined here is not a true value, since the actual engine did not have
//	a mechanical gimbal capability for the engine and/or nozzle. Instead, we simulate the
//	operation of the jet vanes used to steer the engine exhaust products.
//	==================================================
//

@PART[*]:HAS[#engineType[RD100]]:FOR[RealismOverhaulEngines]
{
	%category = Engine
	%title = RD-100 Series (Early)
	%manufacturer = NPO Energomash (OKB-456)
	%description = The RD-100 engine series were the first large scale Ethalox Russian liquid propellant rocket engines ever developed and fired. The original RD-100 engine was a 1:1 copy of the German Model 39 engine (used on the A-4 ballistic missile), with later variants (RD-101 and RD-103/M) featuring ever increasing performance to satisfy the needs of the larger R-2 and R-5 IRBMs.

	@MODULE[ModuleEngines*]
	{
		%EngineType = LiquidFuel
	}

	!MODULE[ModuleEngineConfigs],*{}
	!MODULE[ModuleAlternator],*{}
	!RESOURCE,*{}

	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 2.0
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = RD-100
		origMass = 1.209
		literalZeroIgnitions = True

		CONFIG
		{
			name = RD-100
			minThrust = 304
			maxThrust = 304
			heatProduction = 35
			massMult = 1.0
			ullage = True
			pressureFed = False
			ignitions = 0

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = Ethanol75
				ratio = 0.5305
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.4695
				DrawGauge = False
			}

			PROPELLANT
			{
				name = HTP
				ratio = 0.01
				ignoreForIsp = True
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 233
				key = 1 199
			}
		}

		CONFIG
		{
			name = RD-101
			minThrust = 404.0
			maxThrust = 404.0
			heatProduction = 45
			massMult = 0.9744 // 1.178t
			ullage = True
			pressureFed = False
			ignitions = 0

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = Ethanol90
				ratio = 0.4945
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.5055
				DrawGauge = False
			}

			PROPELLANT
			{
				name = HTP
				ratio = 0.01
				ignoreForIsp = True
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 237
				key = 1 210
			}
		}

		CONFIG
		{
			name = RD-102
			minThrust = 428.0
			maxThrust = 428.0
			heatProduction = 45
			massMult = 1
			ullage = True
			pressureFed = False
			ignitions = 0

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = Ethanol90
				ratio = 0.4945
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.5055
				DrawGauge = False
			}

			PROPELLANT
			{
				name = HTP
				ratio = 0.01
				ignoreForIsp = True
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 235
				key = 1 214
			}
		}

		CONFIG
		{
			name = RD-103
			minThrust = 490.33
			maxThrust = 490.33
			heatProduction = 55
			massMult = 0.9875
			ullage = True
			pressureFed = False
			ignitions = 0
			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = Ethanol90
				ratio = 0.4945
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.5055
				DrawGauge = False
			}

			PROPELLANT
			{
				name = HTP
				ratio = 0.01
				ignoreForIsp = True
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 248
				key = 1 220
			}
		}

		CONFIG
		{
			name = RD-103M
			minThrust = 500.14
			maxThrust = 500.14
			heatProduction = 57
			massMult = 1.54425
			ullage = True
			pressureFed = False
			ignitions = 0

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = Ethanol90
				ratio = 0.4945
				DrawGauge = True
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.5055
				DrawGauge = False
			}

			PROPELLANT
			{
				name = HTP
				ratio = 0.01
				ignoreForIsp = True
				DrawGauge = False
			}

			atmosphereCurve
			{
				key = 0 300
				key = 1 232
			}
		}
	}
}

//	==================================================
//	TestFlight compatibility.
//	==================================================

@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[RD-100]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = RD-100
		ratedBurnTime = 70
		ignitionReliabilityStart = 0.85
		ignitionReliabilityEnd = 0.95
		ignitionDynPresFailMultiplier = 2.0
		cycleReliabilityStart = 0.75
		cycleReliabilityEnd = 0.94
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[RD-100] { %ratedBurnTime = #$/TESTFLIGHT[RD-100]/ratedBurnTime$ } }
}

@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[RD-101]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = RD-101
		ratedBurnTime = 85
		ignitionReliabilityStart = 0.86
		ignitionReliabilityEnd = 0.94
		ignitionDynPresFailMultiplier = 2.0
		cycleReliabilityStart = 0.78
		cycleReliabilityEnd = 0.93
		techTransfer = RD-100:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[RD-101] { %ratedBurnTime = #$/TESTFLIGHT[RD-101]/ratedBurnTime$ } }
}

@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[RD-102]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = RD-102
		ratedBurnTime = 83
		ignitionReliabilityStart = 0.87
		ignitionReliabilityEnd = 0.93
		ignitionDynPresFailMultiplier = 2.0
		cycleReliabilityStart = 0.8
		cycleReliabilityEnd = 0.92
		techTransfer = RD-101:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[RD-102] { %ratedBurnTime = #$/TESTFLIGHT[RD-102]/ratedBurnTime$ } }
}

@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[RD-103]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = RD-103
		ratedBurnTime = 130
		ignitionReliabilityStart = 0.82
		ignitionReliabilityEnd = 0.93
		ignitionDynPresFailMultiplier = 2.0
		cycleReliabilityStart = 0.82
		cycleReliabilityEnd = 0.91
		techTransfer = RD-102:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[RD-103] { %ratedBurnTime = #$/TESTFLIGHT[RD-103]/ratedBurnTime$ } }
}

@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[RD-103M]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = RD-103M
		ratedBurnTime = 140
		ignitionReliabilityStart = 0.84
		ignitionReliabilityEnd = 0.94
		ignitionDynPresFailMultiplier = 2.0
		cycleReliabilityStart = 0.84
		cycleReliabilityEnd = 0.92
		techTransfer = RD-103:50
		reliabilityDataRateMultiplier = 1
	}
	@MODULE[ModuleEngineConfigs] { @CONFIG[RD-103M] { %ratedBurnTime = #$/TESTFLIGHT[RD-103M]/ratedBurnTime$ } }
}
