//  ==================================================
//  SNTP-FFE200
//
//	Manufacturer: Grumman & Aerojet
//
//  =================================================================================
//	SNTP Prototype
//	
//
//	Dry Mass: 1898 kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 200 kN
//	ISP: 748 SL / 955 Vac
//	Burn Time: 600
//	Chamber Pressure: 6.8 MPa
//	Propellant: LH2
//	Prop Ratio: N/A
//	Engine Nozzle: ???
//	Nozzle Exit Area: ???
//	Nozzle Ratio: 200
//	Ignitions: 5
//  =================================================================================
//	SNTP Production
//	Assuming same upgrades as the SNTP-PFE
//
//	Dry Mass: 1898 kg
//	Thrust (SL): ??? kN
//	Thrust (Vac): 237.8 kN	//Goal TWR of 25:1, not including shielding
//	ISP: 762 SL / 969 Vac
//	Burn Time: 1000
//	Chamber Pressure: 6.8 MPa
//	Propellant: LH2
//	Prop Ratio: N/A
//	Engine Nozzle: ???
//	Nozzle Exit Area: ???
//	Nozzle Ratio: 200
//	Ignitions: 5
//  =================================================================================


//  Sources:
//	USAF - Space Nuclear Thermal Propulsion Program Final Report:									https://apps.dtic.mil/dtic/tr/fulltext/u2/a305996.pdf
//	Design of Particle Bed Reactors for the Space Nuclear Thermal Propulsion Program				https://www.sciencedirect.com/science/article/pii/0149197095000804

//  Used by:
//	


//	Notes:
//	
//  ==================================================
@PART[*]:HAS[#engineType[SNTPFFE200]]:FOR[RealismOverhaulEngines]
{
	@title = SNTP-FFE200 "Full Flow Expander Cycle Space Nuclear Thermal Propulsion"
	%manufacturer = Grumman & Aerojet
        
    MODULE
    {
        name = ModuleEngineConfigs
        type = ModuleEngines
        configuration = SNTPFFE200
        modded = false
        origMass = 1.898

		CONFIG
		{
			name = SNTPFFE200
			description = LV-03/DE-01 technology demonstrator
			minThrust = 40
			maxThrust = 200
			exhaustDamage = True
			ignitionThreshold = 0.1
			massMult = 1			
			ignitions = 5
			%ullage = True
			%throttleResponseRate = 0.035 //should be around 10 secs too fully ramp up to 100% from 0%.  Actual ramp data may not be available.
			%throttleStartedMult = 0.8
			%throttleStartupMult = 5.0
			
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 1.0
				DrawGauge = True
			}
			PROPELLANT
			{
				name = EnrichedUranium
				ratio = 0.00000000001
			}
			atmosphereCurve
			{
				key = 0 955
				key = 1 748
			}
			%chamberNominalTemp  = 2720
			%maxEngineTemp = 3700
		}
		CONFIG
		{
			name = SNTPFFE200-Production
			description = Production engine predicted performance. Increased core temperature to 3000K and Carbon-Carbon turbopumps to handle higher flow rates and inlet temperatures
			minThrust = 47.56
			maxThrust = 237.8
			exhaustDamage = True
			ignitionThreshold = 0.1
			massMult = 1			
			ignitions = 5
			%ullage = True
			%throttleResponseRate = 0.035 //should be around 10 secs too fully ramp up to 100% from 0%.  Actual ramp data may not be available.
			%throttleStartedMult = 0.8
			%throttleStartupMult = 5.0
			
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 1.0
				DrawGauge = True
			}
			PROPELLANT
			{
				name = EnrichedUranium
				ratio = 0.00000000001
			}
			atmosphereCurve
			{
				key = 0 954
				key = 1 747
			}
			%chamberNominalTemp  = 3000
			%maxEngineTemp = 3700
		}
 	}
    RESOURCE
    {
        name = EnrichedUranium
        amount = 3
        maxAmount = 3
    }
    RESOURCE
    {
        name = DepletedUranium
        amount = 0
        maxAmount = 3
    }
    
    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 3
        %useGimbalResponseSpeed = true
        %gimbalResponseSpeed = 16
    }
    !MODULE[ModuleAlternator]
    {
    }
    !RESOURCE[ElectricCharge]
    {
    }
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[SNTPFFE200]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = SNTPFFE200-Hydrogen
		ratedBurnTime = 1200 // 20 minutes
		explicitDataRate = True
		ignitionReliabilityStart = 0.99
		ignitionReliabilityEnd = 0.999997
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.999
		cycleReliabilityEnd = 0.999997
		reliabilityMidV = 0.8
		reliabilityMidH = 0.1
		reliabilityMidTangentWeight = 0
		reliabilityDataRateMultiplier = 100 // due to the burn time
	}
}
@PART[*]:HAS[@MODULE[ModuleEngineConfigs]:HAS[@CONFIG[SNTPFFE200-Production]],!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = SNTPFFE200-Hydrogen-Production
		ratedBurnTime = 2100 // 35 minutes
		explicitDataRate = True
		ignitionReliabilityStart = 0.99
		ignitionReliabilityEnd = 0.999997
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.999
		cycleReliabilityEnd = 0.999997
		reliabilityMidV = 0.8
		reliabilityMidH = 0.1
		reliabilityMidTangentWeight = 0
		reliabilityDataRateMultiplier = 100 // due to the burn time
		techTransfer = SNTPFFE200-Hydrogen:50
	}
}
