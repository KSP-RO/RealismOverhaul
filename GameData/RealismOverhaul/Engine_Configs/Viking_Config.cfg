//	==================================================
//	Viking Series Engine
//
//	Manufacturer: Société Européenne de Propulsion
//
//	=================================================================================
//	Viking 2
//	M60, Ariane ground tests (squinting at engineering cam footage, Ariane 1 first launch had bell nozzles)
//
//	Dry Mass: 776 Kg
//	Thrust (SL): 591 kN
//	Thrust (Vac): 698 kN	from [3]
//	ISP: 239.3 SL / 282.4 Vac	from [3]
//	Burn Time: 145
//	Chamber Pressure: 5.345 MPa	from [3]
//	Propellant: NTO / UDMH
//	Prop Ratio: 1.86	from [1]
//	Throttle: N/A
//	Nozzle Ratio: 13.9	from [1], best match for performance from [3] according to RPA
//	Ignitions: 1
//	=================================================================================
//	Viking 5
//	Viking 2 with bell nozzle, Ariane 1
//
//	Dry Mass: 876 Kg
//	Thrust (SL): 611 kN
//	Thrust (Vac): 692.8 kN	from [3]
//	ISP: 247.5 SL / 280.6 Vac	from [3]
//	Burn Time: 145
//	Chamber Pressure: 5.44 MPa	from [3]
//	Propellant: NTO / UDMH
//	Prop Ratio: 1.86	from [1]
//	Throttle: N/A
//	Nozzle Ratio: 10.46	from [3]
//	Ignitions: 1
//	===================================================================================
//	Viking 4
//	Vac version, Ariane 1
//
//	Dry Mass: 905 Kg	from [3]
//	Thrust (SL): ??? kN
//	Thrust (Vac): 721.4 kN	from [3]
//	ISP: 200 SL / 289.9 Vac	from [1], SL calculated with RPA
//	Burn Time: 132
//	Chamber Pressure: 5.236 MPa	from [3]
//	Propellant: NTO / UDMH
//	Prop Ratio: 1.86	from [2]
//	Throttle: N/A
//	Nozzle Ratio: 30.83	from [3]
//	Ignitions: 1
//	===================================================================================
//	Viking 5B
//	UH25 fuel for increased performance, Ariane 2/3
//
//	Dry Mass: 826 kg	from [4], assuming same as Viking 5C
//	Thrust (SL): 650.9 kN
//	Thrust (vac): 748.2 kN	from [3], assuming 8% thrust growth over Viking 5
//	ISP: 242.3 SL / 278.5 vac	from [4], same as Viking 5C?
//	Burn Time: 205
//	Chamber Pressure: 5.85 MPa	from [4]
//	Propellant: NTO / UH25
///	Prop Ratio: 1.71	from [1], [4]
//	Throttle: N/A
//	Nozzle Ratio: 10.46	from [3]
//	Ignitions: 1
//	===================================================================================
//	Viking 4B
//	UH25 fuel for increased performance, Ariane 2/3
//
//	Dry Mass: 886 Kg	from [4], same as Viking 4C?
//	Thrust (SL): ??? kN
//	Thrust (vac): 784.8 kN	from [1]
//	ISP: 206 SL / 290.7 vac	from [1], SL calculated with RPA
//	Burn Time: 125
//	Chamber Pressure: 5.85 MPa	from [4]
//	Propellant: NTO / UH25
///	Prop Ratio: 1.71	from [1], [4]
//	Throttle: N/A
//	Nozzle Ratio: 30.83	from [3], [4]
//	Ignitions: 1
//	===================================================================================
//	Viking 5C
//	Thrust increased for Ariane 4
//
//	Dry Mass: 826 kg	from [4]
//	Thrust (SL): ??? kN
//	Thrust (vac): 760 kN	from [1], [2], [4]
//	ISP: 242.3 SL / 278.5 vac	from [4]
//	Burn Time: 205
//	Chamber Pressure: 5.85 MPa	from [4]
//	Propellant: NTO / UH25
///	Prop Ratio: 1.71	from [1], [4]
//	Throttle: N/A
//	Nozzle Ratio: 10.46	from [3]
//	Ignitions: 1
//	===================================================================================
//	Viking 4C
//	Thrust increased for Ariane 4
//
//	Dry Mass: 886 Kg	from [4]
//	Thrust (SL): ??? kN
//	Thrust (vac): 808 kN	from [1], [2], [4]
//	ISP: 208 SL / 292.7 vac	from [1], [2], [4], SL calculated with RPA
//	Burn Time: 125
//	Chamber Pressure: 5.85 MPa	from [4]
//	Propellant: NTO / UH25
///	Prop Ratio: 1.71	from [1], [4]
//	Throttle: N/A
//	Nozzle Ratio: 30.83	from [3], [4]
//	Ignitions: 1
//	===================================================================================
//	Viking 6
//	Booster version
//
//	Dry Mass: 826 kg	from [4]
//	Thrust (SL): 680 kN
//	Thrust (vac): 760 kN	from [4]
//	ISP: 242.3 SL / 278.3 vac	from [4]
//	Burn Time: 142
//	Chamber Pressure: 5.85 MPa	from [4]
//	Propellant: NTO / UH25
///	Prop Ratio: 1.71	from [4]
//	Throttle: N/A
//	Nozzle Ratio: 10.46	from [3]
//	Ignitions: 1
//	=================================================================================
//
//	SOURCES:

//	[1] https://web.archive.org/web/20151222161122/http://www.b14643.de/Spacerockets_1/India/Vikas/Vikas.htm
//	[2] https://www.bernd-leitenberger.de/ariane.shtml
//	[3] http://www.capcomespace.net/dossiers/espace_europeen/ariane/ariane1/moteur_viking.htm
//	[4] http://www.capcomespace.net/dossiers/espace_europeen/ariane/ariane4/moteur_viking.htm
//	[5] http://www.capcomespace.net/dossiers/espace_europeen/ariane/ariane1/essais_moteurs/essais_ensemble_propulsif.htm
//	[6] Wikipedia - Viking (rocket engine):																		https://fr.wikipedia.org/wiki/Viking_(moteur-fus%C3%A9e)
//	[7] Astronautix - Viking 2:																					http://www.astronautix.com/v/viking2.html
//  [A] History of Liquid Propellant Rocket Engines, George P. Sutton
//      Sub-Sources:
//          Page 791 Table 10-1
//
//	Used by:
//
//	=================================================================================

@PART[*]:HAS[#engineType[Viking]]:FOR[RealismOverhaulEngines]
{
	%title = #roVikingTitle	//Viking
	%manufacturer = #roMfrSEP
	%description = #roVikingDesc

	@tags ^= :$: france europe sep société européenne de propulsion viking liquid pump booster udmh uh25 nto

	%specLevel = operational

	@MODULE[ModuleEngines*]
	{
		%EngineType = LiquidFuel
	}

	@MODULE[ModuleGimbal],*
	{
		@gimbalRange = 5	//complete guess
		%useGimbalResponseSpeed = True
		%gimbalResponseSpeed = 16
	}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = Viking-2
		origMass = 0.776

		CONFIG
		{
			name = Viking-2
			description = Prototype, used for Ariane 1 ground stage tests.
			specLevel = prototype
			minThrust = 698
			maxThrust = 698
			heatProduction = 100
			massMult = 1.0
			gimbalRange = 5.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UDMH
				ratio = 0.4934
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5066
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 282.4
				key = 1 239.3
			}

			//no data, never flew
			//early vikings had combustion stability issues
			//S-3D reliability I guess
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477	//longest burn of Viking engine during ground tests? [5]
				ratedBurnTime = 145
				safeOverburn = true
				ignitionReliabilityStart = 0.806481
				ignitionReliabilityEnd = 0.969444
				cycleReliabilityStart = 0.806481
				cycleReliabilityEnd = 0.969444
			}
		}

		CONFIG
		{
			name = Viking-5
			description = First stage engine for Ariane 1.
			specLevel = operational
			minThrust = 692.8
			maxThrust = 692.8
			heatProduction = 100
			massMult = 1.1289
			gimbalRange = 5.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UDMH
				ratio = 0.4934
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5066
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 280.6
				key = 1 247.5
			}

			//Ariane 1: 11 flights, 1 failures
			//43 engines, 1 failure
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477	//longest burn of Viking engine during ground tests? [5]
				ratedBurnTime = 145
				safeOverburn = true
				ignitionReliabilityStart = 0.960227
				ignitionReliabilityEnd = 0.992045
				cycleReliabilityStart = 0.960227
				cycleReliabilityEnd = 0.992045
				techTransfer = Viking-4,Viking-2:50
			}
		}

		CONFIG
		{
			name = Viking-4
			description = Second stage engine for Ariane 1.
			specLevel = operational
			minThrust = 721.4
			maxThrust = 721.4
			heatProduction = 100
			massMult = 1.064
			gimbalRange = 5.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UDMH
				ratio = 0.4934
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5066
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 289.9
				key = 1 200
			}

			//Ariane 1: 10 flights, 0 failures
			//10 engines, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477
				ratedBurnTime = 132
				safeOverburn = true
				ignitionReliabilityStart = 0.931818
				ignitionReliabilityEnd = 0.986364
				cycleReliabilityStart = 0.931818
				cycleReliabilityEnd = 0.986364
				techTransfer = Viking-5,Viking-2:50
			}
		}

		CONFIG
		{
			name = Viking-5B
			description = First stage engine for Ariane 2/3. Uses UH25 for extra performance.
			specLevel = operational
			minThrust = 748.2
			maxThrust = 748.2
			heatProduction = 100
			massMult = 1.0644
			gimbalRange = 5.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UH25
				ratio = 0.4961
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5039
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 278.5
				key = 1 242.3
			}

			//Ariane 2: 6 flights, 0 failures
			//Ariane 3: 11 flights, 0 failures
			//68 engines, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477
				ratedBurnTime = 205
				safeOverburn = true
				ignitionReliabilityStart = 0.986232
				ignitionReliabilityEnd = 0.997826
				cycleReliabilityStart = 0.986232
				cycleReliabilityEnd = 0.997826
				techTransfer = Viking-4B,Viking-5,Viking-4,Viking-2:50
			}
		}

		CONFIG
		{
			name = Viking-4B
			description = Second stage engine for Ariane 2/3. Uses UH25 for extra performance.
			specLevel = operational
			minThrust = 784.8
			maxThrust = 784.8
			heatProduction = 100
			massMult = 1.1418
			gimbalRange = 5.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UH25
				ratio = 0.4961
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5039
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 290.7
				key = 1 206
			}

			//share data with 4C because of low sample size
			//Ariane 2: 6 flights, 0 failures
			//Ariane 3: 11 flights, 0 failures
			//Ariane 4: 115 flights, 0 failures
			//132 ignitions, 0 failures
			//132 cycles, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477
				ratedBurnTime = 125
				safeOverburn = true
				ignitionReliabilityStart = 0.992857
				ignitionReliabilityEnd = 0.998872
				cycleReliabilityStart = 0.992857
				cycleReliabilityEnd = 0.998872
				techTransfer = Viking-5B,Viking-5,Viking-4,Viking-2:50
			}
		}

		CONFIG
		{
			name = Viking-5C
			description = First stage engine for Ariane 4.
			specLevel = operational
			minThrust = 760
			maxThrust = 760
			heatProduction = 100
			massMult = 1.0
			gimbalRange = 5.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UH25
				ratio = 0.4961
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5039
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 278.5
				key = 1 242.3
			}

			//Ariane 4: 116 flights, 1 failures
			//464 engines, 1 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477
				ratedBurnTime = 205
				safeOverburn = true
				ignitionReliabilityStart = 0.995233
				ignitionReliabilityEnd = 0.999247
				cycleReliabilityStart = 0.995233
				cycleReliabilityEnd = 0.999247
				techTransfer = Viking-4C,Viking-5B,Viking-4B,Viking-5,Viking-4,Viking-2:50
			}
		}

		CONFIG
		{
			name = Viking-4C
			description = Second stage engine for Ariane 4. Uses UH25 for extra performance.
			specLevel = operational
			minThrust = 808
			maxThrust = 808
			heatProduction = 100
			massMult = 1.1418
			gimbalRange = 5.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UH25
				ratio = 0.4961
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5039
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 292.7
				key = 1 208
			}

			//Ariane 2: 6 flights, 0 failures
			//Ariane 3: 11 flights, 0 failures
			//Ariane 4: 115 flights, 0 failures
			//132 ignitions, 0 failures
			//132 cycles, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477
				ratedBurnTime = 125
				safeOverburn = true
				ignitionReliabilityStart = 0.992857
				ignitionReliabilityEnd = 0.998872
				cycleReliabilityStart = 0.992857
				cycleReliabilityEnd = 0.998872
				techTransfer = Viking-5C,Viking-5B,Viking-4B,Viking-5,Viking-4,Viking-2:50
			}
		}

		CONFIG
		{
			name = Viking-6
			description = Booster engine for Ariane 4
			specLevel = operational
			minThrust = 760
			maxThrust = 760
			heatProduction = 100
			massMult = 1.0644
			gimbalRange = 0.0
			
			ullage = True
			pressureFed = False
			ignitions = 1

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				amount = 0.5
			}

			PROPELLANT
			{
				name = UH25
				ratio = 0.4961
				DrawGauge = True
			}

			PROPELLANT
			{
				name = NTO
				ratio = 0.5039
			}

			PROPELLANT
			{
				name = Water
				ratio = 0.0153	//~3.7 kg/s water
				ignoreForIsp = True
				DrawGauge = False
				resourceFlowMode = STACK_PRIORITY_SEARCH
			}

			atmosphereCurve
			{
				key = 0 278.3
				key = 1 242.3
			}

			//Ariane 4 Liquid Booster: 238 flights, 0 failures.
			//238 engines, 0 failures
			TESTFLIGHT:NEEDS[TestLite|TestFlight]
			{
				testedBurnTime = 477
				ratedBurnTime = 142
				safeOverburn = true
				ignitionReliabilityStart = 0.996025
				ignitionReliabilityEnd = 0.999372
				cycleReliabilityStart = 0.996025
				cycleReliabilityEnd = 0.999372
				techTransfer = Viking-5C,Viking-4C,Viking-5B,Viking-4B,Viking-5,Viking-4,Viking-2:50
			}
		}
	}

	!MODULE[ModuleAlternator]{}

	!RESOURCE,*{}
}
