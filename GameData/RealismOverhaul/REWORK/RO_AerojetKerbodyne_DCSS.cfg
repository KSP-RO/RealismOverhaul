@PART[TankAdapter]:FOR[RealismOverhaul]
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{for
	}
	@MODEL
	{
		scale = 2.01, 2.0, 2.01
	}
	@node_stack_top = 0.0, 0.68, 0.0, 0.0, 1.0, 0.0, 5
	@node_stack_bottom = 0.0, -0.48, 0.0, 0.0, -1.0, 0.0, 5
	@title = MPCV-Stage Adapter
	@description = An adapter to fit ICPS with MPCV Spacecraft Adapter. No one know why they decided to put an adapter beneath another adapter. Anyway, it`s not used in DCSS.
	@mass = 0.15
	@crashTolerance = 12
	@breakingForce = 250
	@breakingTorque = 250
	@maxTemp = 1073.15
}

@PART[ICPSUpperTank]:FOR[RealismOverhaul]
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{
	}
	@MODEL
	{
		scale = 2.01, 2.0, 2.01
	}
	@node_stack_top = 0.0, 1.26, 0.0, 0.0, 1.0, 0.0, 5
	@node_stack_bottom = 0.0, -1.26, 0.0, 0.0, -1.0, 0.0, 5
	!node_attach = DELETE
	@title = DCSS 5m LH2 Tank
	@description = This is the LH2 tank for the DCSS. It goes on the top.
	@crashTolerance = 12
	@breakingForce = 250
	@breakingTorque = 250
	@maxTemp = 1073.15
	!RESOURCE[LiquidFuel]
	{
	}
	!RESOURCE[Oxidizer]
	{
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 56045.2
		type = Structural
		TANK
		{
			name = LqdHydrogen
			amount = 56045.2
			maxAmount = 56045.2
		}
	}
}

@PART[ICPSAdapter]:FOR[RealismOverhaul]
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{
	}
	@MODEL
	{
		scale = 1.94975275, 2.0, 1.94975275
	}
	@node_stack_top = 0.0, 1.26, 0.0, 0.0, 1.0, 0.0, 5
	@node_stack_bottom = 0.0, -1.28, 0.0, 0.0, -1.0, 0.0, 3
	@title = DCSS 5m Adapter Truss
	@description = This truss attaches to the bottom of the LH2 tank and allows the smaller LOX tank to attach to the bottom.
	@crashTolerance = 12
	@breakingForce = 250
	@breakingTorque = 250
	@maxTemp = 1073.15
}

@PART[ICPSLowerTank]:final
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{
	}
	@MODEL
	{
		scale = 1.8868575, 2.0, 1.8868575
	}
	@node_stack_top = 0.0, 0.72, 0.0, 0.0, 1.0, 0.0, 3
	@node_stack_middle = 0.0, -0.30, 0.0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -0.88, 0.0, 0.0, -1.0, 0.0, 3
	!node_attach = DELETE
	%node_stack_bottomstructuralIBeam31 = -1.2,-1.5,0,0,1,0,0
	%node_stack_bottomstructuralIBeam32 = -0.84853,-1.5,0.84853,0,1,0,0
	%node_stack_bottomstructuralIBeam33 = 0,-1.5,1.2,0,-1,0,0
	%node_stack_bottomstructuralIBeam34 = 0.84853,-1.5,0.84853,0,1,0,0
	%node_stack_bottomstructuralIBeam35 = 1.2,-1.5,0,0,-1,0,0
	%node_stack_bottomstructuralIBeam36 = 0.84853,-1.5,-0.84853,0,1,0,0
	%node_stack_bottomstructuralIBeam37 = 0,-1.5,-1.2,0,-1,0,0
	%node_stack_bottomstructuralIBeam38 = -0.84853,-1.5,-0.84853,0,1,0,0
	@title = DCSS 5m LOX Tank
	@description = The liquid oxygen tank for the DCSS with a small Hydrazine tank and equipment shelf. Attaches to the bottom of the adapter truss.
	@crashTolerance = 12
	@breakingForce = 250
	@breakingTorque = 250
	@maxTemp = 1073.15
	!RESOURCE[MonoPropellant]
	{
	}
	!RESOURCE[LiquidFuel]
	{
	}
	!RESOURCE[Oxidizer]
	{
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 20358.6
		type = Structural
		TANK
		{
			name = LqdOxygen
			amount = 20358.6
			maxAmount = 20358.6
		}
	}
	MODULE // need to check exactly how much it drains.
	{
	name = ModuleCommand
	minimumCrew = 0
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.005
		}
	}
	MOUDLE:NEEDS[RP0] // Delat IV M+(5,4) weighs up to 405t of launch mass, and capable of 14t to the LEO, so this could be enough. Definitely Delta IV H needs avionics support.
	{	
		name = ModuleAvionics
		massLimit = 450.0
	}
	MODULE:NEEDS[RemoteTech]
	{
		name = ModuleSPU
		IsRTCommandStation = false
	}
	%MODULE[ModuleRTAntennaPassive]:NEEDS[RemoteTech]	
	{
		%TechRequired = unmannedTech
		%OmniRange = 1000000
		
		%TRANSMITTER 
		{
			%PacketInterval = 0.3
			%PacketSize = 2
			%PacketResourceCost = 0.05
		}
	}
}

+PART[ICPSUpperTank]:first
{
@name = DCSS4mUT
}

@PART[DCSS4mUT]:FOR[RealismOverhaul]
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{
	}
	@MODEL // Didn`t touched Z axis, only make its radius 4m. Need Rescaling.
	{
		scale = 1.5997971, 2.0, 1.5997971
	}
	@node_stack_top = 0.0, 1.3, 0.0, 0.0, 1.0, 0.0, 5
	@node_stack_bottom = 0.0, -1.3, 0.0, 0.0, -1.0, 0.0, 5
	!node_attach = DELETE
	@title = DCSS 4m LH2 Tank
	@description = This is the LH2 tank for the DCSS-4m. It goes on the top.
	@crashTolerance = 12
	@breakingForce = 250
	@breakingTorque = 250
	@maxTemp = 1073.15
	!RESOURCE[LiquidFuel]
	{
	}
	!RESOURCE[Oxidizer]
	{
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 44463
		type = Structural
		TANK
		{
			name = LqdHydrogen
			amount = 44463
			maxAmount = 44463
		}
	}
}

+PART[ICPSLowerTank]:first
{
@name = DCSS4mLT
}

@PART[DCSS4mLT]:final
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{
	}
	@MODEL  // Just shrinked in Z axis as much as it contains less fuel. Might need Rescaling.
	{
		scale = 1.8868575, 1.56765199, 1.8868575
	}
	@node_stack_top = 0.0, 0.56, 0.0, 0.0, 1.0, 0.0, 3
	@node_stack_middle = 0.0, -0.24, 0.0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -0.69, 0.0, 0.0, -1.0, 0.0, 3
	!node_attach = DELETE
	%node_stack_bottomstructuralIBeam31 = -1.2,-1,0,0,-1,0,0
	%node_stack_bottomstructuralIBeam32 = -0.84853,-1,0.84853,0,-1,0,0
	%node_stack_bottomstructuralIBeam33 = 0,-1,1.2,0,-1,0,0
	%node_stack_bottomstructuralIBeam34 = 0.84853,-1,0.84853,0,-1,0,0
	%node_stack_bottomstructuralIBeam35 = 1.2,-1,0,0,-1,0,0
	%node_stack_bottomstructuralIBeam36 = 0.84853,-1,-0.84853,0,-1,0,0
	%node_stack_bottomstructuralIBeam37 = 0,-1,-1.2,0,-1,0,0
	%node_stack_bottomstructuralIBeam38 = -0.84853,-1,-0.84853,0,-1,0,0
	@title = DCSS 4m LOX Tank
	@description = The liquid oxygen tank for the DCSS-4m with a small Hydrazine tank and equipment shelf. Attaches to the bottom of the adapter truss.
	@crashTolerance = 12
	@breakingForce = 250
	@breakingTorque = 250
	@maxTemp = 1073.15
	!RESOURCE[MonoPropellant]
	{
	}
	!RESOURCE[LiquidFuel]
	{
	}
	!RESOURCE[Oxidizer]
	{
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 15957.6
		type = Structural
		TANK
		{
			name = LqdOxygen
			amount = 15957.6
			maxAmount = 15957.6
		}
	}
		MODULE // need to check exactly how much it drains.
	{
	name = ModuleCommand
	minimumCrew = 0
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.005
		}
	}
	MOUDLE:NEEDS[RP0] // Delat IV M+(4,2) weighs up to 300t of launch mass, and capable of 13t to the LEO, so this could be enough.
	{	
		name = ModuleAvionics
		massLimit = 330.0
	}
	MODULE:NEEDS[RemoteTech]
	{
		name = ModuleSPU
		IsRTCommandStation = false
	}
	%MODULE[ModuleRTAntennaPassive]:NEEDS[RemoteTech]	
	{
		%TechRequired = unmannedTech
		%OmniRange = 1000000
		
		%TRANSMITTER 
		{
			%PacketInterval = 0.3
			%PacketSize = 2
			%PacketResourceCost = 0.05
		}
	}
}

@PART[HG10B2] // added more configs
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	MODEL
	{
		model = AerojetKerbodyne/Parts/Engine/HG10B2/HG10B2
		scale = 1.8868575, 2.0, 1.8868575
	}
	@rescaleFactor = 1.0
	@node_stack_top = 0.0, 0.50, 0, 0.0, 1.0, 0.0, 1
	@node_stack_top1 = 0.0, 1.48, 0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -3.2, 0.0, 0.0, -1.0, 0.0, 2
	@category = Propulsion
	@title = Aerojet Rocketdyne RL-10 Series
	%manufacturer = Aerojet Rocketdyne
	@description = The RL-10. Workhorse of upper stages everywhere. O/F Ratio 5.85:1
	@attachRules = 1,0,1,0,0
	@mass = 0.167
	@crashTolerance = 12
	@breakingForce = 250
	@breakingTorque = 250
	@maxTemp = 1973.15
	@MODULE[ModuleJettison]
	{
	}
	@MODULE[ModuleEngines*]
	{
		@minThrust = 111.2055
		@maxThrust = 111.2055
		@heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.734
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.266
		}
		@atmosphereCurve
		{
			@key,0 = 0 462
			@key,1 = 1 235
		}
	}
	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 4.0
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	MODULE
	{
		name = ModuleEngineConfigs
		origMass = 0.167
		type = ModuleEngines
		configuration = RL-10B-2
		modded = false
		CONFIG
		{
			name = RL-10A-3
			minThrust = 65.6
			maxThrust = 65.6
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.763
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.237
			}
			atmosphereCurve
			{
				key = 0 444
				key = 1 255
			}
			massMult = 0.784
		}
		CONFIG
		{
			name = RL-10A-3A
			minThrust = 73.4
			maxThrust = 73.4
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.763
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.237
			}
			atmosphereCurve
			{
				key = 0 444
				key = 1 255
			}
			massMult = 0.844
		}
		CONFIG
		{
			name = RL-10A-4
			minThrust = 92.5
			maxThrust = 92.5
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.745
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.255
			}
			atmosphereCurve
			{
				key = 0 449
				key = 1 255
			}
			massMult = 1.006
		}
		CONFIG
		{
			name = RL-10A-4-1/2
			minThrust = 99.1
			maxThrust = 99.1
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.745
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.255
			}
			atmosphereCurve
			{
				key = 0 451
				key = 1 255
			}
			massMult = 1.0
		}
		CONFIG
		{
			name = RL-10B-2
			minThrust = 111.2055
			maxThrust = 111.2055
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.734
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.266
			}
			atmosphereCurve
			{
				key = 0 462
				key = 1 235
			}
			massMult = 1.659
		}
		CONFIG
		{
			name = RL-10C-1
			minThrust = 106.3125
			maxThrust = 106.3125
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.733
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.267
			}
			atmosphereCurve
			{
				key = 0 448.5
				key = 1 255
			}
			cost = 1000
			techRequired = exoticAlloys
			massMult = 1.1437
		}
		CONFIG
		{
			name = CECE-Base
			minThrust = 5.336
			maxThrust = 66.7
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.763
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.237
			}
			atmosphereCurve
			{
				key = 0 445
				key = 1 100
			}
			massMult = 0.952
			cost = 1500
			techRequired = exoticAlloys
		}
		CONFIG
		{
			name = CECE-High
			minThrust = 111.2
			maxThrust = 111.2
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.763
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.237
			}
			atmosphereCurve
			{
				key = 0 465
				key = 1 100
			}
			massMult = 1.533
			cost = 2000
			techRequired = exoticAlloys
		}
		CONFIG
		{
			name = CECE-Methane
			minThrust = 22.2
			maxThrust = 66.7
			heatProduction = 100
			PROPELLANT
			{
				name = LqdMethane
				ratio = 0.494
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.506
			}
			atmosphereCurve
			{
				key = 0 350
				key = 1 100
			}
			massMult = 0.952
			cost = 1000
			techRequired = exoticAlloys
		}
	}
	MODULE
	{
		name = ModuleEngineIgnitor
		ignitionsAvailable = 5
		autoIgnitionTemperature = 800
		ignitorType = Electric
		useUllageSimulation = true
		isPressureFed = false
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.005
		}
		IGNITOR_RESOURCE
		{
			name = LqdHydrogen
			amount = 0.734
		}
		IGNITOR_RESOURCE
		{
			name = LqdOxygen
			amount = 0.266
		}
	}
	MODULE // Since Lower Tanks already have modular fuel tanks, I had to put servicemodule here. Equipment Shelf comes with engine anyway, isn`t it?
	{
		name = ModuleFuelTanks
		volume = 120
		type = ServiceModule
		TANK // got no clue how much it is, so I estimated it compared to round mono tanks.
		{
			name = Hydrazine
			amount = 100
			maxAmount = 100
		}
		TANK
		{
			name = ElectricCharge
			amount = 20
			maxAmount = 20
		}
	}
}

PART // RCS jets for DCSS. Barely done.
{
	name = MRM-106D
	RSSROConfig = False
	module = Part
	author = FennexFox
	rescaleFactor = 0.3
	PhysicsSignificance = 0
	node_attach = 0,-0.12873,0,0,-1,0,0
	node_stack_bottom = 0,-0.12873,0,0,-1,0,0
	CrewCapacity = 0
	TechRequired = precisionEngineering
	entryCost = 9500
	cost = 485
	category = Control
	subcategory = 0
	title = MRM-106D
	manufacturer = Aerojet Rocketdyne
	description = A tiny hydrazine attitude control system. It only weighs 2.7kg.
	attachRules = 1,1,0,1,0
	mass = 0.003
	dragModelType = override
	maximum_drag = 0
	minimum_drag = 0
	angularDrag = 0
	crashTolerance = 12
	breakingForce = 250
	breakingTorque = 250
	maxTemp = 800
	fuelCrossFeed = True
	MODEL
	{
		model = VenStockRevamp/Squad/Parts/Engine/RCS-Linear
		position = -0.09058,-0.00541,0.02683
		scale = 1.25,1.25,1.25
		rotation = 90,315,0
	}
	MODEL
	{
		model = VenStockRevamp/Squad/Parts/Engine/RCS-Linear
		position = 0.09193,-0.0114,0.02907
		scale = 1.25,1.25,1.25
		rotation = 90,45,0
	}
	MODEL
	{
		model = AerojetKerbodyne/Parts/OrionThrusters/2009RCS
		position = -0.00045,0.00357,0.0037
		scale = 1,1,1
		rotation = 0,0,0
	}
	MODULE
	{
		name = ModuleShowInfo
	}
	MODULE // what is it? what`s differnet from a module below?
	{
		name = ModuleRCSFX
		thrusterTransformName = RCSthruster
		thrusterPower = 0.7198222
		resourceFlowMode = STAGE_PRIORITY_FLOW
		atmosphereCurve // don`t understand what it is
		{
			key = 0,267
			key = 1,91.04
		}
		PROPELLANT
		{
			ratio = 2.563
			name = Hydrazine
		}
	}
	MODULE // what`s the origMass and engineType?
	{
		name = ModuleEngineConfigs
		type = ModuleRCS
		thrustRating = thrusterPower
		techLevel = 4
		origTechLevel = 4
		origMass = 0.014
		engineType = L
		configuration = Hydrazine
		modded = False
		CONFIG // did I made figures correctly? I meant 40N per nozzle, 17.7g/sec.
		{
			name = Hydrazine
			IspSL = 0.227
			IspV = 0.237
			thrusterPower = 0.04
			cost = 1
			PROPELLANT
			{
				ratio = 0.017
				name = Hydrazine
			}
		}
	}
}
