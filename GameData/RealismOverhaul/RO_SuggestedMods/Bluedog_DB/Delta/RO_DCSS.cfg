//Sources:
//http://www.braeunig.us/space/specs/delta.htm

//https://web.archive.org/web/20011119102909/http://www.boeing.com/defense-space/space/delta/docs/DELTA_III_PPG_2000.PDF

//http://www.b14643.de/Spacerockets_2/United_States_5/Delta_III/Description/Frame.htm

//https://ula.bsshost.me/docs/default-source/rockets/deltaiipayloadplannersguide2007.pdf

//rescaleFactor = 4m / 2.5m = 1.6

@PART[bluedog_DCSS_2p5mFairing]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.204
}

@PART[bluedog_DCSS_Interstage]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.385

    !MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchDiameter]]{}
    MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = meshSwitchDiameter
		switcherDescription = Bottom
		switcherDescriptionPlural = Bottoms
		affectDragCubes = True
		affectFARVoxels = True

		SUBTYPE
		{
			name = 2.5m
			transform = Interstage_2p5m
		}
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_1p875m
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_3p125m
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_3p125mAlt
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_3p125mD4
    }
}

+PART[bluedog_DCSS_Interstage]:FOR[RealismOverhaul]
{
    @name = bluedog_DCSS4_Interstage
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 1.254 //guess
    @real_title = Delta IV DCSS 4m Interstage

    !MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchDiameter]]{}
    MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = meshSwitchDiameter
		switcherDescription = Bottom
		switcherDescriptionPlural = Bottoms
		affectDragCubes = True
		affectFARVoxels = True

		SUBTYPE
		{
			name = 3.125m
			transform = Interstage_3p125mD4

            NODE
			{
				name = top
				position = 0.0, 1.23853, 0.0
			}
			NODE
			{
				name = bottom
				position = 0.0, -1.216, 0.0
			}
		}
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_2p5m
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_1p875m
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_3p125m
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = Interstage_3p125mAlt
    }
}

@PART[bluedog_DCSS_PayloadAdapter_0p9375m]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.1973
}

@PART[bluedog_DCSS_PayloadAdapter_1p875m]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.204 //204kg for payload capacity < 4,300kg
}

@PART[bluedog_DCSS_PayloadAdapter_2p5m]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.272 //272kg for payload capacity > 4,300kg
}

@PART[bluedog_DCSS_StructAdapter]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.19 //guess
}

@PART[bluedog_DCSS_Tank]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @real_title = DCSS Upper Stage (Delta III)

    @mass = 2.179 //19.3t Total - 16.825t prop - 0.301t engine

    !RESOURCE[],*{}
    !MODULE[ModuleB9PartSwitch]:HAS[#moduleID[volumeSwitch]]{}
    MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = volumeSwitch
		switcherDescription = Volume
		switcherDescriptionPlural = Volumes
		parentID = fuelSwitch
		SUBTYPE
		{
			name = Delta III DCSS
			transform = delta3
		}
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = delta4
    }

    @MODULE[ModuleRCSFX],*
    {
        !resourceName = NULL

        PROPELLANT
        {
            name = Hydrazine
            ratio = 1.0
            DrawGauge = True
        }
    }

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 47036.457 //37,000lb hydrolox + (guessed) 154kg hydrazine
        basemass = -1

        TANK
        {
            name = LqdHydrogen
            amount = 34357.431
            maxAmount = 34357.431
        }
        TANK
        {
            name = LqdOxygen
            amount = 12571.026
            maxAmount = 12571.026
        }
        TANK
        {
            name = Hydrazine
            amount = 108
            maxAmount = 108
        }
    }

    MODULE
    {
        name = ModuleRealAntenna
        referenceGain = 0.75
        RFBand = S
    }

    RESOURCE
    {
        name = ElectricCharge
        amount = 1500 //assumed
        maxAmount = 1500
    }
}

+PART[bluedog_DCSS_Tank]:FOR[RealismOverhaul]
{
    @name = bluedog_DCSS4_Tank
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @real_title = DCSS Upper Stage (Delta IV - 4m)

    @mass = 3.459 //24.17t Total - 20.41t prop - 0.301t engine

    !RESOURCE[],*
    !MODULE[ModuleB9PartSwitch]:HAS[#moduleID[volumeSwitch]]{}
    MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = volumeSwitch
		switcherDescription = Volume
		switcherDescriptionPlural = Volumes
		parentID = fuelSwitch
		SUBTYPE
		{
			name = Delta IV DCSS (4m)
			transform = delta4

            NODE
			{
				name = top
				position = 0.0, 1.669, 0.0
			}
			NODE
			{
				name = bottom
				position = 0.0, 0.187223, 0.0
			}
		}
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = delta3
    }

    @MODULE[ModuleRCSFX],*
    {
        !resourceName = NULL

        PROPELLANT
        {
            name = Hydrazine
            ratio = 1.0
            DrawGauge = True
        }
    }

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 57233.151 //45,000lb hydrolox + (guessed) 160kg hydrazine
        basemass = -1

        TANK
        {
            name = LqdHydrogen
            amount = 41786.066
            maxAmount = 41786.066
        }
        TANK
        {
            name = LqdOxygen
            amount = 15289.085
            maxAmount = 15289.085
        }
        TANK
        {
            name = Hydrazine
            amount = 160
            maxAmount = 160
        }
    }

    MODULE
    {
        name = ModuleRealAntenna
        referenceGain = 0.75
        RFBand = S
    }

    RESOURCE
    {
        name = ElectricCharge
        amount = 1500 //assumed
        maxAmount = 1500
    }
}

@PART[bluedog_Delta2_dpaf_base]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.181 //guess
}

@PART[bluedog_Delta2_dpaf_top]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.1819 //362.9kg Total - 181kg Lower
}

@PART[bluedog_Delta4_dpaf_base]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.19 //guess
}

@PART[bluedog_Delta4_dpaf_top]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.21 //guess
}

@PART[bluedog_DeltaIV_DCSS_3p125_payloadAdapter]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.418 //1575/62 dia adapter
}

@PART[bluedog_DeltaIV_DCSS_5m]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @real_title = DCSS Upper Stage (Delta IV - 5m)

    @mass = 3.209 //30.71t Total - 27.200t prop - 0.301t engine

    !RESOURCE[],*
    !MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchLLength]]{}
    MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = meshSwitchLength
		switcherDescription = Length
		switcherDescriptionPlural = Lengths
		affectDragCubes = False
		affectFARVoxels = False
		parentID:NEEDS[!RealFuels] = fuelSwitch
		SUBTYPE
		{
			name = DCSS
			title = Delta IV DCSS
			transform = DCSSlength
		}
    }
    MODULE
    {
        name = ModuleB9DisableTransform
        transform = ICPSlength
    }

    @MODULE[ModuleRCSFX],*
    {
        !resourceName = NULL

        PROPELLANT
        {
            name = Hydrazine
            ratio = 1.0
            DrawGauge = True
        }
    }

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 76267.198 //60,000lb hydrolox + (guessed) 167kg hydrazine
        basemass = -1

        TANK
        {
            name = LqdHydrogen
            amount = 55714.751
            maxAmount = 55714.751
        }
        TANK
        {
            name = LqdOxygen
            amount = 20385.447
            maxAmount = 20385.447
        }
        TANK
        {
            name = Hydrazine
            amount = 167
            maxAmount = 167
        }
    }

    MODULE
    {
        name = ModuleRealAntenna
        referenceGain = 0.75
        RFBand = S
    }

    RESOURCE
    {
        name = ElectricCharge
        amount = 1500 //assumed
        maxAmount = 1500
    }
}

@PART[bluedog_DeltaIV_DCSS_fairingBase]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @rescaleFactor = 1.6

    @mass = 0.418 //1575/62 dia adapter
}

@PART[bluedog_DCSS_2p5mFairing_SAF]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @ROSAFRescale = 1.6

    @mass = 0.204
}

@PART[bluedog_DeltaIV_DCSS_fairingBase_SAF]:FOR[RealismOverhaul]
{
    %RSSROConfig = true
    @ROSAFRescale = 1.6

    @mass = 0.418
}
