//Sources:
//https://www.ulalaunch.com/docs/default-source/upper-stages/the-centaur-upper-stage-vehicle.pdf
//http://www.alternatewars.com/BBOW/Boosters/Centaur/Centaur.htm
//https://web.archive.org/web/20150421050205/http://www-eng.lbl.gov/~lafever/SNAP/OldFiles/MiscFiles/atlas.pdf
//https://en.wikipedia.org/wiki/Atlas_II

//rescaleFactor: 3.048m / 1.875m = 1.6256

@PART[bluedog_Centaur_ARCM]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@mass = 0.02

	!RESOURCE[],*{}
	!MODULE[ModuleB9PartSwitch],{}

	@MODULE[ModuleRCSFX]
	{
		@thrusterPower = 0.2274 //227.4N 
		!resourceName = NULL

		PROPELLANT
		{
			name = Hydrazine
			ratio = 1.0
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Helium
			ratio = 11.25 
		}
	}

	MODULE
	{
		name = ModuleFuelTanks
		volume = 166.875
		type = ServiceModule
		basemass = -1

		TANK
		{
			name = Hydrazine
			amount = 150
			maxAmount = 150
		}
		TANK
		{
			name = Helium
			amount = 1687.5
			maxAmount = 1687.5
		}
	}
}

@PART[bluedog_Centaur_FairingBase4xx]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@mass = 0.22
}

@PART[bluedog_Centaur_Kickstage]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	//values taken as 25% of Centaur D-1(A/T)

	@mass = 0.4835

	!RESOURCE[],*{}
	@MODULE[ModuleRCSFX],*
	{
		!resourceName = NULL

		PROPELLANT
		{
			name = Hydrazine
			ratio = 1.0
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Helium
			ratio = 11.25
		}
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 11617
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 8955.2
			maxAmount = 8955.2
		}
		TANK
		{
			name = LqdOxygen
			amount = 2661.8
			maxAmount = 2661.8
		}
	}
	RESOURCE
	{
		name = Hydrazine
		amount = 37.5
		maxAmount = 37.5
	}
	RESOURCE
	{
		name = Helium
		amount = 421.9
		maxAmount = 421.9
	}
}

@PART[bluedog_Centaur_MPF_FairingBase]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@mass = 0.2
}

@PART[bluedog_centaur1875mAdapterFairing]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@mass = 0.54
}

@PART[bluedog_CentaurD_Avionics]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@mass = 0.275

	@RESOURCE[ElectricCharge]
	{
		@amount = 2500
		@maxAmount = 2500
	}

	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 1.5
		RFBand = UHF
	}
}

@PART[bluedog_CentaurD_EngineMount]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@mass = 0.031

	!RESOURCE[],*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 205.02
		basemass = -1

		TANK
		{
			name = Hydrazine
			amount = 154.22 //340lb
			maxAmount = 754.22
		}
		TANK
		{
			name = Helium
			amount = 166364 //4 x 26in dia balls 
			maxAmount = 166364
		}
	}

	@MODULE[ModuleRCSFX]
	{
		@thrusterPower = 0.138
		!resourceName = NULL

		PROPELLANT
		{
			name = Hydrazine
			ratio = 1
		}
		PROPELLANT
		{
			name = Helium
			ratio = 11.25
			ignoreForIsp = True
		}

		@atmosphereCurve
		{
			@key = 0 284
			@key = 1 174
		}
	}
}

@PART[bluedog_CentaurD_FuelTank]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@mass = 1.934

	!RESOURCE[],*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 46467.91
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 35820.81 //1265 ft^3
			maxAmount = 35820.81
		}
		TANK
		{
			name = LqdOxygen
			amount = 10647.1 //367 ft^3
			maxAmount = 10647.1
		}
	}
}

@PART[bluedog_CentaurT_Avionics]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.834

	@mass = 0.386

	@RESOURCE[ElectricCharge]
	{
		@amount = 2500
		@maxAmount = 2500
	}

	MODULE
	{
		name = ModuleRealAntenna
		referenceGain = 1.5
		RFBand = UHF
	}
}

@PART[bluedog_CentaurT_TankA]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@real_title = Centaur G/ G Prime/ T Short (3.05m) tank

	@mass = 0.25

	!RESOURCE[],*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 10873.7
		basemass = -1

		TANK
		{
			name = LqdOxygen
			amount = 10873.7 //384 ft^3s
			maxAmount = 10873.7
		}
	}
}

@PART[bluedog_CentaurT_TankB]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@real_title = Centaur G/ G Prime/ T Adapter (3.05 to 4.32m) tank

	@mass = 0.4

	!RESOURCE[],*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 23276.43
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 17839.6 //630 ft^3
			maxAmount = 17839.6
		}
		TANK
		{
			name = LqdOxygen
			amount = 5436.83 //192 ft&3
			maxAmount = 5436.83
		}
	}
}

@PART[bluedog_CentaurT_TankC]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@real_title = Centaur G Prime/ T Extending Tank

	@mass = 0.4

	!RESOURCE[],*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 17839.6
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 17839.6 //630 ft^3
			maxAmount = 17839.6
		}
	}
}

@PART[bluedog_CentaurT_TankD]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@real_title = Centaur G/ G Prime/ T Short (4.32) Tank

	@mass = 0.4

	!RESOURCE[],*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo	
		volume = 17839.6
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 17839.6 //630 ft^3
			maxAmount = 17839.6
		}
	}
}

@PART[bluedog_CentaurT_WideTank]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@real_title = Centaur G/ G Prime/ T Adapter (3.05 to 4.32m) tank

	@mass = 0.4

	!RESOURCE[],*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 23276.43
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 17839.6 //630 ft^3
			maxAmount = 17839.6
		}
		TANK
		{
			name = LqdOxygen
			amount = 5436.83 //192 ft&3
			maxAmount = 5436.83
		}
	}
}

@PART[bluedog_CentaurIII_FuelTank]:NEEDS[RealismOverhaul]
{
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@real_title = Centaur II Tank

	@mass = 1.559 //1.84 - 0.031 - 0.25

	!RESOURCE[],*{}
	!MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchLength]]{}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = meshSwitchLength
		switcherDescription = Length
		switcherDescriptionPlural = Lengths
		affectDragCubes = True
		affectFARVoxels = True
		parentID = fuelSwitch

		SUBTYPE
		{
			name = Centaur II
			transform = Centaur2
		}
	}
	MODULE
	{
		name = ModuleB9DisableTransform
		transform = Centaur3
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 49239.83 //16,930 kg
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 36684.72 //2604.615 kg
			maxAmount = 36684.72
		}
		TANK
		{
			name = LqdOxygen
			amount = 12555.11 //14325.385 kg
			maxAmount = 12555.11
		}
	}
}

+PART[bluedog_CentaurIII_FuelTank]:NEEDS[RealismOverhaul]
{
	@name = bluedog_CentaurIII_FuelTank2
	%RSSROConfig = True
	@rescaleFactor = 1.6256

	@real_title = Centaur III Tank

	@mass = 1.649 //1.93 - 0.031 - 0.25

	!RESOURCE[],*{}
	!MODULE[ModuleB9PartSwitch]:HAS[#moduleID[meshSwitchLength]]{}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = meshSwitchLength
		switcherDescription = Length
		switcherDescriptionPlural = Lengths
		affectDragCubes = True
		affectFARVoxels = True
		parentID = fuelSwitch

		SUBTYPE
		{
			name = Centaur III
			transform = Centaur3

			NODE
			{
				name = top
				position = 0.0, 1.57074, 0.0
			}
			NODE
			{
				name = bottom
				position = 0.0, -1.57074, 0.0
			}
		}
	}
	MODULE
	{
		name = ModuleB9DisableTransform
		transform = Centaur2
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = BalloonCryo
		volume = 60582.73 //20,830 kg
		basemass = -1

		TANK
		{
			name = LqdHydrogen
			amount = 45135.42 //3204.615 kg
			maxAmount = 45135.42
		}
		TANK
		{
			name = LqdOxygen
			amount = 15447.31 //17625.384 kg
			maxAmount = 15447.31
		}
	}
}

//Fairings

@PART[bluedog_Centaur_MPF_FairingBase_SAF]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	%ROSAFRescale = 1.6256
	@mass = 1.409
}