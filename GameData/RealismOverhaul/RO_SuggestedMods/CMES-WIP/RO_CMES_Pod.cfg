//  ==================================================
//  Sources:

//  From Apollo LM to Altair:                              http://www.csc.caltech.edu/references/AIAA-2009-6404.pdf
//  The NASA Docking System (NDS):                         https://web.archive.org/web/20130215180627/http://dockingstandard.nasa.gov/Meetings/TIM_%28Nov-17-2010%29/NDS_TIM_presentation.pdf
//  Orion MPCV Quick Facts:                                https://www.nasa.gov/sites/default/files/atoms/files/fs-2014-08-004-jsc-orion_quickfacts-web.pdf
//  Orion CEV Facts:                                       https://www.nasa.gov/pdf/306407main_orion_crew%20_expl_vehicle.pdf
//  Project Orion Overview:                                https://www.nasa.gov/pdf/156298main_orion_handout.pdf
//  Challenges of the Orion CM Touchdown Roll Orientation: https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20080015885.pdf
//  Aerojet Rocketdyne MR thruster series:                 http://www.asi.org/adb/04/03/09/01/rocket-research.html
//  ECLSS (Altair, Apollo, Orion, Lunar Outpost):          http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20090029327.pdf
//  The Orion MPCV European Service Module:                http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140010527.pdf

//  ==================================================
//  Removed extra parts.
//  ==================================================

!PART[xALCOR_LanderCapsule2x]:FOR[RealismOverhaul]{}

!PART[xALCOR_LanderCapsule3x]:FOR[RealismOverhaul]{}

!PART[Xcupola2X]:FOR[RealismOverhaul]{}

!PART[Xcupola3X]:FOR[RealismOverhaul]{}

!PART[xLERroverXBodyxX]:FOR[RealismOverhaul]{}

!PART[xLERroverXBod32xX]:FOR[RealismOverhaul]{}

!PART[xLERDockPortSHABSSA]:FOR[RealismOverhaul]{}

!PART[xLERDockPortSHABSSA3xq]:FOR[RealismOverhaul]{}

!PART[xLERDockPortSHABSSA3xXq]:FOR[RealismOverhaul]{}

!PART[xndsport2x]:FOR[RealismOverhaul]{}

!PART[xndsport3x]:FOR[RealismOverhaul]{}

!PART[xndsport5x]:FOR[RealismOverhaul]{}

!PART[xparachuteRadial2x]:FOR[RealismOverhaul]{}

//	==================================================
//	MSEV crew cabin.

//	Realism Overhaul configuration.

//	Dimensions: 3.600 x 2.800 m
//	Gross Mass: 1393.00 Kg
//	==================================================

	@PART[xALCOR_LanderCapsulex]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		MODEL
		{
			model	 = CMES/Pod/ALCOR_Monkey_Rover/Part/ALCORcapsule
			scale	 = 1.850, 1.850, 1.850
			position = 0.000, 0.000, 0.000
			rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_bottom = 0.000, -1.140, 0.000, 0.000, -1.000, 0.000, 2
		@node_stack_top	   = 0.000,  1.620, 0.000, 0.000,  1.000, 0.000, 2

		@title		  = MSEV Crew Cabin
		@manufacturer = NASA
		@description  = The MSEV (Multi - Mission Space Exploration Vehicle) is a pressurized cabin exploration vehicle for either space or surface application. Features include an airlock (for both in - space and rover versions) a total travel distance of 10 kilometers (only for the rover version) and a two - crew support for 14 days or up to 4 crew for shorter periods.

		@mass			  = 1.1500
		@crashTolerance	  = 12
		@maxTemp		  = 1073.15
		@breakingForce	  = 250
		@breakingTorque	  = 250
		@vesselType		  = Ship
		!stagingIcon	  = NULL
		@CrewCapacity	  = 4
		%bulkheadProfiles = size2

		@MODULE[ModuleCommand]
		{
			RESOURCE
			{
				name = ElectricCharge
				rate = 1.500
			}
		}

		@MODULE[ModuleSAS]
		{
			%SASServiceLevel = 3
		}

		MODULE[ModuleScienceContainer]
		{
			@storageRange = 3.000
		}

		MODULE
		{
			name	 = ModuleFuelTanks
			type	 = ServiceModule
			basemass = -1
			volume	 = 45

			TANK
			{
				name	  = ElectricCharge
				amount	  = 43200
				maxAmount = 43200
			}
		}

		!MODULE[ModuleScienceLab]{}

		!RESOURCE[ElectricCharge]{}

		!RESOURCE[MonoPropellant]{}

		!MODULE[ModuleReactionWheel]{}

		!MODULE[ModuleGenerator]{}

		!MODULE[RasterPropMonitorComputer]{}

		!MODULE[KASModuleContainer]{}

		!MODULE[MechJebCore]{}
	}

//	==================================================
//	MSEV crew cabin.

//	Remote Tech configuration.
//	==================================================

	@PART[xALCOR_LanderCapsulex]:FOR[RealismOverhaul]:NEEDS[RemoteTech]
	{
		MODULE
		{
			name = ModuleSPU
		}

		MODULE
		{
			IsRTActive	      = false
			Mode0OmniRange    = 0
			Mode1OmniRange    = 250000
			EnergyCost	      = 0.008
			DeployFxModules   = 0
			ProgressFxModules = 1

			TRANSMITTER
			{
				PacketInterval	   = 0.400
				PacketSize		   = 0.270
				PacketResourceCost = 0.025
			}
		}
	}

//	==================================================
//	MSEV crew cabin.

//	TAC Life Support configuration.
//	==================================================

	@PART[xALCOR_LanderCapsulex]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
	{
		@MODULE[ModuleFuelTanks]
		{
			@volume = 700

			TANK
			{
				name	  = Food
				amount	  = 163.78
				maxAmount = 163.78
			}

			TANK
			{
				name	  = Water
				amount	  = 108.39
				maxAmount = 108.39
			}

			TANK
			{
				name	  = Oxygen
				amount	  = 1776
				maxAmount = 16571.52
			}

			TANK
			{
				name	  = CarbonDioxide
				amount	  = 0
				maxAmount = 512
			}

			TANK
			{
				name	  = Waste
				amount	  = 0
				maxAmount = 14.91
			}

			TANK
			{
				name	  = WasteWater
				amount	  = 0
				maxAmount = 137.9
			}

			TANK
			{
				name	  = LithiumHydroxide
				amount	  = 31.5
				maxAmount = 31.5
			}
		}

		MODULE
		{
			name			= TacGenericConverter
			converterName   = CO2 Scrubber
			conversionRate  = 2.000
			inputResources  = CarbonDioxide, 0.006216, ElectricCharge, 0.010, LithiumHydroxide, 0.0000085683
			outputResources = Water, 0.0032924498, true, Waste, 0.0000257297, false
		}
	}

//	==================================================
//	Altair lunar lander Ascent Module (LDAC - 2 configuration).

//	Realism Overhaul configuration.

//	The engine is NOT a real AJ10-118K but a hypothetical derivative (closer to the Astris) with lower maximum thrust and using MMH instead of Aerozine 50 for fuel.

//	Dimensions: 5.500 x 6.000 m
//	Gross Mass: 10609.00 Kg
//	Throttle Range: N/A
//	Burn Time: 646 s
//	O/F Ratio: 1.80
//	==================================================

	@PART[altairPod]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		MODEL
		{
			model	 = CMES/Pod/altairPod/altairPod
			scale	 = 1.000, 1.000, 1.000
			position = 0.000, 0.000, 0.000 
			rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		%scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_bottom = 0.000, -3.800, 0.000, 0.000, -1.000, 0.000, 3
		@node_stack_top	   = 0.000,  2.220, 0.000, 0.000,  1.000, 0.000, 3

		@title		  = Altair Ascent Module
		@manufacturer = Boeing Co. & NASA
		@description  = The ascent module for the Altair lunar lander. Can support a 4 crew lunar sortie for up to 7 days of active time.

		@mass			  = 5.100
		%crashTolerance   = 12
		%breakingForce    = 250
		%breakingTorque   = 250
		@maxTemp		  = 1973.15
		%fuelCrossFeed	  = true
		%stageOffset	  = 1
		%childStageOffset = 1
		%stagingIcon	  = LIQUID_ENGINE
		%bulkheadProfiles = size2, size3
		@CrewCapacity	  = 4

		!INTERNAL[ALCOR_Monley_Internals]{}

		@MODULE[ModuleCommand]
		{
			@minimumCrew = 0

			RESOURCE
			{
				name = ElectricCharge
				rate = 2.125
			}
		}

		@MODULE[ModuleEngines*]
		{
			%maxThrust	 	= 24.50
			%minThrust	 	= 24.50
			%heatProduction = 100
			%ullage			= false
			%pressureFed	= true
			%ignitions		= -1

			@PROPELLANT[LiquidFuel]
			{
				@name  = MMH
				@ratio = 0.4819
			}

			@PROPELLANT[Oxidizer]
			{
				@name  = NTO
				@ratio = 0.5180
			}

			// For future reference: add a Helium requirement for tank pressurization.

			//PROPELLANT
			//{
			//	name		 = Helium
			//	ratio		 = 0.7548
			//	ignoreForIsp = true
			//}

			@atmosphereCurve
			{
				@key,0 = 0 321.0
				@key,1 = 1 212.5
			}
		}

		@MODULE[ModuleGimbal]
		{
			@gimbalRange		 	= 7.000
			%useGimbalResponseSpeed = true
			%gimbalResponseSpeed 	= 16
		}

		MODULE
		{
			name		  = ModuleEngineConfigs
			configuration = AJ10-118K-Altair
			modded		  = false

			CONFIG
			{
				name	  = AJ10-118K-Altair
				maxThrust = 24.50
				minThrust = 24.50

				PROPELLANT
				{
					name	  = MMH
					ratio	  = 0.4819
					DrawGauge = true
				}

				PROPELLANT
				{
					name  = NTO
					ratio = 0.5180
				}

				atmosphereCurve
				{
					key = 0 321.0
					key = 1 212.5
				}
			}
		}

        @MODULE[ModuleRCS]
        {
			@name		   = ModuleRCS
			@thrusterPower = 0.207
			!resourceName  = NULL

			PROPELLANT
			{
				name  = MMH
				ratio = 0.4819
			}

			PROPELLANT
			{
				name  = NTO
				ratio = 0.5180
			}

			@atmosphereCurve
			{
				@key,0 = 0 319.0
				@key,1 = 1 112.0
			}
		}

		!MODULE[RasterPropMonitorComputer]{}

		!MODULE[MechJebCore]{}
	
        !MODULE[ModuleAlternator]{}

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleGenerator]{}

		MODULE
		{
			name	 = ModuleFuelTanks
			type	 = ServiceModule
			volume   = 4970
			basemass = -1

			TANK
			{
				name	  = ElectricCharge
				amount	  = 43200
				maxAmount = 43200
			}

			TANK
			{
				name	  = MMH
				amount	  = 2156
				maxAmount = 2156
			}

			TANK
			{
				name	  = NTO
				amount	  = 2318
				maxAmount = 2318
			}

			TANK
			{
				name	  = Helium
				amount	  = 70960
				maxAmount = 70960
			}
		}

        !RESOURCE[MonoPropellant]{}
	}

//	==================================================
//	Altair lunar lander Ascent Module.

//	Remote Tech configuration.
//	==================================================

	@PART[altairPod]:FOR[RealismOverhaul]:NEEDS[RemoteTech]
	{
		MODULE
		{
			name = ModuleSPU
		}

		MODULE
		{
			name			  = ModuleRTAntenna
			IsRTActive		  = false
			Mode0OmniRange	  = 1000000
			Mode1OmniRange	  = 1000000
			EnergyCost		  = 0.005
			DeployFxModules	  = 0
			ProgressFxModules = 1

			TRANSMITTER
			{
				PacketInterval	   = 0.200
				PacketSize		   = 0.470
				PacketResourceCost = 0.050
			}
		}
	}

//	==================================================
//	Altair lunar lander Ascent Module.

//	TAC Life Support configuration.
//	==================================================

	@PART[altairPod]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
	{
		@MODULE[ModuleFuelTanks]
		{
			@volume = 5390

			TANK
			{
				name	  = Food
				amount	  = 163.8
				maxAmount = 163.8
			}

			TANK
			{
				name	  = Water
				amount	  = 15.5
				maxAmount = 15.5
			}

			TANK
			{
				name	  = Oxygen
				amount	  = 2367.5
				maxAmount = 2367.5
			}

			TANK
			{
				name	  = CarbonDioxide
				amount	  = 0
				maxAmount = 2048
			}

			TANK
			{
				name	  = Waste
				amount	  = 0
				maxAmount = 14.91
			}

			TANK
			{
				name	  = WasteWater
				amount	  = 0
				maxAmount = 137.9
			}

			TANK
			{
				name	  = LithiumHydroxide
				amount	  = 63
				maxAmount = 63
			}
		}

		MODULE
		{
			name		    = TacGenericConverter
			converterName   = CO2 Scrubber
			conversionRate  = 4.000
			inputResources  = CarbonDioxide, 0.006216, ElectricCharge, 0.010, LithiumHydroxide, 0.0000085683
			outputResources = Water, 0.0032924498, true, Waste, 0.0000257297, false
		}
	}

//	==================================================
//	Linear RCS thruster (low thrust).

//	Dimensions: 0.100 x 0.200 m
//	Gross Mass: 1.50 Kg
//	O/F Ratio: N/A
//	==================================================

	@PART[B9_Control_RCS_Port_R1x]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		@MODEL
		{
			%scale    = 1.000, 1.000, 1.000
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_attach = 0.000, 0.000, 0.000, 0.000, -1.000, 0.000

		@title		  = R1 Linear RCS Thruster (69/111N class)
		@manufacturer = Generic
		@description  = A generic single RCS thruster for attitude control.

		@mass			  = 0.0015
		@crashTolerance	  = 12
		@breakingForce	  = 250
		@breakingTorque	  = 250
		@maxTemp		  = 1073.15
		@fuelCrossFeed	  = True
		%bulkheadProfiles = srf
		%useRcsConfig	  = RCSBlockQuarter
		%useRcsMass		  = true
		%useRcsCostMult	  = 0.250

		@MODULE[ModuleRCS]
		{
			@name			  = ModuleRCS
			@thrusterPower	  = 0.069
			!resourceName	  = NULL
			@resourceFlowMode = STACK_PRIORITY_SEARCH

			@atmosphereCurve
			{
				@key,0 = 0 254.00
				@key,1 = 1 82.08
			}
		}
	}

//	==================================================
//	Linear RCS thruster (medium thrust).

//	Dimensions: 0.150 x 0.300 m
//	Gross Mass: 3.00 Kg
//	O/F Ratio: N/A
//	==================================================

	@PART[B9_Control_RCS_Port_R1X1x]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		@MODEL
		{
			%scale    = 1.500, 1.500, 1.500
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_attach = 0.000, 0.000, 0.000, 0.000, -1.000, 0.000

		@title		  = R1 Linear RCS Thruster (138/233N class)
		@manufacturer = Generic
		@description  = A generic single RCS thruster for attitude control.

		@mass			  = 0.003
		@crashTolerance	  = 12
		@breakingForce	  = 250
		@breakingTorque	  = 250
		@maxTemp		  = 1073.15
		@fuelCrossFeed	  = True
		%bulkheadProfiles = srf
		%useRcsConfig	  = RCSBlockQuarter
		%useRcsMass		  = true
		%useRcsCostMult	  = 0.250

		@MODULE[ModuleRCS]
		{
			@name			  = ModuleRCS
			@thrusterPower	  = 0.138
			!resourceName	  = NULL
			@resourceFlowMode = STACK_PRIORITY_SEARCH

			@atmosphereCurve
			{
				@key,0 = 0 254.00
				@key,1 = 1 82.08
			}
		}
	}

//	==================================================
//	Pegasus IA low profile ladder.

//	Dimensions: 0.400 x 0.400 m
//	Gross Mass: 5.00 Kg
//	==================================================

	@PART[xladder1x]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		MODEL
		{
			model	 = CMES/Pod/ladderRadial/model
			scale	 = 1.333, 1.333, 1.333
			position = 0.000, 0.000, 0.000
			rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		%scale		   = 1.000
		%rescaleFactor = 1.000

		@node_attach = -0.060, 0.000, 0.000, 1.000, 0.000, 0.000

		@title		  = Pegasus IA Mobility Enhancer [Low Profile]
		@manufacturer = Generic
		%description  = The Pegasus IA Mobility Enhancer, known in some circles as a "ladder", is a state-of-the-art vertical mobility device, allowing your intrepid crew to scamper around the exterior of your ship like highly caffeinated rodents.
	
		@mass 			= 0.005
		@crashTolerance = 12
		%breakingForce	= 250
		%breakingTorque = 250
		@maxTemp		= 1073.15
		%fuelCrossFeed  = false
	}

//	==================================================
//	MSEV chassis.

//	Dimensions: 2.500 x 5.300 m
//	Gross Mass: 400.00 Kg
//	==================================================

	@PART[xLERroverBodyx]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		MODEL
		{
			model	 = CMES/Pod/LER_base/model
			scale	 = 2.125, 2.000, 1.850
			position = 0.000, 0.000, 0.000
			rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		%scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_top	   = 0.000,  0.125, 1.170, 0.000,  1.000, 0.000, 2
		@node_stack_bottom = 0.000, -0.950, 0.000, 0.000, -1.000, 0.000, 2
		!node_stack_1	   = NULL
		!node_stack_2	   = NULL
		!node_stack_3	   = NULL
		!node_stack_4	   = NULL
		!node_stack_5	   = NULL
		!node_stack_6	   = NULL

		@title		  = MSEV Chassis
		@manufacturer = NASA
		@description  = A modular structural frame for the MSEV surface exploration rover variant.

		@mass			 	= 0.400
		@crashTolerance	 	= 12
		@breakingForce	 	= 250
		@breakingTorque		= 250
		@maxTemp		 	= 1073.15
		!explosionPotential = NULL
		%bulkheadProfiles   = size2
		@CoMOffset			= 0.000, 0.000, -2.000
		!CoLOffset			= NULL

		!MODULE[ModuleCommand]{}

		!MODULE[ModuleSAS]{}

		!MODULE[ModuleReactionWheel]{}

		!MODULE[ModuleGenerator]{}

		!RESOURCE[ElectricCharge]{}
	
		!RESOURCE[MonoPropellant]{}
	}

//	==================================================
//	Surface Docking Mechanism (SDM).

//	Dimensions: 1.200 x 1.700 m
//	Gross Mass: 350.00 Kg
//	==================================================

	@PART[xLERDockPortxs]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		MODEL
		{
			model	 = CMES/Pod/LER_dockport/model
			scale	 = 1.600, 1.600, 1.600
			position = 0.000, 0.000, 0.000
			rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		%scale		   = 1.000
		@rescaleFactor = 1.000

		@node_attach = 0.000, -0.200, 0.000, -1.000, 0.000, 0.000, 2

		@title		  = Surface Docking Mechanism (SDM)
		%manufacturer = Boeing Co. & NASA
		@description  = The SDM provides a safe passage for crew and cargo between surface - landed modules or exploration rovers.

		@mass			  = 0.350
		@crashTolerance   = 12
		@breakingForce	  = 250
		@breakingTorque   = 250
		@maxTemp		  = 1073.12
		%bulkheadProfiles = srf

		@MODULE[ModuleDockingNode]
		{
			@nodeType			   = NASADockSurf
			%acquireForce		   = 0.5
			%acquireMinFwdDot	   = 0.8
			%acquireminRollDot	   = -3.40282347E+38
			%acquireRange		   = 0.25
			%acquireTorque		   = 0.5
			%captureMaxRvel	 	   = 0.1
			%captureMinFwdDot 	   = 0.998
			%captureMinRollDot 	   = -3.40282347E+38
			%captureRange		   = 0.05
			%minDistanceToReEngage = 0.25
			%undockEjectionForce   = 0.1
		}

		@MODULE[ModuleAnimateGeneric]
		{
			@startEventGUIName = Deploy Docking Port
			@endEventGUIName   = Retract Docking Port
			%actionGUIName 	   = Toggle Docking Port
		}
	}

//	==================================================
//	Orion EFT Crew Module LES decoupler system.

//	Dimensions: 2.700 x 1.000 m
//	Gross Mass: 600.000 Kg
//	==================================================

	@PART[OrionDockingPortXx]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		@MODEL
		{
			@scale	  = 1.500, 1.350, 1.500
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_top    = 0.000,  0.625, 0.000, 0.000,  1.000, 0.000, 2
		@node_stack_bottom = 0.000, -0.270, 0.000, 0.000, -1.000, 0.000, 3

		@title		  = Orion EFT LAS decoupler.
		@manufacturer = Lockheed Martin
		@description  = The Launch Abort System (LAS) explosive bolt decoupler of the Orion EFT Crew Module.

		@mass			  = 0.600
		@crashTolerance   = 12
		@breakingForce    = 250
		@breakingTorque   = 250
		@maxTemp		  = 1973.15
		@fuelCrossFeed    = false
		%stageOffset	  = 1
		%childStageOffset = 1
		%emissiveConstant = 0.700
		%bulkheadProfiles = size2, size3

		MODULE
		{
			name		    = ModuleDecouple
			ejectionForce   = 10.000
			explosiveNodeID = top
		}

		!MODULE[ModuleDockingNode]{}

		!MODULE[ModuleDockingNodeNamed]{}

		!MODULE[ModuleCommand]{}

		!MODULE[ModuleSAS]{}

		!MODULE[ModuleReactionWheel]{}
	
		!MODULE[MechJebCore]{}

		!RESOURCE[ElectricCharge]{}

		!RESOURCE[MonoPropellant]{}
	}

//	==================================================
//	Orion MPCV Crew Module docking system.

//	Dimensions: 2.700 x 1.000 m
//	Gross Mass: 600.000 Kg
//	==================================================

	@PART[OrionDockingPortXWSTANDARDDOCKPORT]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		@MODEL
		{
			@scale	  = 1.500, 1.350, 1.500
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_top    = 0.000,  0.625, 0.000, 0.000,  1.000, 0.000, 2
		@node_stack_bottom = 0.000, -0.270, 0.000, 0.000, -1.000, 0.000, 3

		@title		  = Orion MPCV Docking System
		@manufacturer = Lockheed Martin
		@description  = The NASA docking system of the Orion MPCV Crew Module.

		@mass			  = 0.600
		@crashTolerance   = 12
		@breakingForce    = 250
		@breakingTorque   = 250
		@maxTemp		  = 1973.15
		@fuelCrossFeed    = False
		%stageOffset	  = 1
		%childStageOffset = 1
		%emissiveConstant = 0.700
		%bulkheadProfiles = size2, size3

		@MODULE[ModuleDockingNode]
		{
			@nodeType			   = NASADock
			%acquireForce		   = 0.500
			%acquireMinFwdDot	   = 0.800
			%acquireminRollDot	   = -3.40282347E+38
			%acquireRange		   = 0.250
			%acquireTorque		   = 0.500
			%captureMaxRvel		   = 0.100
			%captureMinFwdDot	   = 0.998
			%captureMinRollDot 	   = -3.40282347E+38
			%captureRange		   = 0.050
			%minDistanceToReEngage = 0.250
			%undockEjectionForce   = 0.100
		}

		!MODULE[ModuleCommand]{}

		!MODULE[ModuleSAS],*{}

		!MODULE[ModuleReactionWheel]{}
	
		!MODULE[MechJebCore]{}

		!RESOURCE[ElectricCharge]{}

		!RESOURCE[MonoPropellant]{}
	}

//	==================================================
//	Orion Crew Module (EFT & MPCV) Launch Abort System (LAS).

//	Dimensions: 4.800 x 13.300 m
//	Gross Mass: 6176.00 Kg
//  Throttle Range: N/A
//	Burn Time: 3 s
//	O/F Ratio: 2.13
//	==================================================

	@PART[XOrionLES]:FOR[RealismOverhaul]
	{
		%RSSROConfig = true

		@MODEL
		{
			@scale	  = 1.530, 1.410, 1.530
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =   0.000, 8.775, -0.340
			rotation = -90.000, 0.000,  0.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =  0.100, 0.100, 0.100
			position =  0.000, 8.775, 0.340
			rotation = 90.000, 0.000, 0.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 = 0.100, 0.100,   0.100
			position = 0.340, 8.775,   0.000
			rotation = 0.000, 0.000, -90.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =  0.100, 0.100,  0.100
			position = -0.340, 8.775,  0.000
			rotation =  0.000, 0.000, 90.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =  0.100,  0.100,  0.100
			position = -0.230,  8.775, -0.230
			rotation = -90.000, 45.000, 0.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =  0.100, 0.100,  0.100
			position =  0.250, 8.775,  0.250
			rotation = 90.000, 45.000, 0.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =  0.100,   0.100, 0.100
			position = -0.225,   8.775, 0.225
			rotation = 90.000, -45.000, 0.000
		}

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100,   0.100,  0.100
			position =   0.225,   8.775, -0.225
			rotation = -90.000, -45.000,  0.000
		}

		!mesh		   = NULL
		%scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_bottom = 0.000, -0.680, 0.000, 0.000, -1.000, 0.000, 3

		@category 	  = Engines
		@title		  = Orion Launch Abort System (LAS)
		@manufacturer = Orbital ATK
		@description  = The launch escape tower of the Orion command module. Activates in the case of an emergency and carries the crew of the Orion safely away from the launch vehicle.

		@mass			  = 4.1290
		@crashTolerance   = 12
		@breakingForce    = 250
		@breakingTorque   = 250
		@maxTemp		  = 1973.15
		%fuelCrossFeed 	  = false
		%stageOffset	  = 1
		%childStageOffset = 1
		%emissiveConstant = 0.700
		%bulkheadProfiles = size3

		@MODULE[ModuleEngines]
		{
			@minThrust 		= 1760.00
			@maxThrust	 	= 1760.00
			@heatProduction = 100
			!fxOffset 		= NULL
			%ullage			= false
			%pressureFed 	= false
			%ignitions		= 1

			@PROPELLANT[SolidFuel]
			{
				@name = HTPB
			}

			@atmosphereCurve
			{
				@key,0 = 0 290.00
				@key,1 = 1 245.00
			}
		}

		!MODULE[ModuleDecouple]{}

		MODULE
		{
			name				  = ModuleRCS
			thrusterTransformName = RCSthruster
			thrusterPower		  = 22.300

			PROPELLANT
			{
				name  = Hydrazine
				ratio = 1.000
			}

			atmosphereCurve
			{
				key = 0 254
				key = 1 82.08
			}
		}

		MODULE
		{
			name	 = ModuleFuelTanks
			volume	 = 150
			type	 = Fuselage
			basemass = -1

			TANK
			{
				name	  = Hydrazine
				amount	  = 150
				maxAmount = 150
			}
		}

		MODULE
		{
			name	 = ModuleFuelTanks
			volume   = 1071.42
			type	 = HTPB
			basemass = -1
		}

		MODULE
		{
			name		  = ModuleEngineConfigs
			type		  = ModuleEngines
			configuration = Orion-LAS
			modded		  = false

			CONFIG
			{
				name		   = Orion-LAS
				minThrust 	   = 1760.00
				maxThrust	   = 1760.00
				heatProduction = 100
				%ullage		   = false
				%pressureFed   = false
				%ignitions	   = 1

				PROPELLANT
				{
					name	  = HTPB
					ratio	  = 1.000
					DrawGauge = True
				}

				atmosphereCurve
				{
					key = 0 290.00
					key = 1 245.00
				}
			}
		}

		!RESOURCE[SolidFuel]{}
	}

//	==================================================
//	Orion EFT Crew Module.

//	Realism Overhaul configuration.

//	Dimensions: 3.300 x 5.030 m
//	Gross Mass: 8900.000 Kg
//	==================================================

	@PART[XOrionPodXbb31]:FOR[RealismOverhaul]
	{
		@module		 = Part
		%RSSROConfig = true

		@MODEL
		{
			@scale	  = 1.500, 1.200, 1.500
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		//	Linear negative pitch thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =   0.000, 0.880, -1.390
			rotation = -90.000, 0.000,  0.000
		}

		//	Linear positive pitch thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =   0.000, 0.070, -1.950
			rotation = -55.000, 0.000,  0.000
		}

		//	Linear negative yaw thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 = 0.100, 0.100,   0.100
			position = 1.900, 0.040,   0.000
			rotation = 0.000, 0.000, -55.000
		}

		//	Linear positive yaw thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =  0.100, 0.100,  0.100
			position = -1.900, 0.040,  0.000
			rotation =  0.000, 0.000, 55.000
		}

		//	Linear negative roll thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =  -1.450, 0.030, -1.320
			rotation = -90.000, 0.000,  0.000
		}

		//	Linear positive roll thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =   1.450, 0.030, -1.320
			rotation = -90.000, 0.000,  0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_bottom = 0.000, -1.045, 0.000, 0.000, -1.000, 0.000, 3
		@node_stack_top	   = 0.000,  0.960, 0.000, 0.000,  1.000, 0.000, 3
		@node_stack_1	   = 0.000,  1.250, 0.000, 0.000,  1.000, 0.000, 2

		@title		  = Orion EFT Crew Module
		@manufacturer = Lockheed Martin
		@description  = The Exploration Flight Test (EFT) article for the Orion MPCV.

		@mass		      = 6.6250
		@crashTolerance   = 12
		@breakingForce    = 250
		@breakingTorque   = 250
		@maxTemp	      = 800
		%emissiveConstant	  = 0.850
		@CrewCapacity     = 0
		@vesselType		  = Probe
		%fuelCrossFeed    = true
		@CoMOffset 		  = 0.000, -0.670, 0.000
		!CoLOffset 		  = NULL
		!CoDOffset 		  = NULL
		%bulkheadProfiles = size2, size3

		!INTERNAL[ALCOR_Monley_Internals]{}

		@MODULE[ModuleCommand]
		{
			RESOURCE
			{
				name = ElectricCharge
				rate = 1.350
			}
		}

		@MODULE[ModuleSAS]
		{
			%SASServiceLevel = 3
		}

		!MODULE[ModuleReactionWheel]{}

		!MODULE[ModuleScienceContainer]{}

		!MODULE[ModuleScienceLab]{}

		!MODULE[ModuleDataTransmitter]{}

		!MODULE[MechJebCore]{}

		!MODULE[ModuleGenerator]{}

		!MODULE[RasterPropMonitorComputer]{}

		!MODULE[ModuleAblator]{}

		!MODULE[ModuleHeatShield]{}

		!MODULE[ModuleAeroReentry]{}

		MODULE
		{
			name				  = ModuleRCS
			thrusterTransformName = RCSthruster
			thrusterPower		  = 0.237

			PROPELLANT
			{
				name  = Hydrazine
				ratio = 1.000
			}

			atmosphereCurve
			{
				key = 0 254.00
				key = 1 82.08
			}
		}

		MODULE
		{
			name		   = CoMShifter
			DescentModeCoM = 0.000, 0.000, -0.300
		}

		%skinMaxTemp = 3600
		%skinMassPerArea = 4
		MODULE
		{
			name = ModuleAblator
			ablativeResource = Ablator
			lossExp = -8000
			lossConst = 0.06
			pyrolysisLossFactor = 26000
			ablationTempThresh = 500
			reentryConductivity = 0.01
			charMax = 1
			charMin = 1
		}

		MODULE
		{
			name	 = ModuleFuelTanks
			basemass = -1
			type	 = ServiceModule
			volume	 = 150

			TANK
			{
				name	  = ElectricCharge
				amount	  = 43200
				maxAmount = 43200
			}

			TANK
			{
				name	  = Hydrazine
				amount	  = 85
				maxAmount = 85
			}
		}

		RESOURCE
		{
			name	  = Ablator
			amount	  = 1500
			maxAmount = 1500
		}

		!RESOURCE[AblativeShielding]{}

		!RESOURCE[ElectricCharge]{}

		!RESOURCE[MonoPropellant]{}
	}

//	==================================================
//	Orion MPCV Crew Module.

//	Realism Overhaul configuration.

//	Dimensions: 3.300 x 5.030 m
//	Gross Mass: 8900.000 Kg
//	==================================================

	@PART[XOrionPodX]:FOR[RealismOverhaul]
	{
		@module		 = Part
		%RSSROConfig = true

		@MODEL
		{
			@scale	  = 1.500, 1.200, 1.500
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		//	Linear negative pitch thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =   0.000, 0.880, -1.390
			rotation = -90.000, 0.000,  0.000
		}

		//	Linear positive pitch thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =   0.000, 0.070, -1.950
			rotation = -55.000, 0.000,  0.000
		}

		//	Linear negative yaw thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 = 0.100, 0.100,   0.100
			position = 1.900, 0.040,   0.000
			rotation = 0.000, 0.000, -55.000
		}

		//	Linear positive yaw thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =  0.100, 0.100,  0.100
			position = -1.900, 0.040,  0.000
			rotation =  0.000, 0.000, 55.000
		}

		//	Linear negative roll thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =  -1.450, 0.030, -1.320
			rotation = -90.000, 0.000,  0.000
		}

		//	Linear positive roll thruster.

		MODEL
		{
			model	 = RealismOverhaul/Models/LinearRCS
			scale	 =   0.100, 0.100,  0.100
			position =   1.450, 0.030, -1.320
			rotation = -90.000, 0.000,  0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_bottom = 0.000, -1.045, 0.000, 0.000, -1.000, 0.000, 3
		@node_stack_top	   = 0.000,  0.960, 0.000, 0.000,  1.000, 0.000, 3
		@node_stack_1	   = 0.000,  1.250, 0.000, 0.000,  1.000, 0.000, 2

		@title		  = Orion MPCV Crew Module (CM)
		@manufacturer = Lockheed Martin
		@description  = The next - generation NASA spacecraft for beyond LEO exploration. Can support 6 crew for up to 21 days of active time.

		@mass		      = 6.8310
		@crashTolerance   = 12
		@breakingForce    = 250
		@breakingTorque   = 250
		@maxTemp	      = 800
		%skinMaxTemp	  = 2300
		%emissiveConstant	  = 0.850
		@CrewCapacity     = 6
		%fuelCrossFeed    = true
		@CoMOffset 		  = 0.000, -0.670, 0.000
		!CoLOffset 		  = NULL
		!CoDOffset 		  = NULL
		%bulkheadProfiles = size2, size3

		!INTERNAL[ALCOR_Monley_Internals]{}

		@MODULE[ModuleCommand]
		{
			RESOURCE
			{
				name = ElectricCharge
				rate = 1.350
			}
		}

		@MODULE[ModuleSAS]
		{
			%SASServiceLevel = 3
		}

		!MODULE[ModuleReactionWheel]{}

		@MODULE[ModuleScienceContainer]
		{
			@storageRange = 2.600
		}

		!MODULE[ModuleScienceLab]{}

		!MODULE[ModuleDataTransmitter]{}

		!MODULE[MechJebCore]{}

		!MODULE[ModuleGenerator]{}

		!MODULE[RasterPropMonitorComputer]{}

		!MODULE[ModuleAblator]{}

		!MODULE[ModuleHeatShield]{}

		!MODULE[ModuleAeroReentry]{}

		MODULE
		{
			name				  = ModuleRCS
			thrusterTransformName = RCSthruster
			thrusterPower		  = 0.237

			PROPELLANT
			{
				name  = Hydrazine
				ratio = 1.000
			}

			atmosphereCurve
			{
				key = 0 254.00
				key = 1 82.08
			}
		}

		MODULE
		{
			name		   = CoMShifter
			DescentModeCoM = 0.000, 0.000, -0.300
		}

		%skinMaxTemp = 3600
		%skinMassPerArea = 4
		MODULE
		{
			name = ModuleAblator
			ablativeResource = Ablator
			lossExp = -8000
			lossConst = 0.06
			pyrolysisLossFactor = 26000
			ablationTempThresh = 500
			reentryConductivity = 0.01
			charMax = 1
			charMin = 1
		}

		MODULE
		{
			name	 = ModuleFuelTanks
			basemass = -1
			type	 = ServiceModule
			volume	 = 130

			TANK
			{
				name	  = ElectricCharge
				amount	  = 43200
				maxAmount = 43200
			}

			TANK
			{
				name	  = Hydrazine
				amount	  = 85
				maxAmount = 85
			}
		}

		RESOURCE
		{
			name	  = Ablator
			amount	  = 1500
			maxAmount = 1500
		}

		!RESOURCE[AblativeShielding]{}

		!RESOURCE[ElectricCharge]{}

		!RESOURCE[MonoPropellant]{}
	}

//	==================================================
//	Orion Crew Module (EFT & MPCV).

//	Deadly Reentry configuration.
//	==================================================

	@PART[XOrionPodXbb31|XOrionPodX]:FOR[RealismOverhaul]:NEEDS[DeadlyReentry]
	{
		@MODULE[ModuleAblator]:NEEDS[DeadlyReentry]
		{
			@name			= ModuleHeatShield
			depletedMaxTemp = 1200
		}

		MODULE
		{
			name 				 = ModuleAeroReentry
			%skinMaxTemp 		 = 2500
			%skinThicknessFactor = 0.050
		}
	}

//	==================================================
//	Orion Crew Module (EFT & MPCV).

//	Remote Tech configuration.
//	==================================================

	@PART[XOrionPodXbb31|XOrionPodX]:FOR[RealismOverhaul]:NEEDS[RemoteTech]
	{
		MODULE
		{
			name = ModuleSPU
		}

		MODULE
		{
			name			  = ModuleRTAntenna
			IsRTActive		  = false
			Mode0OmniRange	  = 0
			Mode1OmniRange	  = 1000000
			EnergyCost		  = 0.005
			DeployFxModules	  = 0
			ProgressFxModules = 1

			TRANSMITTER
			{
				PacketInterval	   = 0.200
				PacketSize		   = 0.470
				PacketResourceCost = 0.050
			}
		}
	}

//	==================================================
/	Orion Crew Module (MPCV).

//	TAC Life Support configuration.
//	==================================================

	@PART[XOrionPodX]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
	{
		@MODULE[ModuleFuelTanks]
		{
			@volume = 1700

			TANK
			{
				name	  = Food
				amount	  = 737
				maxAmount = 737
			}

			TANK
			{
				name	  = Water
				amount	  = 23.22
				maxAmount = 23.22
			}

			TANK
			{
				name	  = Oxygen
				amount	  = 3550
				maxAmount = 3550
			}

			TANK
			{
				name	  = CarbonDioxide
				amount	  = 0
				maxAmount = 1530
			}

			TANK
			{
				name	  = Waste
				amount	  = 0
				maxAmount = 67.06
			}

			TANK
			{
				name	  = WasteWater
				amount	  = 0
				maxAmount = 620.53
			}

			TANK
			{
				name	  = LithiumHydroxide
				amount	  = 63
				maxAmount = 63
			}
		}

		MODULE
		{
			name		    = TacGenericConverter
			converterName   = CO2 Scrubber
			conversionRate  = 6.000
			inputResources  = CarbonDioxide, 0.006216, ElectricCharge, 0.010, LithiumHydroxide, 0.0000085683
			outputResources = Water, 0.0032924498, true, Waste, 0.0000257297, false
		}
	}

//	==================================================
//	SpaceX Dragon V2 Crew Module ladder.

//	Dimensions: 0.200 x 1.000 m
//	Gross Mass: 12.00 Kg
//	==================================================

	@PART[xDragonLadderx]:FOR[RealismOverhaul]
	{
		@module		 = Part
		%RSSROConfig = true

		MODEL
		{
			model	 = CMES/Pod/Parts/LazTekDragonV2Ladder/model
			scale	 = 1.125, 1.125, 1.125
			position = 0.000, 0.000, 0.000
			rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_attach = 0.000, 0.000, 0.000, 0.000, 0.000, -1.000

		@title		  = Dragon V2 Mobility Enhancer
		@manufacturer = SpaceX
		%description  = A mobility enhancement system.

		@mass			  = 0.0120
		@crashTolerance	  = 12
		%breakingForce	  = 250
		%breakingTorque	  = 250
		@maxTemp		  = 1073.15
		%fuelCrossFeed	  = false
		%bulkheadProfiles = srf
	}
