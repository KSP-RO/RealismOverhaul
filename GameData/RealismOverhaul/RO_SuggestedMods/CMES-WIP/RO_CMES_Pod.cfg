//  ==================================================
//  Sources:

//  From Apollo LM to Altair:                              http://www.csc.caltech.edu/references/AIAA-2009-6404.pdf
//  The NASA Docking System (NDS):                         https://web.archive.org/web/20130215180627/http://dockingstandard.nasa.gov/Meetings/TIM_%28Nov-17-2010%29/NDS_TIM_presentation.pdf
//  Orion MPCV Quick Facts:                                https://www.nasa.gov/sites/default/files/atoms/files/fs-2014-08-004-jsc-orion_quickfacts-web.pdf
//  Orion CEV Facts:                                       https://www.nasa.gov/pdf/306407main_orion_crew%20_expl_vehicle.pdf
//  Project Orion Overview:                                https://www.nasa.gov/pdf/156298main_orion_handout.pdf
//  Challenges of the Orion CM Touchdown Roll Orientation: https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20080015885.pdf
//  Aerojet Rocketdyne MR thruster series:                 http://www.asi.org/adb/04/03/09/01/rocket-research.html
//  ECLSS (Altair, Apollo, Orion, Lunar Outpost):          http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20090029327.pdf
//  The Orion MPCV European Service Module:                http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140010527.pdf

//  ==================================================
//  Removed extra parts.
//  ==================================================

!PART[xALCOR_LanderCapsule2x]:FOR[RealismOverhaul]{}

!PART[xALCOR_LanderCapsule3x]:FOR[RealismOverhaul]{}

!PART[Xcupola2X]:FOR[RealismOverhaul]{}

!PART[Xcupola3X]:FOR[RealismOverhaul]{}

!PART[xLERroverXBodyxX]:FOR[RealismOverhaul]{}

!PART[xLERroverXBod32xX]:FOR[RealismOverhaul]{}

!PART[xLERDockPortSHABSSA]:FOR[RealismOverhaul]{}

!PART[xLERDockPortSHABSSA3xq]:FOR[RealismOverhaul]{}

!PART[xLERDockPortSHABSSA3xXq]:FOR[RealismOverhaul]{}

!PART[xndsport2x]:FOR[RealismOverhaul]{}

!PART[xndsport3x]:FOR[RealismOverhaul]{}

!PART[xndsport5x]:FOR[RealismOverhaul]{}

!PART[xparachuteRadial2x]:FOR[RealismOverhaul]{}

//  ==================================================
//  MMSEV crew cabin.

//  Dimensions: 3.6 m x 2.8 m
//  Gross Mass: 2000 Kg
//  ==================================================

@PART[xALCOR_LanderCapsulex]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Pod/ALCOR_Monkey_Rover/Part/ALCORcapsule
        scale = 1.85, 1.85, 1.85
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.62, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.14, 0.0, 0.0, -1.0, 0.0, 3

    @title = MMSEV Crew Cabin
    @manufacturer = NASA
    @description = The MMSEV (Multi - Mission Space Exploration Vehicle) is a pressurized cabin exploration vehicle for either space or surface application. Features an airlock and a travel endurance for up to 10 kilometers.

    @mass = 2.0
    @crashTolerance = 8
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    @breakingForce = 250
    @breakingTorque = 250
    @vesselType = Ship
    !stagingIcon = NULL
    @CrewCapacity = 4
    %bulkheadProfiles = size3

    @MODULE[ModuleCommand]
    {
        %RESOURCE
        {
            %name = ElectricCharge
            %rate = 0.5
        }
    }

    @MODULE[ModuleSAS]
    {
        %SASServiceLevel = 3
    }

    MODULE[ModuleScienceContainer]
    {
        @storageRange = 3.0
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        basemass = -1
        volume = 15

        //  Batteries 3.6 kWh.

        TANK
        {
            name = ElectricCharge
            amount = 12960
            maxAmount = 12960
        }
    }

    !MODULE[ModuleScienceLab],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[RasterPropMonitorComputer],*{}

    !MODULE[KASModuleContainer],*{}

    !MODULE[MechJebCore],*{}

    !MODULE[ModuleConnectedLivingSpace],*{}

    MODULE:NEEDS[ConnectedLivingSpace]
    {
        name = ModuleConnectedLivingSpace
        passable = True
        impassablenodes = bottom
        surfaceAttachmentsPassable = True
    }

    !RESOURCE,*{}
}

//  ==================================================
//  MMSEV crew cabin.

//  Remote Tech compatibility.
//  ==================================================

@PART[xALCOR_LanderCapsulex]:FOR[RealismOverhaul]:NEEDS[RemoteTech]
{
    !MODULE[ModuleDataTransmitter],*{}

    !MODULE[ModuleSPU*],*{}

    !MODULE[ModuleRTAntenna*],*{}

    @MODULE[ModuleCommand]
    {
        @RESOURCE[ElectricCharge]
        {
            @rate -= 0.008
        }
    }

    MODULE
    {
        name = ModuleSPU
        IsRTCommandStation = False
        RTCommandMinCrew = 0
    }

    MODULE
    {
        name = ModuleRTAntenna
        IsRTActive = False
        Mode0OmniRange = 0
        Mode1OmniRange = 250000
        EnergyCost = 0.008
        DeployFxModules = 0
        ProgressFxModules = 1

        TRANSMITTER
        {
            PacketInterval = 1.0
            PacketSize = 1.024
            PacketResourceCost = 0.025
        }
    }
}

//  ==================================================
//  MMSEV crew cabin.

//  TAC Life Support compatibility.
//  ==================================================

@PART[xALCOR_LanderCapsulex]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
    @description ^= :$: Supports 2 crew for 7 days or up to 4 crew for half the time.:

    @mass -= 0.11

    @MODULE[ModuleFuelTanks]
    {
        @volume = 350

        TANK
        {
            name = Food
            amount = 81.89
            maxAmount = 81.89
        }

        TANK
        {
            name = Water
            amount = 54.19
            maxAmount = 54.19
        }

        TANK
        {
            name = Oxygen
            amount = 8285.76
            maxAmount = 8285.76
        }

        TANK
        {
            name = CarbonDioxide
            amount = 0
            maxAmount = 256
        }

        TANK
        {
            name = Waste
            amount = 0
            maxAmount = 7.45
        }

        TANK
        {
            name = WasteWater
            amount = 0
            maxAmount = 68.95
        }

        TANK
        {
            name = LithiumHydroxide
            amount = 15.75
            maxAmount = 15.75
        }
    }

    MODULE
    {
        name = TacGenericConverter
        converterName = CO2 Scrubber
        conversionRate = 2.0
        inputResources = CarbonDioxide, 0.006216, ElectricCharge, 0.010, LithiumHydroxide, 0.0000085683
        outputResources = Water, 0.0032924498, True, Waste, 0.0000257297, False
    }
}

//  ==================================================
//  Altair ascent module (LDAC - 2 configuration).

//  Dimensions: 5.5 m x 6 m
//  Gross Mass: 10610 Kg

//  This part is currently missing from CMES but we
//  retain it's RO config for a future release.
//  ==================================================

@PART[altairPod]:FOR[RealismOverhaul]
{
    %RSSROConfig = False

    !mesh = NULL

    MODEL
    {
        model = CMES/Pod/altairPod/altairPod
        scale = 1.0, 1.0, 1.0
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.22, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -3.8, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 5.1
    %crashTolerance = 8
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    %fuelCrossFeed = True
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = size2, size3
    @CrewCapacity = 4

    %engineType = AJ10_190
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = True

    !INTERNAL[ALCORMonleyInternals]{}

    @MODULE[ModuleCommand]
    {
        @minimumCrew = 0

        RESOURCE
        {
            name = ElectricCharge
            rate = 1.15
        }
    }

    @MODULE[ModuleSAS]
    {
        %SASServiceLevel = 3
    }

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 26.7
        @maxThrust = 26.7
        @heatProduction = 100
        %exhaustDamageMultiplier = 0.75
        %ullage = False
        %pressureFed = True
        %ignitions = 500

        @PROPELLANT[LiquidFuel]
        {
            @name = MMH
            @ratio = 0.499
        }

        @PROPELLANT[Oxidizer]
        {
            @name = MON3
            @ratio = 0.501
            @DrawGauge = False
        }

        @atmosphereCurve
        {
            @key,0 = 0 316
            @key,1 = 1 100
        }
    }

    @MODULE[ModuleRCS]
    {
        @thrusterPower = 0.445
        !resourceName = NULL

        PROPELLANT
        {
            name = MMH
            ratio = 0.499
        }

        PROPELLANT
        {
            name = NTO
            ratio = 0.501
        }

        PROPELLANT
        {
            name = Helium
            ratio = 10.0
            ignoreForIsp = True
        }

        @atmosphereCurve
        {
            @key,0 = 0 300
            @key,1 = 1 82
        }
    }

    !MODULE[RasterPropMonitorComputer],*{}

    !MODULE[MechJebCore],*{}

    !MODULE[ModuleAlternator],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 4900
        basemass = -1

        //  Batteries 3.6 kWh.

        TANK
        {
            name = ElectricCharge
            amount = 12960
            maxAmount = 12960
        }

        //  AMAE & ACS fuel 2015 Kg.

        TANK
        {
            name = MMH
            amount = 2290
            maxAmount = 2290
        }

        //  AMAE & ACS oxidizer 3273 Kg.

        TANK
        {
            name = MON3
            amount = 2300
            maxAmount = 2300
        }

        //  AMAE & ACS Helium 9 Kg.

        TANK
        {
            name = Helium
            amount = 45900
            maxAmount = 45900
        }
    }

    !MODULE[ModuleConnectedLivingSpace],*{}

    MODULE:NEEDS[ConnectedLivingSpace]
    {
        name = ModuleConnectedLivingSpace
        passable = True
        impassablenodes = bottom
        surfaceAttachmentsPassable = True
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Altair ascent module (LDAC - 2 configuration).

//  Engine configuration.
//  ==================================================

@PART[altairPod]:AFTER[RealismOverhaulEngines]
{
    @title = Altair Ascent Module
    @manufacturer = Boeing Co. & NASA
    @description = The ascent module for the Altair lunar lander.

    //  AJ10-190 has 6 degrees of gimbal for pitch and 7 for yaw.

    @MODULE[ModuleGimbal]
    {
        !gimbalRange = NULL
        %gimbalRangeXP = 6
        %gimbalRangeXN = 6
        %gimbalRangeYP = 7
        %gimbalRangeYN = 7
    }
}

//  ==================================================
//  Altair ascent module (LDAC - 2 configuration).

//  Remote Tech compatibility.
//  ==================================================

@PART[altairPod]:FOR[RealismOverhaul]:NEEDS[RemoteTech]
{
    !MODULE[ModuleDataTransmitter],*{}

    !MODULE[ModuleSPU*],*{}

    !MODULE[ModuleRTAntenna*],*{}

    @MODULE[ModuleCommand]
    {
        @RESOURCE[ElectricCharge]
        {
            @rate -= 0.015
        }
    }

    MODULE
    {
        name = ModuleSPU
        IsRTCommandStation = False
        RTCommandMinCrew = 0
    }

    MODULE
    {
        name = ModuleRTAntenna
        IsRTActive = False
        Mode0OmniRange = 1000000
        Mode1OmniRange = 1000000
        EnergyCost = 0.015
        DeployFxModules = 0
        ProgressFxModules = 1

        TRANSMITTER
        {
            PacketInterval = 1.0
            PacketSize = 1.024
            PacketResourceCost = 0.05
        }
    }
}

//  ==================================================
//  Altair ascent module (LDAC - 2 configuration).

//  TAC Life Support compatibility.
//  ==================================================

@PART[altairPod]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
    @description ^= :$: Supports a 4 crew lunar sortie for up to 7 days.:

    @mass -= 0.16

    @MODULE[ModuleFuelTanks]
    {
        @volume = 5400

        TANK
        {
            name = Food
            amount = 163.8
            maxAmount = 163.8
        }

        TANK
        {
            name = Water
            amount = 15.5
            maxAmount = 15.5
        }

        TANK
        {
            name = Oxygen
            amount = 2367.5
            maxAmount = 2367.5
        }

        TANK
        {
            name = CarbonDioxide
            amount = 0
            maxAmount = 2048
        }

        TANK
        {
            name = Waste
            amount = 0
            maxAmount = 14.91
        }

        TANK
        {
            name = WasteWater
            amount = 0
            maxAmount = 137.9
        }

        TANK
        {
            name = LithiumHydroxide
            amount = 63
            maxAmount = 63
        }
    }

    MODULE
    {
        name = TacGenericConverter
        converterName = CO2 Scrubber
        conversionRate = 4.0
        inputResources = CarbonDioxide, 0.006216, ElectricCharge, 0.010, LithiumHydroxide, 0.0000085683
        outputResources = Water, 0.0032924498, True, Waste, 0.0000257297, False
    }
}

//  ==================================================
//  Linear RCS thruster (low thrust).

//  Dimensions: 0.1 m x 0.2 m
//  Inert Mass: 1.5 Kg
//  ==================================================

@PART[B9_Control_RCS_Port_R1x]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        %scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0

    @title = R1 - A Attitude Jet (69/111N class)
    @manufacturer = Generic
    @description = A generic, single port, RCS thruster for attitude control.

    @mass = 0.0015
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    @fuelCrossFeed = True
    %bulkheadProfiles = srf

    %useRcsConfig = RCSBlockQuarter
    %useRcsMass = True
    %useRcsCostMult = 0.25

    @MODULE[ModuleRCS]
    {
        @thrusterPower = 0.069
        !resourceName = NULL
        @resourceFlowMode = STACK_PRIORITY_SEARCH

        PROPELLANT
        {
            name = Hydrazine
            ratio = 1.0
        }

        @atmosphereCurve
        {
            @key,0 = 0 254
            @key,1 = 1 82
        }
    }
}

//  ==================================================
//  Linear RCS thruster (medium thrust).

//  Dimensions: 0.15 m x 0.3 m
//  Inert Mass: 3 Kg
//  ==================================================

@PART[B9_Control_RCS_Port_R1X1x]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        %scale = 1.5, 1.5, 1.5
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0

    @title = R1 - B Attitude Jet (138/233N class)
    @manufacturer = Generic
    @description = A generic, single port, RCS thruster for attitude control.

    @mass = 0.003
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    @fuelCrossFeed = True
    %bulkheadProfiles = srf

    %useRcsConfig = RCSBlockHalf
    %useRcsMass = True
    %useRcsCostMult = 0.25

    @MODULE[ModuleRCS]
    {
        @thrusterPower = 0.138
        !resourceName = NULL
        @resourceFlowMode = STACK_PRIORITY_SEARCH

        PROPELLANT
        {
            name = Hydrazine
            ratio = 1.0
        }

        @atmosphereCurve
        {
            @key,0 = 0 254
            @key,1 = 1 82
        }
    }
}

//  ==================================================
//  Linear RCS thruster (high thrust).

//  Dimensions: 0.15 m x 0.3 m
//  Inert Mass: 12 Kg
//  ==================================================

@PART[B9_Control_RCS_Port_R1Ox]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        %scale = 2.5, 2.5, 2.5
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0

    @title = R1 - C Attitude Jet (550/890N class)
    @manufacturer = Generic
    @description = A generic, single port, RCS thruster for attitude control.

    @mass = 0.012
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    @fuelCrossFeed = True
    %bulkheadProfiles = srf

    %useRcsConfig = RCSBlockDouble
    %useRcsMass = True
    %useRcsCostMult = 0.25

    @MODULE[ModuleRCS]
    {
        @thrusterPower = 0.55
        !resourceName = NULL
        @resourceFlowMode = STACK_PRIORITY_SEARCH

        PROPELLANT
        {
            name = Hydrazine
            ratio = 1.0
        }

        @atmosphereCurve
        {
            @key,0 = 0 254
            @key,1 = 1 82
        }
    }
}

//  ==================================================
//  Orion parachute pack.

//  Dimensions: 2.175 m x 0.5 m
//  Gross Mass: 250 Kg
//  ==================================================

@PART[xcstparachutex]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Pod/cstParachute/model
        scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_bottom = 0.0, -0.21, 0.0, 0.0, -1.0, 0.0, 2
    @node_attach = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0

    @title = Orion Parachute Pack
    @manufacturer = Lockheed Martin
    %description = The main parachute pack for the Orion command module.

    @mass = 0.25
    @crashTolerance = 10
    @maxTemp = 773.15
    %skinMaxTemp = 873.15
    @breakingForce = 250
    @breakingTorque = 250
    @bulkheadProfiles = size2
    @stageOffset = 1
    @childStageOffset = 1
    @stagingIcon = PARACHUTES

    @MODULE[ModuleParachute]
    {
        @semiDeployedDrag = 25
        @fullyDeployedDrag = 500
        @minAirPressureToOpen = 0.04
        @clampMinAirPressure = 0.04
        @deployAltitude = 1000
        @deploymentSpeed = 0.12
        @semiDeploymentSpeed = 0.5
        @chuteMaxTemp = 400
    }

    %MODULE
    {
        %name = ModuleDragModifier
        %dragCubeName = SEMIDEPLOYED
        %dragModifier = 15
    }

    @MODULE[ModuleDragModifier]
    {
        @dragModifier = 150
    }
}

//  ==================================================
//  Orion parachute pack.

//  RealChute compatibility.
//  ==================================================

@PART[xcstparachutex]:FOR[RealismOverhaul]:NEEDS[RealChute]
{
    !sound_parachute_open = NULL

    @category = none

    !MODULE[ModuleParachute],*{}

    !MODULE[RealChute*],*{}

    MODULE
    {
        name = RealChuteModule
        caseMass = 0.175
        timer = 0
        mustGoDown = True
        spareChutes = 0
        cutSpeed = 0.5
        secondaryChute = False

        PARACHUTE
        {
            material = Nylon
            preDeployedDiameter = 3.5
            deployedDiameter = 41.0
            minIsPressure = False
            minDeployment = 3500
            deploymentAlt = 1250
            cutAlt = 0
            preDeploymentSpeed = 2
            deploymentSpeed = 6
            preDeploymentAnimation = semiDeploy
            deploymentAnimation = fullyDeploy
            parachuteName = canopy
            capName = cap
        }
    }

    EFFECTS
    {
        rcpredeploy
        {
            AUDIO
            {
                channel = Ship
                clip = sound_parachute_open
                volume = 1
            }
        }

        rcdeploy
        {
            AUDIO
            {
                channel = Ship
                clip = sound_parachute_single
                volume = 1
            }
        }

        rccut
        {
            AUDIO
            {
                channel = Ship
                clip = RealChute/Sounds/sound_parachute_cut
                volume = 1
            }
        }

        rcrepack
        {
            AUDIO
            {
                channel = Ship
                clip = RealChute/Sounds/sound_parachute_repack
                volume = 1
            }
        }
    }
}

//  ==================================================
//  Expanded Observation Module.

//  Dimensions: 4.25 m x 2.5 m
//  Gross Mass: 3200 Kg
//  ==================================================

@PART[XcupolaX]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.7, 1.7, 1.7
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.428, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -0.68, 0.0, 0.0, -1.0, 0.0, 3

    @title = Expanded Observation Module
    @manufacturer = Thales Alenia Space
    @description = A larger version of the observation cupola module originally deployed on the ISS.

    @mass = 3.2
    @crashTolerance = 8
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    @vesselType = Station
    @bulkheadProfiles = size3

    @MODULE[ModuleCommand]
    {
        @minimumCrew = 0

        %RESOURCE
        {
            %name = ElectricCharge
            %rate = 0.375
        }
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 25
        basemass = -1

        TANK
        {
            name = ElectricCharge
            amount = 21600
            maxAmount = 21600
        }
    }

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleScienceContainer],*{}

    !MODULE[ModuleConnectedLivingSpace],*{}

    MODULE:NEEDS[ConnectedLivingSpace]
    {
        name = ModuleConnectedLivingSpace
        passable = True
        impassablenodes = top
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Expanded Observation Module.

//  TAC Life Support compatibility.
//  ==================================================

@PART[XcupolaX]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
    @description ^= :$: Supports a crew of 1 for a single day. Air filtering unit included:

    @mass -= 0.005

    @MODULE[ModuleFuelTanks]
    {
        @volume = 55

        TANK
        {
            name = Oxygen
            amount = 592
            maxAmount = 592
        }

        TANK
        {
            name = CarbonDioxide
            amount = 0
            maxAmount = 256
        }

        TANK
        {
            name = LithiumHydroxide
            amount = 2.25
            maxAmount = 2.25
        }
    }

    MODULE
    {
        name = TacGenericConverter
        converterName = CO2 Scrubber
        conversionRate = 1.0
        inputResources = CarbonDioxide, 0.006216, ElectricCharge, 0.010, LithiumHydroxide, 0.0000085683
        outputResources = Water, 0.0032924498, True, Waste, 0.0000257297, False
    }
}

//  ==================================================
//  Pegasus IA low profile ladder.

//  Dimensions: 0.4 m x 0.4 m
//  Inert Mass: 5 Kg
//  ==================================================

@PART[xladder1x]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Pod/ladderRadial/model
        scale = 1.333, 1.333, 1.333
    }

    %scale = 1.0
    %rescaleFactor = 1.0

    @node_attach = -0.06, 0.0, 0.0, 1.0, 0.0, 0.0

    @title = Pegasus IA Mobility Enhancer (Low Profile)
    @manufacturer = Generic
    %description = The Pegasus IA Mobility Enhancer, known in some circles as a "ladder", is a state-of-the-art vertical mobility device, allowing your intrepid crew to scamper around the exterior of your ship like highly caffeinated rodents.

    @mass = 0.005
    @crashTolerance = 14
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    %fuelCrossFeed = False
}

//  ==================================================
//  Mobile base chassis.

//  Dimensions: 2.5 m x 5.3 m
//  Inert Mass: 400 Kg
//  ==================================================

@PART[xLERroverBodyx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Pod/LER_base/model
        scale = 2.125, 2.125, 1.85
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.125, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -0.95, 0.0, 0.0, -1.0, 0.0, 3
    !node_stack_1 = NULL
    !node_stack_2 = NULL
    !node_stack_3 = NULL
    !node_stack_4 = NULL
    !node_stack_5 = NULL
    !node_stack_6 = NULL

    @title = Mobile Base Chassis
    @manufacturer = NASA
    @description = A modular structural frame. Can be used as a chassis for the MMSEV rover or for mobile surface habitats.

    @mass = 0.4
    @crashTolerance = 14
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    !explosionPotential = NULL
    %bulkheadProfiles = size2, size3
    !CoMOffset = NULL
    !CoLOffset = NULL

    !MODULE,*{}

    !RESOURCE,*{}
}

//  ==================================================
//  Surface Docking Mechanism (SDM).

//  Dimensions: 1.2 m x 1.7 m
//  Inert Mass: 350 Kg
//  ==================================================

@PART[xLERDockPortxs]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Pod/LER_dockport/model
        scale = 1.6, 1.6, 1.6
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, -0.2, 0.0, -1.0, 0.0, 0.0

    @title = Surface Docking Mechanism (SDM)
    %manufacturer = Boeing Co.
    @description = The SDM provides a safe pressurized passage for crew and cargo between surface - landed modules or exploration rovers.

    @mass = 0.35
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 673.15
    %skinMaxTemp = 673.15
    !stagingIcon = NULL
    %bulkheadProfiles = srf

    @MODULE[ModuleDockingNode]
    {
        @nodeType = NASADockSurf
        %acquireForce = 0.5
        %acquireMinFwdDot = 0.8
        %acquireminRollDot = -3.40282347E+38
        %acquireRange = 0.25
        %acquireTorque = 0.5
        %captureMaxRvel = 0.1
        %captureMinFwdDot = 0.998
        %captureMinRollDot = -3.40282347E+38
        %captureRange = 0.05
        %minDistanceToReEngage = 0.25
        %undockEjectionForce = 0.1
    }

    @MODULE[ModuleAnimateGeneric]
    {
        @startEventGUIName = Deploy Docking Port
        @endEventGUIName = Retract Docking Port
        %actionGUIName = Toggle Docking Port
        %allowAnimationWhileShielded = False
    }

    !MODULE[ModuleConnectedLivingSpace],*{}

    MODULE:NEEDS[ConnectedLivingSpace]
    {
        name = ModuleConnectedLivingSpace
        passable = True
        passableWhenSurfaceAttached = True
    }
}
