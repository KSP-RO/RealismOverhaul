//  ==================================================
//  Sources:

//  Orbital ATK - GEM-60 brochure:                           http://www.alternatewars.com/BBOW/Space_Engines/GEM-60.pdf
//  Orbital ATK SRM catalog:                                 https://www.orbitalatk.com/flight-systems/propulsion-systems/launch-abort-motor/docs/orbital_atk_motor_catalog_(2012).pdf
//  NASASpaceFlight101 - "Dark Knight" Advanced Booster:     http://www.nasaspaceflight.com/2013/01/the-dark-knights-atks-advanced-booster-revealed-for-sls/
//  NASASpaceFlight101 - Orbital ATK Advanced Boosters:      http://www.nasaspaceflight.com/2015/02/advanced-boosters-towards-solid-future-sls/
//  Space Launch Report - Space Launch System Data Sheet:    http://www.spacelaunchreport.com/sls0.html
//  Space Launch Report - Delta IV:                          http://www.spacelaunchreport.com/delta4.html
//  Norbert Brügge - Ares I:                                 http://www.b14643.de/Spacerockets_2/United_States_1/Ares-I_CLV/Description/Frame.htm
//  Norbert Brügge - Delta IV:                               http://www.b14643.de/Spacerockets_2/United_States_5/Delta_IV/Description/Frame.htm
//  Rocket & Space Technology - Delta IV:                    http://www.braeunig.us/space/specs/delta.htm
//  Spaceflight101 - Delta IV Medium (5,2):                  http://spaceflight101.com/spacerockets/delta-iv-medium-52/
//  ULA - Delta IV user guide:                               http://www.ulalaunch.com/uploads/docs/Launch_Vehicles/Delta_IV_Users_Guide_June_2013.pdf
//  Norbert Brügge - RL10 rocket engine:                     http://www.b14643.de/Spacerockets/Specials/P&W_RL10_engine/index.htm
//  Aerojet Rocketdyne - RL10 rocket engine:                 https://www.rocket.com/rl10-engine
//  NTRS - Cryogenic Propulsion Stage:                       http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20110015783.pdf
//  AIAA - Lunar Lander Designs:                             http://www.sei.aero/eng/papers/uploads/archive/AIAA-2013-5479_Paper.pdf
//  Space Launch Report - Falcon 9:                          http://www.spacelaunchreport.com/falcon.html
//  Spaceflight 101 - Falcon 9 v1.1:                         http://spaceflight101.com/spacerockets/falcon-9-v1-1-f9r/
//  Astronautix - Kestrel rocket engine:                     http://www.astronautix.com/k/kestrel.html
//  Astronautix - J-2X rocket engine:                        http://www.astronautix.com/engines/j2x.htm
//  Aerojet Rocketdyne - J-2X rocket engine:                 http://rocket.com/j-2x-engine
//  The J-2X Upper Stage Engine: From Design to Hardware:    http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20100034922.pdf
//  FAA - DragonFly pad abort test:                          https://www.faa.gov/about/office_org/headquarters_offices/ast/media/20140513_DragonFly_DraftEA_Appendices%28reduced%29.pdf
//  Aerojet Rocketdyne - Orion Service Module:               https://www.rocket.com/orion-service-module
//  Aerojet Rocketdyne - Orion Crew Module:                  https://www.rocket.com/orion-crew-module
//  Aerojet Rocketdyne - Orion Main Engine:                  https://www.rocket.com/orion-main-engine
//  Spaceflight101 - Orion spacecraft overview:              http://spaceflight101.com/spacecraft/orion/
//  NTRS - Orion European Service Module (PowerPoint):       http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140008543.pdf
//  NTRS - Orion European Service Module (Document):         http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140010527.pdf
//  NTRS - "Bimodal" Nuclear Thermal Rocket (BNTR):          http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20040182399.pdf
//  AIAA - "Trimodal" Nuclear Thermal Rocket (TRITON):       http://alternatewars.com/BBOW/Space_Engines/AIAA-2004-3863_TRITON.pdf
//  NTRS - Crewed Mars Mission using BNTEP:                  http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140009579.pdf
//  Pratt & Whitney Rocketdyne - RS-68 rocket engine:        http://www.alternatewars.com/BBOW/Space_Engines/RS-68.pdf
//  Purdue AAE - RS-68 rocket engine:                        https://engineering.purdue.edu/~propulsi/propulsion/rockets/liquids/rs68.html
//  NASASpaceFlight101 - Exploration Upper Stage:            http://www.nasaspaceflight.com/2014/10/nasa-exploration-upper-stage-workhorse-sls/
//  NTRS - SLS Dual Use Upper Stage (DUUS) Opportunities:    http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20130013953.pdf
//  NASASpaceFlight101 - Large Upper Stage (LUS):            http://www.nasaspaceflight.com/2013/11/new-sls-options-new-large-upper-stage/
//  Constellation Program Battery and Fuel Cell Development: https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20120016064.pdf

//  ==================================================
//  Removed extra parts.
//  ==================================================

!PART[MonkeyCargoBoosterADJ]:FOR[RealismOverhaul]{}

!PART[xvulcanx]:FOR[RealismOverhaul]{}

!PART[xKW2mtankL2x]:FOR[RealismOverhaul]{}

!PART[xKW2mtankL2x22]:FOR[RealismOverhaul]{}

!PART[XSLSXPANDX]:FOR[RealismOverhaul]{}

!PART[XSLSXPANDXMLS]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b12]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b1223]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b1223918]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_t3MTVDRIVEX]:FOR[RealismOverhaul]{}

!PART[nervaII_kerbscale2xx]:FOR[RealismOverhaul]{}

!PART[XNP_lft_8_0m_6mzxx6drto]:FOR[RealismOverhaul]{}

!PART[XNP_lft_8_0m_6mzxx6drto323ehbsas]:FOR[RealismOverhaul]{}

!PART[XXxAres1J2-XHIG33H]:FOR[RealismOverhaul]{}

!PART[xKosmos_SepRetroxDUNA]:FOR[RealismOverhaul]{}

!PART[xKosmos_SepRe3nstrox]:FOR[RealismOverhaul]{}

!PART[XNP_lftadj]:FOR[RealismOverhaul]{}

!PART[XNP_lft_?375?x3]:FOR[RealismOverhaul]{}

!PART[XNP_lft_?375x3SHORT]:FOR[RealismOverhaul]{}

!PART[XNP_lft_xtrt3mCCB8MAx232]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHORTWSS]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHORTW55hs]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHOR663TWSS]:FOR[RealismOverhaul]{}

!PART[XDiusNP_lf222t_?375?x3i]:FOR[RealismOverhaul]{}

!PART[XDiusNP_lf333222t_?375?x3i]:FOR[RealismOverhaul]{}

!PART[IUSXNP_lft_?3322HORTx23]:FOR[RealismOverhaul]{}

!PART[Xafa191m23312NTRMUNAR1X]:FOR[RealismOverhaul]{}

!PART[Xafa191m23312NTRMUNA534naR1X]:FOR[RealismOverhaul]{}

!PART[NP_CHAKAEMLVENGINE222C]:FOR[RealismOverhaul]{}

!PART[DUNARETROTANKLARGE]:FOR[RealismOverhaul]{}

!PART[DUNARETROTANKLARGE2x]:FOR[RealismOverhaul]{}

!PART[DUNARETROTANKm2]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_tankMUNAR1X]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5mNA_8m_tankMUNAR1X]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_tankBLOCKII]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_tankBLOCKg874njsII]:FOR[RealismOverhaul]{}

!PART[xmonkeyreptarCFx]:FOR[RealismOverhaul]{}

!PART[xbahars68bxb]:FOR[RealismOverhaul]{}

//  ==================================================
//  GEM-60 SRM.

//  Dimensions: 1.52 m x 16.2 m
//  Gross Mass: 33200 Kg (w/o TVC), 33800 Kg (w/ TVC)
//  ==================================================

@PART[CHAKAKWsrbGlobeIz]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 3.333, 3.333, 3.333
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -0.6, 0.0, 0.0, 0.0

    @category = Engine

    @mass = 3.08
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    %engineType = GEM-60
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 826.5
        @heatProduction = 100
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 274
            @key,1 = 1 246
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 4.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAnimateHeat],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = SRBs
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 16780
        basemass = -1

        //  HTPB/AP propellant mixture mass 29700 Kg.

        TANK
        {
            name = HTPB
            amount = 16780
            maxAmount = 16780
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  5 segment Reusable Solid Rocket Motor (RSRMV).

//  Dimensions: 3.71 m x 47.5 m
//  Gross Mass: 735000 Kg
//  ==================================================

@PART[xKWsrbGlobeX10Lx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.87, 2.42, 1.87
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 23.715, 0.0, 0.0, 1.0, 0.0, 3
    %node_stack_bottom = 0.0, -23.75, 0.0, 0.0, -1.0, 0.0, 3
    %node_stack_parachute = 0.0, 24.715, 0.0, 0.0, 1.0, 0.0, 2
    @node_attach = 0.0, 0.0, -1.95, 0.0, 0.0, 0.0

    @category = Engine

    @mass = 85.5
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %fuelCrossFeed = False
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf, size2, size3

    %engineType = RSRMV
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 15800
        @heatProduction = 100
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = PBAN
        }

        @atmosphereCurve
        {
            @key,0 = 0 266
            @key,1 = 1 242
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 8.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAnimateHeat],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = SRBs
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = PBAN
        volume = 365485
        basemass = -1

        //  PBAN/AP propellant mixture mass 647640 Kg.

        TANK
        {
            name = PBAN
            amount = 365485
            maxAmount = 365485
        }
    }

    !RESOURCE,*{}
}
//  ==================================================
//  4 segment Reusable Solid Rocket Motor (RSRM).

//  Dimensions: 3.71 m x 38 m
//  Gross Mass: 565400 Kg

//  The inert mass value does not include the mass of
//  the nose cone, recovery parachutes and other
//  auxiliary modules.
//  ==================================================

@PART[XSLSSRB]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.68, 1.415, 1.68
        %rotation = 0.0, 90.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.635, 0.0, 0.0, 1.0, 0.0, 3
    %node_stack_bottom = 0.0, -35.435, 0.0, 0.0, -1.0, 0.0, 3
    %node_stack_parachute = 0.0, 3.635, 0.0, 0.0, 1.0, 0.0, 2
    @node_attach = 0.0, 0.0, 1.97, 0.0, 0.0, -1.0

    @category = Engine

    @mass = 65.57
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %fuelCrossFeed = False
    %stageOffset = 1
    %childStageOffset = 1
    @CoMOffset = 0.0, -16.0, 0.0
    %bulkheadProfiles = srf, size2, size3

    %engineType = RSRM
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 14234.3
        @heatProduction = 100
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = PBAN
        }

        @atmosphereCurve
        {
            @key,0 = 0 263
            @key,1 = 1 246
        }
    }

    !MODULE[ModuleGimbal],*{}

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 8.0
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = PBAN
        volume = 282088
        basemass = -1

        //  PBAN/AP propellant mixture mass 499860 Kg.

        TANK
        {
            name = PBAN
            amount = 282088
            maxAmount = 282088
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage auxiliary propellant tank.

//  Dimensions: 7.5 m x 3 m
//  Inert Mass: 1390 Kg
//  ==================================================

@PART[ADVINTER]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.5, 1.0, 1.5
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 5
    %node_stack_decoupler = 0.0, 11.73, 0.0, 0.0, 1.0, 0.0, 5

    @category = FuelTank
    @title = EDS - IV Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Earth Departure Stage (EDS). Doubles as a dual engine mount.

    @mass = 1.39
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size3, size5

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 63000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Delta IV Common Booster Core (CBC).

//  Dimensions: 5 m x 35 m
//  Gross Mass: 220000 Kg
//  ==================================================

@PART[xNP_lft_125m_6mxA]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 4.0, 4.65, 4.0
        %position = 0.0, 0.0, 0.0
        %rotation = 0.0, -110.0, 0.0
    }

    MODEL
    {
        model = CMES/Propulsion/NOVA-CHAKA-TANK-FOAM2/model
        scale = 1.0, 2.325, 1.0
        position = 0.0, 17.4225, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 20.895, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -14.0, 0.0, 0.0, -1.0, 0.0, 4
    @node_attach = 0.0, 0.0, -2.5, 0.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV Common Booster Core (CBC)
    @manufacturer = United Launch Alliance (ULA)
    %description = The Common Booster Core propellant tank for the Delta IV launch vehicle.

    @mass = 18.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %fuelCrossFeed = True
    %bulkheadProfiles = size4

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 559045
        basemass = -1

        //  CBC fuel mass 28860 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 407300
            maxAmount = 407300
        }

        //  CBC oxidizer mass 173140 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 151745
            maxAmount = 151745
        }
    }

    !RESOURCE,*{}

    //  Avionics batteries 50 Wh.
    //  Supports the CBC for the initial duration of the flight (approximately 4 minutes).
    //  Assumes that the electricity consumption of the CBC avionics is 200 W.

    RESOURCE
    {
        name = ElectricCharge
        amount = 180
        maxAmount = 180
    }
}

//  ==================================================
//  Mars Ascent Vehicle main propellant tank.

//  Dimensions: 3.75 m x 3.3 m
//  Gross Mass: 1050 Kg
//  ==================================================

@PART[XNP_lft_8_0m_6mzxx6]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/DRTO/model
        scale = 0.75, 0.55, 0.75
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.643, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.66, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.89, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = MAV - I Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic pressurized propellant tank for the Mars Ascent Vehicle (MAV).

    @mass = 1.05
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    !linearStrength = NULL
    !angularStrength = NULL
    !vesselType = NULL
    %bulkheadProfiles = size3

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 30000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage auxiliary propellant tank.

//  Dimensions: 8.4 m x 2 m
//  Inert Mass: 3310 Kg
//  ==================================================

@PART[XNP_lft_W375x3SHORTW]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.685, 1.0, 1.685
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.49, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -1.49, 0.0, 0.0, -1.0, 0.0, 5
    %node_attach = 3.35, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = EDS - II Propellant Tank
    @manufacturer = Boeing Co.
    %description = A generic cryogenic propellant tank for the Earth Departure Stage (EDS).

    @mass = 3.31
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size5

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 150000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  DCSS-4 LOX tank.

//  Dimensions: 3.2 m x 3.5 m
//  Gross Mass: 17950 Kg
//  ==================================================

@PART[XIUSLOWERXxxxtall2G]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.275, 1.75, 1.275
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.7, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_top1 = 0.0, 0.6, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.7, 0.0, 0.0, -1.0, 0.0, 2
    @node_stack_bottom1 = 0.0, -0.575, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.67, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LOX Tank (4 Meters)
    @manufacturer = United Launch Alliance (ULA)
    @description = This cryogenic liquid oxygen tank forms the lower portion of the 4 meter DCSS stage for the Delta IV family of launch vehicles.

    @mass = 0.41
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size2, size3

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 15620
        basemass = -1

        //  DCSS-4 oxidizer mass 17822 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 15620
            maxAmount = 15620
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  DCSS-5 LOX tank.

//  Dimensions: 3.2 m x 4 m
//  Gross Mass: 23780 Kg
//  ==================================================

@PART[XIUSLOWERXxxxtall]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        @scale = 1.275, 2.0, 1.275
    }

    @node_stack_top = 0.0, 1.95, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_top1 = 0.0, 0.75, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.95, 0.0, 0.0, -1.0, 0.0, 2
    @node_stack_bottom1 = 0.0, -0.725, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.67, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LOX Tank (5 Meters)
    @manufacturer = United Launch Alliance (ULA)
    @description = This cryogenic liquid oxygen tank forms the lower portion of the 5 meter DCSS stage for the Delta IV family of launch vehicles.

    @mass = 0.47
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size2, size3

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 20360
        basemass = -1

        //  DCSS-5 oxidizer mass 23587 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 20360
            maxAmount = 20360
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  RL10 engine.

//  Dimensions: 2.13 m x 4.14 m
//  Inert Mass: 277 Kg

//  Modeled after the RL10B-2 and RL10C-1 variants (long nozzle extensions).
//  Includes the CECE variants (Base, High Thrust & Methane).
//  ==================================================

@PART[XXxAres1J2-XHIGH]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/J2X/model
        scale = 1.2, 1.2, 1.2
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.95, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.405, 0.0, 0.0, -1.0, 0.0, 2

    @category = Engine

    @mass = 0.277
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %bulkheadProfiles = size2

    %engineType = RL10
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 111.2
        @maxThrust = 111.2
        @heatProduction = 100
        %ullage = True
        %pressureFed = False
        %ignitions = 15

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7335
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2665
        }

        @atmosphereCurve
        {
            @key,0 = 0 462
            @key,1 = 1 235
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 4.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RL10 engine.

//  Engine configuration.
//  ==================================================

@PART[XXxAres1J2-XHIGH]:AFTER[RealismOverhaulEngines]
{
    @title = RL10B/C/CECE Series
    @manufacturer = Aerojet Rocketdyne
    @description = The modern iterations of the workhorse RL10 engine (RL-10B-2, RL-10C-1 & CECE).

    @MODULE[ModuleEngineConfigs]
    {
        @configuration = RL10B-2

        !CONFIG,*:HAS[~name[RL10B-2],~name[RL10C-1],~name[CECE-Base],~name[CECE-High],~name[CECE-Methane]]{}
    }
}

//  ==================================================
//  RD-253/RD-275 engine.

//  Dimensions: 1.5 x 2.72 m
//  Gross Mass: 1080 Kg
//  ==================================================

@PART[XKosmos_Angara_RD-275KX]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/Kosmos_Angara_RD-275K/model_RD-275K
        scale = 1.25, 1.225, 1.25
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.335, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.335, 0.0, 0.0, -1.0, 0.0, 3

    @category = Engine

    @mass = 1.08
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = size3

    %engineType = RD253
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 1748
        @maxThrust = 1748
        @heatProduction = 100
        @engineAccelerationSpeed = 0
        %ullage = True
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4061
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5939
        }

        @atmosphereCurve
        {
            @key,0 = 0 294.7
            @key,1 = 1 322.2
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 7.5
        %useGimbalResponseSpeed = True
        @gimbalResponseSpeed = 16
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Kestrel-1B engine.

//  Dimensions: 0.5 m x 1.25 m
//  Gross Mass: 60 Kg
//  ==================================================

@PART[XKosmos_TKS_RD-0225_EngineLANDERS]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/KOSMOS - CHAKA LANDER ENGINE/model
        scale = 2.667, 2.667, 2.667
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = Engine

    @mass = 0.06
    @minimum_drag = 0.1
    @maximum_drag = 0.2
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = srf

    %engineType = Kestrel_1B
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 23.1
        @maxThrust = 30.7
        @heatProduction = 100
        %ullage = True
        %pressureFed = True
        %ignitions = 4

        @PROPELLANT[MonoPropellant]
        {
            @name = LqdMethane
            @ratio = 0.4935
        }

        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5064
            DrawGauge = False
        }

        @atmosphereCurve
        {
            @key,0 = 0 300
            @key,1 = 1 120
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 3.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  SEP - 100 separation motor.

//  Dimensions: 0.175 m x 1 m
//  Gross Mass: 50 Kg
//  ==================================================

@PART[xKosmos_SepRetrox]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.85, 0.85, 0.85
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = -0.008, 0.0, 0.0, -1.0, 0.0, 0.0
    @attachRules = 0,1,0,0,0

    @category = Engine
    @title = SEP - 100 Separation Motor
    %manufacturer = Generic
    @description = A generic solid rocket motor for safe separation of discarded rocket stages.

    @mass = 0.05
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 100
        @heatProduction = 100
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL
        %EngineType = SolidBooster
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 250
            @key,1 = 1 220
        }
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 16
        basemass = -1

        //  HTPB/AP propellant mixture mass ~28 Kg.

        TANK
        {
            name = HTPB
            amount = 16
            maxAmount = 16
        }
    }

    !MODULE[ModuleEngineConfigs],*{}

    MODULE
    {
        name = ModuleEngineConfigs
        type = ModuleEnginesRF
        configuration = SEP-100
        origMass = 0.05
        modded = False

        CONFIG
        {
            name = SEP-100
            minThrust = 0
            maxThrust = 100
            heatProduction = 100

            ullage = False
            pressureFed = False
            ignitions = 1

            PROPELLANT
            {
                name = HTPB
                ratio = 1.0
                DrawGauge = True
            }

            atmosphereCurve
            {
                key = 0 250
                key = 1 220
            }
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  SEP - 50 separation motor.

//  Dimensions: 0.175 m x 0.5 m
//  Gross Mass: 30 Kg
//  ==================================================

@PART[xKosmos_SepRetroxMLS]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.85, 0.425, 0.85
    }

    %scale = 1.0
    %rescaleFactor = 1.0

    @node_attach = -0.008, 0.0, 0.0, -1.0, 0.0, 0.0
    @attachRules = 0,1,0,0,0

    @category = Engine
    @title = SEP - 50 Separation Motor
    %manufacturer = Generic
    @description = A generic solid rocket motor for safe separation of discarded rocket stages.

    @mass = 0.03
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 50
        @heatProduction = 100
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL
        %EngineType = SolidBooster
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 250
            @key,1 = 1 220
        }
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 8
        basemass = -1

        //  HTPB/AP propellant mixture mass ~14 Kg.

        TANK
        {
            name = HTPB
            amount = 8
            maxAmount = 8
        }
    }

    !MODULE[ModuleEngineConfigs],*{}

    MODULE
    {
        name = ModuleEngineConfigs
        type = ModuleEnginesRF
        configuration = SEP-50
        origMass = 0.03
        modded = False

        CONFIG
        {
            name = SEP-50
            minThrust = 0
            maxThrust = 50
            heatProduction = 100

            ullage = False
            pressureFed = False
            ignitions = 1

            PROPELLANT
            {
                name = HTPB
                ratio = 1.0
                DrawGauge = True
            }

            atmosphereCurve
            {
                key = 0 250
                key = 1 220
            }
        }
    }

    !RESOURCE,*{}
}
//  ==================================================
//  SuperDraco engine.

//  Dimensions: 0.2 m x 2 m
//  Gross Mass: 130 Kg
//  ==================================================

@PART[xLazTekSuperDracosx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/LazTekSuperDracos/model
        scale = 1.67, 1.67, 1.67
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, 0.0, 0.0, 0.0, -1.0

    @category = Engine

    @mass = 0.13
    @crashTolerance = 12
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    %engineType = SuperDraco
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 29.2
        @maxThrust = 146
        @exhaustDamage = True
        @heatProduction = 100
        %ullage = True
        %pressureFed = False
        %ignitions = -1

        @PROPELLANT[LiquidFuel]
        {
            @name = MMH
            @ratio = 0.5583
        }

        @PROPELLANT[Oxidizer]
        {
            @name = MON3
            @ratio = 0.4417
        }

        @atmosphereCurve
        {
            @key,0 = 0 280
            @key,1 = 1 240
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  J-2X engine.

//  Dimensions: 3.05 m x 4.7 m
//  Gross Mass: 2470 Kg
//  ==================================================

@PART[XROVERENGINE]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/KW2mengineSPS ORION/model
        scale = 1.667, 1.667, 1.667
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.2, 0.0, 0, -1, 0, 3

    @category = Engine

    @mass = 2.47
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = size3

    %engineType = J2X
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 1072
        @maxThrust = 1308
        @heatProduction = 100
        %ullage = True
        %pressureFed = False
        %ignitions = 8

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7454
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2546
        }

        @atmosphereCurve
        {
            @key,0 = 0 448
            @key,1 = 1 200
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 7.5
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Orion MPCV Service Module.

//  Dimensions: 4 m x 2.8 m
//  Gross Mass: 12600 Kg
//  ==================================================

@PART[XLFTORIONLARGE]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/LFT_ORION/model
        scale = 1.0667, 1.305, 1.0667
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.465, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.585, 0.0, 0.0, -1.0, 0.0, 3
    !node_stack_bottom2 = NULL
    @node_attach = 1.38, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Orion MPCV Service Module
    @manufacturer = Airbus Defence & Space
    %description = The Service Module for the Orion MPCV. Derived from the Automatic Transfer Vehicle (ATV) Service Module.

    @mass = 3.8
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %fuelCrossFeed = False
    %bulkheadProfiles = srf, size3
    %emissiveConstant = 0.85
    %heatConductivity = 0.7
    %thermalMassModifier = 5.0
    %radiatorHeadroom = 0.506

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 8170
        basemass = -1

        //  Batteries 840 Wh.

        TANK
        {
            name = ElectricCharge
            amount = 3025
            maxAmount = 3025
        }

        //  Life support water mass 280 Kg.

        TANK
        {
            name = Water
            amount = 280
            maxAmount = 280
        }

        //  OME & ACS fuel mass 8600 Kg.

        TANK
        {
            name = MMH
            amount = 3745
            maxAmount = 3745
        }

        //  OME & ACS mass oxidizer.

        TANK
        {
            name = MON3
            amount = 3760
            maxAmount = 3760
        }
    }

    !MODULE[ModuleActiveRadiator],*{}

    MODULE
    {
        name = ModuleActiveRadiator
        maxEnergyTransfer = 12500
        overcoolFactor = 0.506
        isCoreRadiator = True
        maxLinksAway = 0

        RESOURCE
        {
            name = ElectricCharge
            rate = 0.17
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Orion MPCV Service Module.

//  TAC Life Support compatibility.
//  ==================================================

@PART[XLFTORIONLARGE]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
    @mass -= 0.07

    @MODULE[ModuleFuelTanks]
    {
        @volume = 8400

        //  Oxygen 66 Kg.

        TANK
        {
            name = Oxygen
            amount = 46810
            maxAmount = 46810
        }
    }
}

//  ==================================================
//  Mars Transfer Vehicle auxiliary propellant tank.

//  Dimensions: 10 m x 6 m
//  Gross Mass: 4420 Kg
//  ==================================================

@PART[XNP_interstage_5m_8m_tMTVDRIVEX]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 1.95, 2.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.925, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -2.95, 0.0, 0.0, -1.0, 0.0, 5
    !node_stack_1 = NULL
    !node_stack_2 = NULL
    !node_stack_3 = NULL
    !node_stack_4 = NULL

    @category = FuelTank
    @title = MTV - II Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Mars Transfer Vehicle.

    @mass = 4.42
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size3

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 200000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Bimodal Nuclear Thermal Rocket (BNTR).

//  Dimensions: 1.56 m x 3.24 m
//  Gross Mass: 2220 Kg
//  ==================================================

@PART[nervaII_kerbscalexx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.7, 0.875, 0.7
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.445, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -4.55, 0.0, 0.0, -1.0, 0.0, 2

    @category = Engine

    @mass = 2.17
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %fuelCrossFeed = True
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = size2

    %engineType = BNTR
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 111.2
        @maxThrust = 111.2
        @heatProduction = 100
        %ullage = True
        %pressureFed = False
        %ignitions = 10

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 1.0
        }

        @PROPELLANT[Oxidizer]
        {
            @name = EnrichedUranium
            @ratio = 1.6428e-17
        }

        @atmosphereCurve
        {
            @key,0 = 0 925
            @key,1 = 1 380
        }
    }

    !MODULE[ModuleGimbal],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleResourceConverter],*{}

    MODULE
    {
        name = ModuleResourceConverter
        ConverterName = RTG
        StartActionName = Start RTG
        StopActionName = Stop RTG
        AlwaysActive = True
        FillAmount = 1.0
        AutoShutdown = False
        GeneratesHeat = True
        TemperatureModifier = 2.0
        UseSpecializationBonus = False
        DefaultShutoffTemp = 0.5

        INPUT_RESOURCE
        {
            ResourceName = EnrichedUranium
            Ratio = 1.6428e-17
        }

        OUTPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 5.0
        }

        OUTPUT_RESOURCE
        {
            ResourceName = DepletedUranium
            Ratio = 1.6428e-17
        }
    }

    !RESOURCE,*{}

    //  Uranium-235 pellets mass ~55 Kg.

    RESOURCE
    {
        name = EnrichedUranium
        amount = 5
        maxAmount = 5
    }

    RESOURCE
    {
        name = DepletedUranium
        amount = 0
        maxAmount = 5
    }
}

//  ==================================================
//  Pegasus engine pod.

//  Dimensions: 2.2 m x 1.2 m
//  Gross Mass: 250 Kg
//  ==================================================

@PART[nosExplorerRadialEngine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/NOSRADIAL/model
        scale = 0.6, 0.6, 0.6
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @category = Engine

    @mass = 0.25
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = srf

    %engineType = RD0242M2
    %engineTypeMult = 2
    %massOffset = 0.01
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 30
        @maxThrust = 50
        @heatProduction = 100
        %ullage = False
        %pressureFed = False
        %ignitions = 6

        @PROPELLANT[LiquidFuel]
        {
            @name = MMH
            @ratio = 0.5036
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.4964
        }

        @atmosphereCurve
        {
            @key,0 = 0 280
            @key,1 = 1 100
        }
    }

    //  Two Aerojet Rocketdyne R-4D-11 (490 N) bipropellant thrusters on each axis for fine attitude control.

    @MODULE[ModuleRCS*]
    {
        @thrusterPower = 0.98
        !resourceName = NULL

        PROPELLANT
        {
            name = MMH
            ratio = 0.5036
        }

        PROPELLANT
        {
            name = NTO
            ratio = 0.4964
        }

        @atmosphereCurve
        {
            @key,0 = 0 311
            @key,1 = 1 84
        }
    }
}

//  ==================================================
//  Pegasus engine pod.

//  Engine configuration.
//  ==================================================

@PART[nosExplorerRadialEngine]:AFTER[RealismOverhaulEngines]
{
    @title = Pegasus Engine Pod
    @manufacturer = Boeing Co. & KB Khimavtomatiki [Kosberg]
    @description = Radially mounted engine pod, originally designed for the Pegasus Descent Module. Contains the engines and RCS thrusters for attitude control.
}

//  ==================================================
//  RSRM structural extension.

//  Dimensions: 3.71 m x 9 m
//  Gross Mass: 5000 Kg
//  ==================================================

@PART[XNP_lft_W375SRB]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.742, 3.0, 0.742
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 4.445, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -4.53, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.85, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = Structural
    @title = RSRM Structural Extension
    @manufacturer = Orbital ATK
    %description = A structural extension for the 4 Segment RSRM. Does not contain propellant.

    @mass = 5.0
    @crashTolerance = 14
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size3
}

//  ==================================================
//  Mars Transfer Vehicle main propellant tank.

//  Dimensions: 10 m x 18 m
//  Inert Mass: 28500 Kg
//  ==================================================

@PART[XNP_lft_8_0m_6mzxx6222]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 3.0, 2.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 8.955, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -9.05, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 5.0, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = MTV - I Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Mars Transfer Vehicle.

    @mass = 28.5
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    !linearStrength = NULL
    !angularStrength = NULL
    !vesselType = NULL
    %bulkheadProfiles = size5

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 1050000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  DCSS-5 LH2 tank.

//  Dimensions: 5 m x 2.85 m
//  Gross Mass: 1540 Kg
//  ==================================================

@PART[IUSXNP_lft_?375x3S222HORT]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 0.95, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.42, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -1.42, 0.0, 0.0, -1.0, 0.0, 4
    @node_attach = 3.333, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LH2 Tank (5 Meters)
    @manufacturer = United Launch Alliance (ULA)
    %description = The liquid hydrogen tank for the 5 meter DCSS.

    @mass = 1.54
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size4

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 56045
        basemass = -1

        //  DCSS-5 fuel mass 4032 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 56045
            maxAmount = 56045
        }
    }

    !RESOURCE,*{}
}
//  ==================================================
//  Delta IV Common Booster Core (CBC) LOX tank.

//  Since tank domes are missing, we cheat the tank volume to include the propellant contained by them.

//  Dimensions: 5.000 x 6.700 m
//  Gross Mass: 177389.00 Kg
//  Volume: 151183.17 L
//  ==================================================

    @PART[XNP_lft_?375?x3]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.000, 2.200, 1.000
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  3.280, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -3.280, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 3.330,  0.000, 0.000, 1.000,  0.000, 0.000

        @title        = Delta IV CBC LOX tank
        @manufacturer = United Launch Alliance (ULA)
        %description  = The cryogenic liquid oxygen tank for the Delta IV Common Booster Core (CBC).

        @mass             = 4.8893
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 151183.17
            basemass = -1

            TANK
            {
                name      = LqdOxygen
                amount    = 151183.17
                maxAmount = 151183.17
            }
        }

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

    }

//  ==================================================
//  DCSS-4 LH2 tank.

//  Dimensions: 4 m x 3 m
//  Gross Mass: 1000 Kg
//  ==================================================

@PART[IUSXNP_lft_?3322HORT]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.805, 1.0, 0.805
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.455, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.455, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 3.333, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LH2 Tank (4 Meters)
    @manufacturer = United Launch Alliance (ULA)
    @description = The liquid hydrogen tank for the Delta IV 4 meter DCSS.

    @mass = 1.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size3

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 43000
        basemass = -1

        //  DCSS-4 fuel mass 3047 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 43000
            maxAmount = 43000
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Mars Transfer Vehicle auxiliary propellant tank.

//  Dimensions: 10 m x 5 m
//  Gross Mass: 4000 Kg
//  ==================================================

@PART[XNP_lft_xtrt3mCCB8MAx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 1.0, 2.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.485, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -1.485, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 4.5, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = MTV - III Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic pressurized propellant tank for the Mars Transfer Vehicle.

    @mass = 4.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size5

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 160000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Small surface habitation module propellant tank.

//  Dimensions: 5 m x 1 m
//  Gross Mass: 600 Kg
//  ==================================================

@PART[Xafa191m23312NTR]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 0.325, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.48, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -0.48, 0.0, 0.0, -1.0, 0.0, 4
    @node_attach = 2.0, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = RL - II Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic pressurized propellant tank for surface habitation modules.

    @mass = 0.6
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size4

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 18000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage main propellant tank.

//  Dimensions: 8.4 m x 11 m
//  Gross Mass: 11600 Kg
//  ==================================================

@PART[XNP_lft_xtrt3mCCB8MAx2]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.68, 3.68, 1.68
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 5.5, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -5.5, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 5.5, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = EDS - I Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Space Launch System Earth Departure Stage (EDS).

    @mass = 11.6
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size3

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 560000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Delta IV CBC engine mount.

//  Dimensions: 5 m x 4 m
//  Gross Mass: 1530 Kg
//  ==================================================

@PART[NP_CHAKAEMLVENGINE]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 2.0, 2.0
        %rotation = 0.0, 0.0, 180.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.0, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -2.05, 0.0, 0.0, -1.0, 0.0, 2

    @category = Structural
    @title = Delta IV CBC Engine Mount
    @manufacturer = Orbital ATK
    @description = The RS-68 engine mount for the Delta IV Common Booster Core (CBC).

    @mass = 1.53
    @crashTolerance = 14
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size2, size4

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  Mars Ascent Vehicle auxiliary propellant tank.

//  Dimensions: 3.75 m x 2 m
//  Gross Mass: 410 Kg
//  ==================================================

@PART[NP_CHAKAEMLVENGINEx221]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.5, 1.0, 1.5
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.95, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -0.95, 0.0, 0.0, -1.0, 0.0, 3
    @node_stack_1 = 0.0, -0.2, 0.00, 0.0, 1.0, 0.0, 3

    @category = FuelTank
    @title = MAV - II Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic pressurized propellant tank for the Mars Ascent Vehicle (MAV).

    @mass = 0.41
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    !fuelCrossFeed,* = NULL
    %fuelCrossFeed = True
    %bulkheadProfiles = size3

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 5400
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage auxiliary propellant tank.

//  Dimensions: 7.5 m x 2.5 m
//  Gross Mass: 1300 Kg
//  ==================================================

@PART[NP_CHAKAEMLVENGINE2]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 3.0, 1.2, 3.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.2, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.2, 0.0, 0.0, -1.0, 0.0, 5
    %node_stack_decoupler = 0.0, 12.0, 0.0, 0.0, 1.0, 0.0, 5

    @category = FuelTank
    @title = EDS - III Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Space Launch System Earth Departure Stage (EDS).

    @mass = 1.3
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    @bulkheadProfiles = size3, size5

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 60000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Small radial propellant tank.

//  Dimensions: 0.3 m x 0.8 m
//  Gross Mass: 50 Kg
//  ==================================================

@PART[XrcsTankRadialLongHVX]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/ROVER-RCS/model
        scale = 0.5, 0.5, 0.5
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -0.075, 0.0, 0.0, -1.0

    @category = FuelTank
    @title = RMT - I Propellant Tank
    %manufacturer = Generic
    @description = A general purpose, radially mounted, pressurized propellant tank.

    @mass = 0.005
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = srf

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 45
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Large radial propellant tank.

//  Dimensions: 0.6 m x 1.5 m
//  Gross Mass: 370 Kg
//  ==================================================

@PART[XrcsTankRadialLongHVXLP]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/ROVER-RCS/model
        scale = 1.0, 1.0, 1.0
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -0.075, 0.0, 0.0, -1.0

    @category = FuelTank
    @title = RMT - II Propellant Tank
    %manufacturer = Generic
    @description = A general purpose, radially mounted, pressurized propellant tank.

    @mass = 0.04
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = srf

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 330
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Aerojet Rocketdyne RS - 68 engine.

//  Dimensions: 2.430 x 5.200 m
//  Gross Mass: 6597.00 Kg
//  Throttle Range: 60% to 100%
//  Burn Time: 249 s
//  O/F Ratio: 6.00
//  ==================================================

    @PART[xbahars68bx]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/rs68b/model
            scale    = 1.000, 1.000, 1.000
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        %scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  2.615, 0.000, 0.000,  1.000, 0.000, 2
        @node_stack_bottom = 0.000, -2.587, 0.000, 0.000, -1.000, 0.000, 2
        @node_attach       = 0.000,  2.615, 0.000, 0.000,  1.000, 0.000, 2

        @category     = Engine
        @title        = RS-68 [2.3 m]
        @manufacturer = Aerojet Rocketdyne
        @description  = The RS-68 is gas generator engine design, powered by liquid hydrogen and liquid oxygen. It is used on the Common Booster Core (CBC) of the Delta IV launch vehicle.

        @mass             = 6.597
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %bulkheadProfiles = size2

        @MODULE[ModuleEngines*]
        {
            @minThrust      = 1734.84
            @maxThrust      = 2891.40
            @heatProduction = 100
            !fxOffset       = NULL
            %ullage         = true
            %pressureFed    = false
            %ignitions      = 1

            IGNITOR_RESOURCE
            {
                name   = LqdHydrogen
                amount = 0.7285
            }

            IGNITOR_RESOURCE
            {
                name   = LqdOxygen
                amount = 0.2714
            }

            IGNITOR_RESOURCE
            {
                name   = ElectricCharge
                amount = 0.500
            }

            @PROPELLANT[LiquidFuel]
            {
                @name  = LqdHydrogen
                @ratio = 0.7285
            }

            @PROPELLANT[Oxidizer]
            {
                @name  = LqdOxygen
                @ratio = 0.2714
            }

            @atmosphereCurve
            {
                @key,0 = 0 409.10
                @key,1 = 1 356.90
            }
        }

        @MODULE[ModuleGimbal]
        {
            @gimbalRange            = 6.000
            %useGimbalResponseSpeed = true
            %gimbalResponseSpeed    = 16
        }

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            origMass      = 6.597
            configuration = RS-68
            modded        = false

            CONFIG
            {
                name      = RS-68
                minThrust = 1734.84
                maxThrust = 2891.40

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 409.10
                    key = 1 356.90
                }
            }

            CONFIG
            {
                name      = RS-68A
                minThrust = 1838.69
                maxThrust = 3064.49
                massMult  = 1.0216

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 415.20
                    key = 1 364.00
                }
            }

            CONFIG
            {
                name      = RS-68B
                minThrust = 1873.62
                maxThrust = 3122.70
                massMult  = 1.0290

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 420.00
                    key = 1 369.90
                }
            }
        }

        !MODULE[ModuleEngineConfigs]{}

        !MODULE[ModuleAlternator]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  Space Launch System (SLS) core booster.

//  This is a hypothetical design, using five instead of four RS-25E engines. Uses the data from October 22, 2015 for the Block I, Block IB & Block II.

//  Dimensions: 8.384 x 62.54 m
//  Gross Mass: 1091536.00 Kg
//  Throttle Range: 67% to 100%
//  Burn Time: 476 s
//  O/F Ratio: 6.03
//  Volume: 2665855.00 L
//  ==================================================

    @PART[MonkeyCargoBoosterSLSADJ]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.600, 1.600, 1.600
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        MODEL
        {
            model    = CMES/Propulsion/SLS-EXPANSION/model
            scale    = 1.685, 0.750, 1.685
            position = 0.000, 4.500, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,   6.740, 0.000, 0.000,  1.000, 0.000, 3
        %node_stack_bottom = 0.000, -54.655, 0.000, 0.000, -1.000, 0.000, 3

        @category     = Engine
        @title        = SLS Core Booster (Block I / IB / II)
        @manufacturer = NASA
        @description  = The Space Launch System (SLS) core booster stage. Equipped with five RS-25E engines.

        @mass             = 125.4650
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        %childStageOffset = 1
        %stagingIcon      = LIQUID_ENGINE
        @CoMOffset        = 0.000, -27.000, 0.000

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        @MODULE[ModuleEngines*]
        {
            @minThrust      = 6995.49
            @maxThrust      = 10441.04
            @heatProduction = 100
            !fxOffset       = NULL
            %ullage         = true
            %pressureFed    = false
            %ignitions      = 1

            @PROPELLANT[LiquidFuel]
            {
                @name  = LqdHydrogen
                @ratio = 0.7275
            }

            @PROPELLANT[Oxidizer]
            {
                @name  = LqdOxygen
                @ratio = 0.2724
            }

            @atmosphereCurve
            {
                @key,0 = 0 452.00
                @key,1 = 1 366.00
            }
        }

        MODULE
        {
            name                = KM_Gimbal_3
            gimbalTransformName = thrustTransform
            yawGimbalRange      = 8.000
            pitchGimbalRange    = 8.000
            gimbalConstrain     = 8.000
            responseSpeed       = 16
            enableRoll          = true
        }

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            configuration = RS-25E
            modded        = false

            CONFIG
            {
                name      = RS-25E
                minThrust = 6995.49
                maxThrust = 10441.04

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7275
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name  = LqdOxygen
                    ratio = 0.2724
                }

                atmosphereCurve
                {
                    key = 0 452.00
                    key = 1 366.00
                }
            }
        }

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 2665855
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 1939607
                maxAmount = 1939607
            }

            TANK
            {
                name      = LqdOxygen
                amount    = 726248
                maxAmount = 726248
            }
        }
    }

//  ==================================================
//  Space Launch System Exploration Upper Stage (EUS).

//  Dimensions: 8.384 x 18.300 m
//  Gross Mass: 141168.00 Kg
//  Volume: 357813.00 L
//  ==================================================

    @PART[TALUS]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.170, 1.300, 1.170
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    =  0.000,   6.680,  0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom =  0.000, -11.500,  0.000, 0.000, -1.000, 0.000, 3
        @node_stack_1      = -1.820,  -8.000, -1.820, 0.000, -1.000, 0.000, 3
        @node_stack_2      =  1.820,  -8.000, -1.820, 0.000, -1.000, 0.000, 3
        @node_stack_3      = -1.820,  -8.000,  1.820, 0.000, -1.000, 0.000, 3
        @node_stack_4      =  1.820,  -8.000,  1.820, 0.000, -1.000, 0.000, 3

        @category     = FuelTank
        @title        = SLS EUS
        @manufacturer = Boeing Co.
        @description  = The Exploration Upper Stage (EUS) for the Space Launch System Block IB and II.

        @mass             = 11.8786
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        !MODULE[ModuleCommand]{}

        !MODULE[MechJebCore]{}

        !MODULE[ModuleSAS]{}

        !MODULE[ModuleReactionWheel]{}

        MODULE
        {
            name     = ModuleFuelTanks
            type     = BalloonCryo
            volume   = 357813
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 260689
                maxAmount = 260689
            }

            TANK
            {
                name      = LqdOxygen
                amount    = 97124
                maxAmount = 97124
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[ElectricCharge]{}

        !RESOURCE[MonoPropellant]{}
    }
