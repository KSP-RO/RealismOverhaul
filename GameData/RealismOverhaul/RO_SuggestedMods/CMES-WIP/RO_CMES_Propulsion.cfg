//  ==================================================
//  Sources:

//  Orbital ATK - GEM-60 SRM brochure:                              http://www.alternatewars.com/BBOW/Space_Engines/GEM-60.pdf
//  Orbital ATK SRM catalog:                                        https://www.orbitalatk.com/flight-systems/propulsion-systems/docs/2016%20OA%20Motor%20Catalog.pdf
//  NASASpaceFlight101 - "Dark Knight" Advanced Booster:            http://www.nasaspaceflight.com/2013/01/the-dark-knights-atks-advanced-booster-revealed-for-sls/
//  NASASpaceFlight101 - Orbital ATK Advanced Boosters:             http://www.nasaspaceflight.com/2015/02/advanced-boosters-towards-solid-future-sls/
//  Space Launch Report - Space Launch System Data Sheet:           http://www.spacelaunchreport.com/sls0.html
//  Space Launch Report - Delta IV launch vehicle:                  http://www.spacelaunchreport.com/delta4.html
//  Norbert Brügge - Ares I:                                        http://www.b14643.de/Spacerockets_2/United_States_1/Ares-I_CLV/Description/Frame.htm
//  Norbert Brügge - Delta IV:                                      http://www.b14643.de/Spacerockets_2/United_States_5/Delta_IV/Description/Frame.htm
//  Rocket & Space Technology - Delta IV:                           http://www.braeunig.us/space/specs/delta.htm
//  Spaceflight101 - Delta IV Medium (5,2):                         http://spaceflight101.com/spacerockets/delta-iv-medium-52/
//  ULA - Delta IV users guide:                                     http://www.ulalaunch.com/uploads/docs/Launch_Vehicles/Delta_IV_Users_Guide_June_2013.pdf
//  Norbert Brügge - RL10 rocket engine:                            http://www.b14643.de/Spacerockets/Specials/P&W_RL10_engine/index.htm
//  Aerojet Rocketdyne - RL10 rocket engine:                        https://www.rocket.com/rl10-engine
//  NTRS - Cryogenic Propulsion Stage:                              http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20110015783.pdf
//  AIAA - Lunar Lander Designs:                                    http://www.sei.aero/eng/papers/uploads/archive/AIAA-2013-5479_Paper.pdf
//  Space Launch Report - Falcon 9 launch vehicle:                  http://www.spacelaunchreport.com/falcon.html
//  Spaceflight 101 - Falcon 9 v1.1 launch vehicle:                 http://spaceflight101.com/spacerockets/falcon-9-v1-1-f9r/
//  Encyclopedia Astronautica - Kestrel rocket engine:              http://www.astronautix.com/k/kestrel.html
//  Encyclopedia Astronautica - J-2X rocket engine:                 http://www.astronautix.com/engines/j2x.htm
//  Aerojet Rocketdyne - J-2X rocket engine:                        http://rocket.com/j-2x-engine
//  NTRS - The J-2X Upper Stage Engine: From Design to Hardware:    http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20100034922.pdf
//  FAA - DragonFly pad abort test:                                 https://www.faa.gov/about/office_org/headquarters_offices/ast/media/20140513_DragonFly_DraftEA_Appendices%28reduced%29.pdf
//  Aerojet Rocketdyne - Orion Service Module:                      https://www.rocket.com/orion-service-module
//  Aerojet Rocketdyne - Orion Crew Module:                         https://www.rocket.com/orion-crew-module
//  Aerojet Rocketdyne - Orion Main Engine:                         https://www.rocket.com/orion-main-engine
//  Spaceflight101 - Orion spacecraft overview:                     http://spaceflight101.com/spacecraft/orion/
//  NTRS - Orion European Service Module (PowerPoint):              http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140008543.pdf
//  NTRS - Orion European Service Module (Document):                http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140010527.pdf
//  NTRS - "Bimodal" Nuclear Thermal Rocket (BNTR):                 http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20040182399.pdf
//  AIAA - "Trimodal" Nuclear Thermal Rocket (TRITON):              http://alternatewars.com/BBOW/Space_Engines/AIAA-2004-3863_TRITON.pdf
//  NTRS - Crewed Mars Mission using BNTEP:                         http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140009579.pdf
//  Pratt & Whitney Rocketdyne - RS-68 rocket engine:               http://www.alternatewars.com/BBOW/Space_Engines/RS-68.pdf
//  Purdue AAE - RS-68 rocket engine:                               https://engineering.purdue.edu/~propulsi/propulsion/rockets/liquids/rs68.html
//  NASASpaceFlight101 - Exploration Upper Stage:                   http://www.nasaspaceflight.com/2014/10/nasa-exploration-upper-stage-workhorse-sls/
//  NTRS - SLS Dual Use Upper Stage (DUUS) Opportunities:           http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20130013953.pdf
//  NASASpaceFlight101 - Large Upper Stage (LUS):                   http://www.nasaspaceflight.com/2013/11/new-sls-options-new-large-upper-stage/
//  NTRS - Constellation Program Battery and Fuel Cell Development: https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20120016064.pdf

//  ==================================================
//  Removed extra parts.
//  ==================================================

!PART[ADVINTER2]:FOR[RealismOverhaul]{}

!PART[MonkeyCargoBoosterADJ]:FOR[RealismOverhaul]{}

!PART[xNP_lft_125m_6mx2224A]:FOR[RealismOverhaul]{}

!PART[XNP_lft_8_0m_6mzxx6mrtoX]:FOR[RealismOverhaul]{}

!PART[xKosmos_SepRetroxDUNA]:FOR[RealismOverhaul]{}

!PART[xKosmos_SepRe3nstrox9000]:FOR[RealismOverhaul]{}

!PART[xKosmos_SepRe3nstrox]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b12239182]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b1223]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b1223918]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b12]:FOR[RealismOverhaul]{}

!PART[xKW2mtankL2x22]:FOR[RealismOverhaul]{}

!PART[xKW2mtankL2x]:FOR[RealismOverhaul]{}

!PART[XLFTORIONLARGEx3m]:FOR[RealismOverhaul]{}

!PART[XSLSXPANDXMLS]:FOR[RealismOverhaul]{}

!PART[nervaII_kerbscale2xx2]:FOR[RealismOverhaul]{}

!PART[nervaII_kerbscale2xx]:FOR[RealismOverhaul]{}

!PART[XNP_lft_xtrt8mC1199987711CB8MA288x]:FOR[RealismOverhaul]{}

!PART[XNP_lft_xtrt8mC1199987711CB8MA2x]:FOR[RealismOverhaul]{}

!PART[XNP_lftadj]:FOR[RealismOverhaul]{}

!PART[XNP_lft_?375?x3]:FOR[RealismOverhaul]{}

!PART[XNP_lft_?375x3SHORT]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHORTW]:FOR[RealismOverhaul]{}

!PART[XNP_lftadj5rxx]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375Wx3]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHOR663TWSS]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHORTW55hs]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHORTWSS]:FOR[RealismOverhaul]{}

!PART[XDiusNP_lf222t_?375?x3i]:FOR[RealismOverhaul]{}

!PART[XDiusNP_lf333222t_?375?x3i]:FOR[RealismOverhaul]{}

!PART[IUSXNP_lft_?3322HORTx23]:FOR[RealismOverhaul]{}

!PART[XNP_lft_xtrt3mCCB8MAx232]:FOR[RealismOverhaul]{}

!PART[XNP_lft_8_0m_6mzxx6222X2]:FOR[RealismOverhaul]{}

!PART[Xafa191m23312NTRMUNA534naR1X]:FOR[RealismOverhaul]{}

!PART[Xafa191m23312NTRMUNAR1X]:FOR[RealismOverhaul]{}

!PART[NP_CHAKAEMLVENGINE222C]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5mNA_8m_tankMUNAR1X]:FOR[RealismOverhaul]{}

!PART[xmonkeyreptarCFx]:FOR[RealismOverhaul]{}

!PART[xbahars68bxb]:FOR[RealismOverhaul]{}

//  ==================================================
//  GEM-60 SRM.

//  Dimensions: 1.52 m x 16.2 m
//  Gross Mass: 33200 Kg (w/o TVC), 33800 Kg (w/ TVC)
//  ==================================================

@PART[CHAKAKWsrbGlobeIz]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 3.333, 3.333, 3.333
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -0.63, 0.0, 0.0, 0.0

    @mass = 3.08
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    %engineType = GEM-60

    @MODULE[ModuleEngines*]
    {
        @minThrust = 826.5
        @maxThrust = 826.5
        @heatProduction = 46
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 274
            @key,1 = 1 246
        }
    }

    !MODULE[ModuleAnimateHeat],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = SRBs
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }
}

//  ==================================================
//  5 segment Reusable Solid Rocket Motor (RSRMV).

//  Dimensions: 3.71 m x 47.5 m
//  Gross Mass: 735000 Kg
//  ==================================================

@PART[xKWsrbGlobeX10Lx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.87, 2.42, 1.87
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 23.715, 0.0, 0.0, 1.0, 0.0, 3
    %node_stack_bottom = 0.0, -23.75, 0.0, 0.0, -1.0, 0.0, 3
    %node_stack_parachute = 0.0, 24.715, 0.0, 0.0, 1.0, 0.0, 2
    @node_attach = 0.0, 0.0, -1.855, 0.0, 0.0, 0.0

    @mass = 85.5
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %fuelCrossFeed = False
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf, size2, size3

    %engineType = RSRMV

    @MODULE[ModuleEngines*]
    {
        @minThrust = 15800
        @maxThrust = 15800
        @heatProduction = 20
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0

        @PROPELLANT[SolidFuel]
        {
            @name = PBAN
        }

        @atmosphereCurve
        {
            @key,0 = 0 266
            @key,1 = 1 242
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 8.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAnimateHeat],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = SRBs
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = PBAN
        volume = 365485
        basemass = -1

        //  PBAN/AP propellant mixture mass 647640 Kg.

        TANK
        {
            name = PBAN
            amount = 365485
            maxAmount = 365485
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Advanced Booster.

//  Dimensions: 3.71 m x 53.5 m
//  Gross Mass: 793790 Kg
//  ==================================================

@PART[XKWsrbGlobeX5X]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        @scale = 2.218, 3.4775, 2.218
    }

    @scale = 1.0
    %rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -1.855, 0.0, 0.0, 0.0

    @mass = 84.79
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    %engineType = ASRB

    @MODULE[ModuleEngines*]
    {
        @minThrust = 20337
        @maxThrust = 20337
        @heatProduction = 26
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 266
            @key,1 = 1 242
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 8.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAnimateEmissive],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = SRBs
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 400565
        basemass = -1

        //  HTPB/AP propellant mixture mass 709000 Kg.

        TANK
        {
            name = HTPB
            amount = 400565
            maxAmount = 400565
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  4 segment Reusable Solid Rocket Motor (RSRM).

//  Dimensions: 3.71 m x 38 m
//  Gross Mass: 565400 Kg

//  Notes:

//  The inert mass value does not include the mass of
//  the nose cone, recovery parachutes and other
//  auxiliary modules.
//  ==================================================

@PART[XSLSSRB]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.68, 1.415, 1.68
        %rotation = 0.0, 90.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.635, 0.0, 0.0, 1.0, 0.0, 3
    %node_stack_bottom = 0.0, -35.435, 0.0, 0.0, -1.0, 0.0, 3
    %node_stack_parachute = 0.0, 3.635, 0.0, 0.0, 1.0, 0.0, 2
    @node_attach = 0.0, 0.0, 1.855, 0.0, 0.0, -1.0

    @mass = 65.57
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %fuelCrossFeed = False
    %stageOffset = 1
    %childStageOffset = 1
    @CoMOffset = 0.0, -16.0, 0.0
    %bulkheadProfiles = srf, size2, size3

    %engineType = RSRM

    @MODULE[ModuleEngines*]
    {
        @minThrust = 14234.3
        @maxThrust = 14234.3
        @heatProduction = 23
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0

        @PROPELLANT[SolidFuel]
        {
            @name = PBAN
        }

        @atmosphereCurve
        {
            @key,0 = 0 263
            @key,1 = 1 246
        }
    }

    !MODULE[ModuleGimbal],*{}

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 8.0
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = PBAN
        volume = 282088
        basemass = -1

        //  PBAN/AP propellant mixture mass 499860 Kg.

        TANK
        {
            name = PBAN
            amount = 282088
            maxAmount = 282088
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage auxiliary propellant tank.

//  Dimensions: 7.5 m x 3 m
//  Inert Mass: 1390 Kg
//  ==================================================

@PART[ADVINTER]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.5, 1.0, 1.5
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 5
    %node_stack_decoupler = 0.0, 11.73, 0.0, 0.0, 1.0, 0.0, 5

    @category = FuelTank
    @title = EDS - III Propellant Tank
    @manufacturer = Boeing Co.
    %description = A generic cryogenic propellant tank for the Earth Departure Stage (EDS). Doubles as a dual engine mount.

    @mass = 1.39
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size3, size5

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 63000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Falcon 9 second stage equipment bay.

//  Dimensions: 3.66 m x 1 m
//  Gross Mass: 140 Kg
//  ==================================================

@PART[NP_AMLVUPPER289Jx221]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.464, 0.5, 1.464
        %rotation = 0.0, 0.0, 180.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.5, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -0.5, 0.0, 0.0, -1.0, 0.0, 2
    @node_stack_1 = 0.0, -3.0, 0.0, 0.0, -1.0, 0.0, 3

    @category = FuelTank
    @title = Falcon 9 Second Stage Equipment Bay
    @manufacturer = SpaceX
    @description = The engine mount structure and attitude control system propellant tanks for the Falcon 9 upper stage.

    @mass = 0.115
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size2, size3

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 2850
        //basemass = -1

        //  Avionics batteries 360 Wh.
        //  Supports the Falcon 9 core stage for the duration of it's flight (approximately 2 hours including passivation/deorbit operations).
        //  Assumes that the power consumption of the avionics is 180 Watts.

        TANK
        {
            name = ElectricCharge
            amount = 1300
            maxAmount = 1300
        }

        //  ACS propellant gas mass ~25 Kg.

        TANK
        {
            name = Nitrogen
            amount = 20000
            maxAmount = 20000
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Delta IV Common Booster Core (CBC).

//  Dimensions: 5 m x 35 m
//  Gross Mass: 220000 Kg
//  ==================================================

@PART[xNP_lft_125m_6mxA]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 4.0, 4.65, 4.0
        %position = 0.0, 0.0, 0.0
        %rotation = 0.0, -110.0, 0.0
    }

    MODEL
    {
        model = CMES/Propulsion/NOVA-CHAKA-TANK-FOAM2/model
        scale = 1.0, 2.325, 1.0
        position = 0.0, 17.4225, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 20.895, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -14.0, 0.0, 0.0, -1.0, 0.0, 4
    @node_attach = 0.0, 0.0, -2.5, 0.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV Common Booster Core (CBC)
    @manufacturer = United Launch Alliance (ULA)
    %description = The Common Booster Core propellant tank for the Delta IV launch vehicle.

    @mass = 18.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %fuelCrossFeed = True
    %bulkheadProfiles = size4

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 559045
        basemass = -1

        //  CBC fuel mass 28860 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 407300
            maxAmount = 407300
        }

        //  CBC oxidizer mass 173140 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 151745
            maxAmount = 151745
        }
    }

    !RESOURCE,*{}

    //  Avionics batteries 50 Wh.
    //  Supports the CBC for the initial duration of the flight (approximately 4 minutes).
    //  Assumes that the electricity consumption of the CBC avionics is 200 W.

    RESOURCE
    {
        name = ElectricCharge
        amount = 180
        maxAmount = 180
    }
}

//  ==================================================
//  Mars Ascent Vehicle main propellant tank.

//  Dimensions: 3.75 m x 3.3 m
//  Inert Mass: 1050 Kg
//  ==================================================

@PART[XNP_lft_8_0m_6mzxx6drto]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/DRTO/model
        scale = 0.75, 0.55, 0.75
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.643, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.66, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.875, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = MAV - I Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic pressurized propellant tank for the Mars Ascent Vehicle (MAV).

    @mass = 1.05
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    !linearStrength = NULL
    !angularStrength = NULL
    !vesselType = NULL
    %bulkheadProfiles = size3

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[MechJebCore],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 30000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  DCSS-4 LOX tank.

//  Dimensions: 3.2 m x 3.5 m
//  Gross Mass: 17950 Kg
//  ==================================================

@PART[XIUSLOWERXxxxtall2G]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.285, 1.75, 1.285
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.725, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_top1 = 0.0, 0.605, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.725, 0.0, 0.0, -1.0, 0.0, 2
    @node_stack_bottom1 = 0.0, -0.605, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.6, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LOX Tank (4 Meters)
    @manufacturer = United Launch Alliance (ULA)
    @description = This cryogenic liquid oxygen tank forms the lower portion of the 4 meter DCSS stage for the Delta IV family of launch vehicles.

    @mass = 0.41
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size2, size3

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 15620
        basemass = -1

        //  DCSS-4 oxidizer mass 17822 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 15620
            maxAmount = 15620
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  DCSS-5 LOX tank.

//  Dimensions: 3.2 m x 4 m
//  Gross Mass: 23780 Kg
//  ==================================================

@PART[XIUSLOWERXxxxtall]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        @scale = 1.285, 2.0, 1.285
    }

    @node_stack_top = 0.0, 1.975, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_top1 = 0.0, 0.7, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.975, 0.0, 0.0, -1.0, 0.0, 2
    @node_stack_bottom1 = 0.0, -0.7, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.6, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LOX Tank (5 Meters)
    @manufacturer = United Launch Alliance (ULA)
    @description = This cryogenic liquid oxygen tank forms the lower portion of the 5 meter DCSS stage for the Delta IV family of launch vehicles.

    @mass = 0.47
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size2, size3

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 20360
        basemass = -1

        //  DCSS-5 oxidizer mass 23587 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 20360
            maxAmount = 20360
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  RL10 engine.

//  Dimensions: 2.13 m x 4.14 m
//  Inert Mass: 277 Kg

//  Modeled after the RL10B-2 and RL10C-1 variants (long nozzle extensions).
//  Includes the CECE variants (Base, High Thrust & Methane).
//  ==================================================

@PART[XXxAres1J2-XHIGH]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/J2X/model
        scale = 1.2, 1.2, 1.2
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.95, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.405, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.277
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %bulkheadProfiles = size2

    %engineType = RL10

    @MODULE[ModuleEngines*]
    {
        @minThrust = 111.2
        @maxThrust = 111.2
        @heatProduction = 76

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7335
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2665
        }

        @atmosphereCurve
        {
            @key,0 = 0 462
            @key,1 = 1 235
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 4.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RL10 engine.

//  Engine configuration.
//  ==================================================

@PART[XXxAres1J2-XHIGH]:AFTER[RealismOverhaulEngines]
{
    @title = RL10B/C/CECE Series
    @manufacturer = Aerojet Rocketdyne
    @description = The modern iterations of the workhorse RL10 engine (RL-10B-2, RL-10C-1 & CECE).

    @MODULE[ModuleEngineConfigs]
    {
        @configuration = RL10B-2

        !CONFIG,*:HAS[~name[RL10B-2],~name[RL10C-1],~name[CECE-Base],~name[CECE-High],~name[CECE-Methane]]{}
    }
}

//  ==================================================
//  RD-253/RD-275 engine.

//  Dimensions: 1.5 x 2.72 m
//  Inert Mass: 1080 Kg
//  ==================================================

@PART[XKosmos_Angara_RD-275KX]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/Kosmos_Angara_RD-275K/model_RD-275K
        scale = 1.25, 1.225, 1.25
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.335, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.335, 0.0, 0.0, -1.0, 0.0, 3
    @attachRules = 1,1,1,0,0

    @mass = 1.08
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = size3

    %engineType = RD253

    @MODULE[ModuleEngines*]
    {
        @minThrust = 1748
        @maxThrust = 1748
        @heatProduction = 196
        @engineAccelerationSpeed = 0

        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4061
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5939
        }

        @atmosphereCurve
        {
            @key,0 = 0 295
            @key,1 = 1 322
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 7.5
        %useGimbalResponseSpeed = True
        @gimbalResponseSpeed = 16
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Kestrel-1B engine.

//  Dimensions: 0.5 m x 1.25 m
//  Inert Mass: 60 Kg
//  ==================================================

@PART[XKosmos_TKS_RD-0225_EngineLANDERS]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/KOSMOS - CHAKA LANDER ENGINE/model
        scale = 2.667, 2.667, 2.667
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, 0.0, 1.0, 0.0, 0.0

    @mass = 0.06
    @minimum_drag = 0.1
    @maximum_drag = 0.2
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = srf

    %engineType = Kestrel_1B

    @MODULE[ModuleEngines*]
    {
        @minThrust = 23.1
        @maxThrust = 30.7
        @heatProduction = 63

        @PROPELLANT[MonoPropellant]
        {
            @name = LqdMethane
            @ratio = 0.4935
        }

        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.5064
            DrawGauge = False
        }

        @atmosphereCurve
        {
            @key,0 = 0 300
            @key,1 = 1 120
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 3.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  SEP - 100 separation motor.

//  Dimensions: 0.175 m x 1 m
//  Gross Mass: 50 Kg
//  ==================================================

@PART[xKosmos_SepRetrox]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.85, 0.85, 0.85
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = -0.008, 0.0, 0.0, -1.0, 0.0, 0.0
    @attachRules = 0,1,0,0,0

    @title = SEP - 100 Separation Motor
    %manufacturer = Generic
    @description = A generic solid rocket motor for safe separation of discarded rocket stages.

    @mass = 0.05
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    @MODULE[ModuleEngines*]
    {
        @minThrust = 0
        @maxThrust = 100
        @heatProduction = 205
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL
        %EngineType = SolidBooster

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 250
            @key,1 = 1 220
        }
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 16
        basemass = -1

        //  HTPB/AP propellant mixture mass ~28 Kg.

        TANK
        {
            name = HTPB
            amount = 16
            maxAmount = 16
        }
    }

    !MODULE[ModuleEngineConfigs],*{}

    MODULE
    {
        name = ModuleEngineConfigs
        type = ModuleEngines
        configuration = SEP-100
        origMass = 0.05

        CONFIG
        {
            name = SEP-100
            minThrust = 0
            maxThrust = 100
            heatProduction = 100
            ullage = False
            pressureFed = False
            ignitions = 1

            PROPELLANT
            {
                name = HTPB
                ratio = 1.0
                DrawGauge = True
            }

            atmosphereCurve
            {
                key = 0 250
                key = 1 220
            }
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  SEP - 50 separation motor.

//  Dimensions: 0.175 m x 0.5 m
//  Gross Mass: 30 Kg
//  ==================================================

@PART[xKosmos_SepRetroxMLS]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.85, 0.425, 0.85
    }

    %scale = 1.0
    %rescaleFactor = 1.0

    @node_attach = -0.008, 0.0, 0.0, -1.0, 0.0, 0.0
    @attachRules = 0,1,0,0,0

    @title = SEP - 50 Separation Motor
    %manufacturer = Generic
    @description = A generic solid rocket motor for safe separation of discarded rocket stages.

    @mass = 0.03
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    @MODULE[ModuleEngines*]
    {
        @minThrust = 0
        @maxThrust = 50
        @heatProduction = 102
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 250
            @key,1 = 1 220
        }
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 8
        basemass = -1

        //  HTPB/AP propellant mixture mass ~14 Kg.

        TANK
        {
            name = HTPB
            amount = 8
            maxAmount = 8
        }
    }

    !MODULE[ModuleEngineConfigs],*{}

    MODULE
    {
        name = ModuleEngineConfigs
        type = ModuleEngines
        configuration = SEP-50
        origMass = 0.03

        CONFIG
        {
            name = SEP-50
            minThrust = 0
            maxThrust = 50
            heatProduction = 100
            ullage = False
            pressureFed = False
            ignitions = 1

            PROPELLANT
            {
                name = HTPB
                ratio = 1.0
                DrawGauge = True
            }

            atmosphereCurve
            {
                key = 0 250
                key = 1 220
            }
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Falcon 9 First Stage propellant tank.

//  Dimensions: 3.66 m x 39 m
//  Gross Mass: 411000 Kg

//  The inert mass value excludes the mass of the
//  engine truss, the engines, the interstage and the
//  landing struts.
//  ==================================================

@PART[xKW2mtankL0_5x]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    MODEL
    {
        model = CMES/Propulsion/KW-AMLV-CORE/KW_Fuel_2mL2
        scale = 1.83, 2.8, 1.83
        position = 0.0, 18.025, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = CMES/Propulsion/KW-AMLV-CORE/KW_Fuel_2mL2
        scale = 1.83, 2.8, 1.83
        position = 0.0, 6.825, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    @MODEL
    {
        @scale = 1.83, 2.5, 1.83
        %position = 0.0, 0.0, 0.0
        %rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = CMES/Propulsion/KW-AMLV-CORE/KW_Fuel_2mL2
        scale = 1.83, 3.25, 1.83
        position = 0.0, -7.75, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 23.625, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -14.25, 0.0, 0.0, -1.0, 0.0, 4
    @node_attach = 0.0, 0.0, -1.83, 0.0, 0.0, 0.0

    @category = FuelTank
    @title = Falcon 9 First Stage Propellant Tank
    @manufacturer = SpaceX
    %description = The core stage propellant tank for the Falcon 9 launch vehicle.

    @mass = 15.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 873.15
    %bulkheadProfiles = size4

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    //  Tank fill ratio 95% (approximately).

    MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 387740
        basemass = -1

        //  Falcon 9 First Stage fuel mass ~118562 Kg.

        TANK
        {
            name = Kerosene
            amount = 144590
            maxAmount = 144590
        }

        //  Falcon 9 First Stage oxidizer mass ~277436 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 243150
            maxAmount = 243150
        }
    }

    !RESOURCE,*{}

    //  Avionics batteries 33 Wh.
    //  Supports the Falcon 9 core stage for the duration of it's flight (approximately 10 minutes including recovery).
    //  Assumes that the power consumption of the avionics is 180 Watts.

    RESOURCE
    {
        name = ElectricCharge
        amount = 120
        maxAmount = 120
    }
}

//  ==================================================
//  Falcon 9 Second Stage propellant tank.

//  Dimensions: 3.66 m x 9 m
//  Gross Mass: 89570 Kg
//  ==================================================

@PART[XNP_lftadj5x]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        @scale = 0.732, 3.0, 0.732
    }

    @node_stack_top = 0.0, 4.485, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -4.53, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.83, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Falcon 9 Second Stage Propellant Tank
    @manufacturer = SpaceX
    %description = The upper stage propellant tank for the Falcon 9 launch vehicle.

    @mass = 3.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size 3

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    //  Tank fill ratio 95% (approximately).

    MODULE
    {
        name = ModuleFuelTanks
        type = Default
        volume = 85000
        basemass = -1

        //  Falcon 9 Second Stage fuel mass ~25860 Kg.

        TANK
        {
            name = Kerosene
            amount = 31535
            maxAmount = 31535
        }

        //  Falcon 9 Second Stage oxidizer mass ~61000 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 53465
            maxAmount = 53465
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  SuperDraco engine.

//  Dimensions: 0.2 m x 2 m
//  Gross Mass: 170 Kg

//  Notes:

//  The inert mass value includes the mass of the
//  SuperDraco mounting hardware and shroud (approximately
//  40 Kg).
//  ==================================================

@PART[xLazTekSuperDracosx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/LazTekSuperDracos/model
        scale = 1.67, 1.67, 1.67
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, 0.0, 0.0, 0.0, -1.0

    @mass = 0.17
    @crashTolerance = 12
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 2773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    %engineType = SuperDraco
    %engineTypeMult = 2
    %massOffset = 0.04
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @minThrust = 29.2
        @maxThrust = 146
        @exhaustDamage = True
        @heatProduction = 98

        @PROPELLANT[LiquidFuel]
        {
            @name = MMH
            @ratio = 0.5583
        }

        @PROPELLANT[Oxidizer]
        {
            @name = MON3
            @ratio = 0.4417
        }

        @atmosphereCurve
        {
            @key,0 = 0 280
            @key,1 = 1 240
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  J-2X engine.

//  Dimensions: 3.05 m x 4.7 m
//  Inert Mass: 2470 Kg
//  ==================================================

@PART[XROVERENGINE]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/KW2mengineSPS ORION/model
        scale = 1.667, 1.667, 1.667
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.2, 0.0, 0, -1, 0, 3

    @category = Engine

    @mass = 2.47
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = size3

    %engineType = J2X

    @MODULE[ModuleEngines*]
    {
        @minThrust = 1072
        @maxThrust = 1308
        @heatProduction = 97

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7454
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2546
        }

        @atmosphereCurve
        {
            @key,0 = 0 448
            @key,1 = 1 200
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 7.5
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Orion MPCV Service Module.

//  Dimensions: 4 m x 2.8 m
//  Gross Mass: 12600 Kg
//  ==================================================

@PART[XLFTORIONLARGE]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/LFT_ORION/model
        scale = 1.0667, 1.305, 1.0667
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.465, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.585, 0.0, 0.0, -1.0, 0.0, 3
    !node_stack_bottom2 = NULL
    @node_attach = 2.0, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Orion MPCV Service Module
    @manufacturer = Airbus Defence & Space
    %description = The Service Module for the Orion MPCV. Derived from the Automatic Transfer Vehicle (ATV) Service Module.

    @mass = 3.8
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %fuelCrossFeed = True
    %bulkheadProfiles = srf, size3
    %emissiveConstant = 0.85
    %heatConductivity = 0.7
    %thermalMassModifier = 5.0
    %radiatorHeadroom = 0.388

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 8170
        basemass = -1

        //  Batteries 840 Wh.

        TANK
        {
            name = ElectricCharge
            amount = 3025
            maxAmount = 3025
        }

        //  Life support water mass 280 Kg.

        TANK
        {
            name = Water
            amount = 280
            maxAmount = 280
        }

        //  OME & ACS fuel mass 8600 Kg.

        TANK
        {
            name = MMH
            amount = 3745
            maxAmount = 3745
        }

        //  OME & ACS mass oxidizer.

        TANK
        {
            name = MON3
            amount = 3760
            maxAmount = 3760
        }
    }

    !MODULE[ModuleActiveRadiator],*{}

    MODULE
    {
        name = ModuleActiveRadiator
        maxEnergyTransfer = 12500
        overcoolFactor = 0.388
        isCoreRadiator = True
        maxLinksAway = 0

        RESOURCE
        {
            name = ElectricCharge
            rate = 0.17
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Orion MPCV Service Module.

//  TAC Life Support compatibility.
//  ==================================================

@PART[XLFTORIONLARGE]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
    @mass -= 0.07

    @MODULE[ModuleFuelTanks]
    {
        @volume = 8400

        //  Oxygen 66 Kg.

        TANK
        {
            name = Oxygen
            amount = 46810
            maxAmount = 46810
        }
    }
}

//  ==================================================
//  Mars Transfer Vehicle auxiliary propellant tank.

//  Dimensions: 10 m x 6 m
//  Inert Mass: 4420 Kg
//  ==================================================

@PART[XNP_interstage_5m_8m_tankBLOCKg874njsII]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 1.95, 2.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.925, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -2.95, 0.0, 0.0, -1.0, 0.0, 5
    !node_stack_1 = NULL
    !node_stack_2 = NULL
    !node_stack_3 = NULL
    !node_stack_4 = NULL

    @category = FuelTank
    @title = MTV - II Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Mars Transfer Vehicle.

    @mass = 4.42
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size3

    !MODULE[ModuleActiveRadiator],*{}

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 200000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Bimodal Nuclear Thermal Rocket (BNTR).

//  Dimensions: 1.55 m x 4.5 m
//  Gross Mass: 2270 Kg
//  ==================================================

@PART[nervaII_kerbscalexx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.6, 0.6, 0.6
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.675, 0.0, 0.0, 1.0, 0.0, 2
    %node_stack_bottom = 0.0, -3.125, 0.0, 0.0, -1.0, 0.0, 2
    %node_attach = 0.0, 1.675, 0.0, 0.0, 1.0, 0.0

    @mass = 2.215
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %fuelCrossFeed = True
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = size2

    %engineType = BNTR

    @MODULE[ModuleEngines*]
    {
        @minThrust = 66.72
        @maxThrust = 66.72
        @heatProduction = 11

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 1.0
        }

        @PROPELLANT[Oxidizer]
        {
            @name = EnrichedUranium
            @ratio = 1.0813e-15
            %ignoreForIsp = True
        }

        @atmosphereCurve
        {
            @key,0 = 0 930
            @key,1 = 1 380
        }
    }

    !MODULE[ModuleGenerator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  Pegasus engine pod.

//  Dimensions: 2.2 m x 1.2 m
//  Gross Mass: 260 Kg
//  ==================================================

@PART[nosExplorerRadialEngine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/NOSRADIAL/model
        scale = 0.6, 0.6, 0.6
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @mass = 0.26
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 873.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    %bulkheadProfiles = srf

    %engineType = RD0242M2
    %engineTypeMult = 2
    %massOffset = 0.02
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @minThrust = 30
        @maxThrust = 50
        @heatProduction = 22

        @PROPELLANT[LiquidFuel]
        {
            @name = MMH
            @ratio = 0.5036
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.4964
        }

        @atmosphereCurve
        {
            @key,0 = 0 280
            @key,1 = 1 100
        }
    }

    //  Two Aerojet Rocketdyne R-4D-11 (490 N) bipropellant thrusters on each axis for fine attitude control.

    @MODULE[ModuleRCS*]
    {
        @thrusterPower = 0.98
        !resourceName = NULL

        PROPELLANT
        {
            name = MMH
            ratio = 0.5036
        }

        PROPELLANT
        {
            name = NTO
            ratio = 0.4964
        }

        @atmosphereCurve
        {
            @key,0 = 0 311
            @key,1 = 1 84
        }
    }
}

//  ==================================================
//  Pegasus engine pod.

//  Engine configuration.
//  ==================================================

@PART[nosExplorerRadialEngine]:AFTER[RealismOverhaulEngines]
{
    @title = Pegasus Engine Pod
    @manufacturer = Boeing Co. & KB Khimavtomatiki [Kosberg]
    @description = Radially mounted engine pod, originally designed for the Pegasus Descent Module. Contains the main engines and the RCS thrusters for attitude control.
}

//  ==================================================
//  RSRM structural extension.

//  Dimensions: 3.71 m x 9 m
//  Inert Mass: 5000 Kg
//  ==================================================

@PART[XNP_lft_W375SRB]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.742, 3.0, 0.742
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 4.445, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -4.53, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 1.85, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = Structural
    @title = RSRM Structural Extension
    @manufacturer = Orbital ATK
    %description = A structural extension for the 4 Segment RSRM. Does not contain propellant.

    @mass = 5.0
    @crashTolerance = 14
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size3

    !RESOURCE,*{}
}

//  ==================================================
//  Mars Transfer Vehicle drop propellant tank.

//  Dimensions: 10 m x 18 m
//  Inert Mass: 28500 Kg
//  ==================================================

@PART[XNP_lft_8_0m_6mzxx622211911]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 3.0, 2.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 8.955, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -9.05, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 5.03, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = MTV - IV Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Mars Transfer Vehicle. This is a lighter, drop-tank variant, with a higher internal volume but lacking an active cryocooler system.

    @mass = 28.5
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    !linearStrength = NULL
    !angularStrength = NULL
    !vesselType = NULL
    %bulkheadProfiles = size5

    !MODULE[ModuleActiveRadiator],*{}

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[MechJebCore],*{}

    !MODULE[ModuleFuelTanks],*{}

    //  Maximum fill ratio 92%.

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 1300000
        basemass = -1
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Mars Transfer Vehicle main propellant tank.

//  Dimensions: 10 m x 18 m
//  Inert Mass: 30500 Kg
//  ==================================================

@PART[XNP_lft_8_0m_6mzxx6222]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 3.0, 2.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 8.955, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -9.05, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 5.03, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = MTV - I Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Mars Transfer Vehicle. Features an integrated active cryocooler system to keep the propellants in liquid form.

    @mass = 30.5
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    !linearStrength = NULL
    !angularStrength = NULL
    !vesselType = NULL
    %bulkheadProfiles = size5

    @MODULE[ModuleActiveRadiator]
    {
        @maxEnergyTransfer = 75000
        @overcoolFactor = 0.03836
        @isCoreRadiator = True
        @parentCoolingOnly = False

        @RESOURCE[ElectricCharge]
        {
            @rate = 10.0
        }
    }

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[MechJebCore],*{}

    !MODULE[ModuleFuelTanks],*{}

    //  Maximum fill ratio 74% (includes the cryocooler equipment volume).

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 1050000
        basemass = -1
    }

    !RESOURCE,*{}
}

//  ==================================================
//  DCSS-5 LH2 tank.

//  Dimensions: 5 m x 2.85 m
//  Gross Mass: 1540 Kg
//  ==================================================

@PART[IUSXNP_lft_?375x3S222HORT]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 0.95, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.42, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -1.42, 0.0, 0.0, -1.0, 0.0, 4
    @node_attach = 2.5, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LH2 Tank (5 Meters)
    @manufacturer = United Launch Alliance (ULA)
    %description = The liquid hydrogen tank for the 5 meter DCSS.

    @mass = 1.54
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size4

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 56045
        basemass = -1

        //  DCSS-5 fuel mass 4032 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 56045
            maxAmount = 56045
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  DCSS-4 LH2 tank.

//  Dimensions: 4 m x 3 m
//  Gross Mass: 1000 Kg
//  ==================================================

@PART[IUSXNP_lft_?3322HORT]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 0.805, 1.0, 0.805
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.455, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.455, 0.0, 0.0, -1.0, 0.0, 3
    @node_attach = 2.0, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV DCSS LH2 Tank (4 Meters)
    @manufacturer = United Launch Alliance (ULA)
    @description = The liquid hydrogen tank for the Delta IV 4 meter DCSS.

    @mass = 1.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size3

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 43000
        basemass = -1

        //  DCSS-4 fuel mass 3047 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 43000
            maxAmount = 43000
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Mars Transfer Vehicle auxiliary propellant tank.

//  Dimensions: 10 m x 5 m
//  Inert Mass: 4000 Kg
//  ==================================================

@PART[XNP_lft_xtrt3mCCB8MAx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 1.0, 2.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.485, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -1.485, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 5.0, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = MTV - III Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic pressurized propellant tank for the Mars Transfer Vehicle.

    @mass = 4.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size5

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 160000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage auxiliary propellant tank.

//  Dimensions: 8.4 m x 11 m
//  Inert Mass: 11600 Kg
//  ==================================================

@PART[Xafa191m23312NTR]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.68, 3.68, 1.68
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 5.5, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -5.5, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 4.2, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = EDS - II Propellant Tank
    @manufacturer = Boeing Co.
    %description = A generic cryogenic propellant tank for the Earth Departure Stage (EDS).

    @mass = 11.6
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size5

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 560000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage main propellant tank.

//  Dimensions: 8.4 m x 11 m
//  Inert Mass: 11600 Kg
//  ==================================================

@PART[XNP_lft_xtrt3mCCB8MAx2]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.68, 3.68, 1.68
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 5.5, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -5.5, 0.0, 0.0, -1.0, 0.0, 5
    @node_attach = 4.2, 0.0, 0.0, 1.0, 0.0, 0.0

    @category = FuelTank
    @title = EDS - I Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Space Launch System Earth Departure Stage (EDS).

    @mass = 11.6
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size3

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 560000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Delta IV CBC engine mount.

//  Dimensions: 5 m x 4 m
//  Inert Mass: 1530 Kg
//  ==================================================

@PART[NP_CHAKAEMLVENGINE]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 2.0, 2.0, 2.0
        %rotation = 0.0, 0.0, 180.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.0, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -2.05, 0.0, 0.0, -1.0, 0.0, 2
    %node_stack_engine = 0.0, 1.0, 0.0, 0.0, -1.0, 0.0, 2

    @category = Structural
    @title = Delta IV CBC Engine Mount
    @manufacturer = Orbital ATK
    @description = The RS-68 engine mount for the Delta IV Common Booster Core (CBC).

    @mass = 1.53
    @crashTolerance = 14
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = size2, size4

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  Mars Ascent Vehicle auxiliary propellant tank.

//  Dimensions: 3.75 m x 2 m
//  Inert Mass: 410 Kg
//  ==================================================

@PART[NP_CHAKAEMLVENGINEx221]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.5, 1.0, 1.5
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.95, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -0.95, 0.0, 0.0, -1.0, 0.0, 3
    @node_stack_1 = 0.0, -0.2, 0.00, 0.0, 1.0, 0.0, 3

    @category = FuelTank
    @title = MAV - II Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic pressurized propellant tank for the Mars Ascent Vehicle (MAV).

    @mass = 0.41
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    !fuelCrossFeed,* = NULL
    %fuelCrossFeed = True
    %bulkheadProfiles = size3

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 5400
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage auxiliary propellant tank.

//  Dimensions: 7.5 m x 2.5 m
//  Inert Mass: 1300 Kg
//  ==================================================

@PART[NP_CHAKAEMLVENGINE2]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 3.0, 1.2, 3.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.2, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.2, 0.0, 0.0, -1.0, 0.0, 5
    %node_stack_decoupler = 0.0, 12.0, 0.0, 0.0, 1.0, 0.0, 5

    @category = FuelTank
    @title = EDS - III Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Space Launch System Earth Departure Stage (EDS).

    @mass = 1.3
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    @bulkheadProfiles = size3, size5

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 60000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Merlin engine (ASL versions).

//  Dimensions: 0.95 m x 2.0 m
//  Inert Mass: 760 Kg
//  ==================================================

@PART[xmonkeyreptarx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.485, 0.0, 0.0, 1.0, 0.0, 2

    @mass = 0.76
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    @bulkheadProfiles = size2

    %engineType = Merlin1

    @MODULE[ModuleEngines*]
    {
        @minThrust = 369.2
        @maxThrust = 369.2
        @heatProduction = 57
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0
        @engineDecelerationSpeed = 0

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3907
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6093
        }

        @atmosphereCurve
        {
            @key,0 = 0 288
            @key,1 = 1 254
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 5.0
        @gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  Merlin engine (surface version).

//  Engine configuration.
//  ==================================================

@PART[xmonkeyreptarx]:AFTER[RealismOverhaulEngines]
{
    @title = Merlin Series (Surface Variants)
    @description = The Merlin rocket engine family made by SpaceX. Surface variants.

    @MODULE[ModuleEngineConfigs]
    {
        @configuration = Merlin1A

        !CONFIG,*:HAS[~name[Merlin1A],~name[Merlin1B],~name[Merlin1C],~name[Merlin1D],~name[Merlin1D+],~name[Merlin1D++]]{}
    }
}

//  ==================================================
//  Merlin engine (VAC versions).

//  Dimensions: 2.5 m x 4.65 m
//  Inert Mass: 910 Kg
//  ==================================================

@PART[xmonkeyreptarvacx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.2, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -2.7, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.91
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    @bulkheadProfiles = size2

    %engineType = Merlin1

    @MODULE[ModuleEngines*]
    {
        @minThrust = 421.6
        @maxThrust = 421.6
        @heatProduction = 61
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0
        @engineDecelerationSpeed = 0

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3907
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6093
            %DrawGauge = False
        }

        @atmosphereCurve
        {
            @key,0 = 0 332
            @key,1 = 1 195
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 5.0
        @gimbalResponseSpeed = 16
    }

    @MODULE[FXModuleAnimateThrottle]
    {
        @animationName = M1DV_heat
        @responseSpeed = 0.001
    }
}

//  ==================================================
//  Merlin engine (vacuum version).

//  Engine configuration.
//  ==================================================

@PART[xmonkeyreptarvacx]:AFTER[RealismOverhaulEngines]
{
    @title = Merlin Series (Vacuum Variants)
    @description = The Merlin rocket engine family made by SpaceX. Vacuum variants.

    @MODULE[ModuleEngineConfigs]
    {
        @configuration = Merlin1BVac

        !CONFIG,*:HAS[~name[Merlin1BVac],~name[Merlin1CVac],~name[Merlin1DVac],~name[Merlin1DVac+]]{}
    }
}

//  ==================================================
//  Small radial propellant tank.

//  Dimensions: 0.3 m x 0.8 m
//  Inert Mass: 50 Kg
//  ==================================================

@PART[XrcsTankRadialLongHVX]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/ROVER-RCS/model
        scale = 0.5, 0.5, 0.5
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -0.075, 0.0, 0.0, -1.0

    @category = FuelTank
    @title = RMT - I Propellant Tank
    %manufacturer = Generic
    @description = A general purpose, radially mounted, pressurized propellant tank.

    @mass = 0.005
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = srf

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 45
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Large radial propellant tank.

//  Dimensions: 0.6 m x 1.5 m
//  Inert Mass: 370 Kg
//  ==================================================

@PART[XrcsTankRadialLongHVXLP]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/ROVER-RCS/model
        scale = 1.0, 1.0, 1.0
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -0.075, 0.0, 0.0, -1.0

    @category = FuelTank
    @title = RMT - II Propellant Tank
    %manufacturer = Generic
    @description = A general purpose, radially mounted, pressurized propellant tank.

    @mass = 0.04
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %bulkheadProfiles = srf

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = ServiceModule
        volume = 330
    }

    !RESOURCE,*{}
}

//  ==================================================
//  RS-68 engine.

//  Dimensions: 2.43 m x 5.2 m
//  Inert Mass: 6600 Kg
//  ==================================================

@PART[xbahars68bx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    MODEL
    {
        model = CMES/Propulsion/rs68b/model
        scale = 1.0, 1.0, 1.0
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.615, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -2.587, 0.0, 0.0, -1.0, 0.0, 2
    @node_attach = 0.0, 2.615, 0.0, 0.0, 1.0, 0.0, 2

    @mass = 6.6
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %bulkheadProfiles = size2

    %engineType = RS68

    @MODULE[ModuleEngines*]
    {
        @minThrust = 1890
        @maxThrust = 3370
        @heatProduction = 85

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7285
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2715
        }

        @atmosphereCurve
        {
            @key,0 = 0 409
            @key,1 = 1 357
        }
    }

    !MODULE[ModuleAnimateHeat],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = emissiveHeat
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }

    !RESOURCE,*{}
}

//  ==================================================
//  RS-68 engine.

//  Engine configuration.
//  ==================================================

@PART[xbahars68bx]:FOR[RealismOverhaulEngines]
{
    //  Main engine gimbal.

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[thrustTransform]]
    {
        @gimbalRange = 6.0
    }
}

//  ==================================================
//  Space Launch System core booster.

//  Dimensions: 8.4 m x 46 m
//  Gross Mass: 1090540 Kg
//  ==================================================

@PART[MonkeyCargoBoosterSLSADJ]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.6, 1.6, 1.6
    }

    MODEL
    {
        model = CMES/Propulsion/MLS-EXPANSION/model
        scale = 1.685, 1.250, 1.685
        position = 0.0, 6.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 9.73, 0.0, 0.0, 1.0, 0.0, 5
    %node_stack_bottom = 0.0, -54.655, 0.0, 0.0, -1.0, 0.0, 5

    @mass = 124.47
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.8
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @CoMOffset = 0.0, 0.0, 0.0
    %bulkheadProfiles = size5

    %engineType = SSME
    %engineTypeMult = 4
    %massOffset = 110.36
    %ignoreMass = False

    !MODULE[ModuleCommand],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleSAS],*{}

    @MODULE[ModuleEngines*]
    {
        @minThrust = 5434
        @maxThrust = 8360
        @heatProduction = 440

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7285
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2715
        }

        @atmosphereCurve
        {
            @key,0 = 0 453
            @key,1 = 1 363
        }
    }

    !MODULE[ModuleGimbal],*{}

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 8.0
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 2665850
        basemass = -1

        //  SLS core stage fuel mass 137420 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 1939600
            maxAmount = 1939600
        }

        //  SLS core stage oxidizer mass 828650 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 726250
            maxAmount = 726250
        }
    }

    !RESOURCE,*{}

    //  Avionics batteries 33 Wh.
    //  Supports the core stage for the duration of it's flight (approximately 8 minutes).
    //  Assumes that the power consumption of the avionics is 250 Watts.

    RESOURCE
    {
        name = ElectricCharge
        amount = 120
        maxAmount = 120
    }
}

//  ==================================================
//  Space Launch System core booster.

//  Engine configuration.
//  ==================================================

@PART[MonkeyCargoBoosterSLSADJ]:AFTER[RealismOverhaulEngines]
{
    @title = SLS Core Booster (Block I/IB/II)
    @manufacturer = Boeing Co.
    @description = The Space Launch System (SLS) core booster stage. Equipped with four RS-25E engines.

    @MODULE[ModuleEngineConfigs]
    {
        @configuration = RS-25D/E

        !CONFIG,*:HAS[~name[RS-25D/E]]{}
    }
}

//  ==================================================
//  Space Launch System Exploration Upper Stage (EUS).

//  Dimensions: 8.4 m x 18.3 m
//  Gross Mass: 141170 Kg
//  ==================================================

@PART[TALUS]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.17, 1.3, 1.17
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 6.68, 0.0, 0.0, 1.0, 0.0, 5
    @node_stack_bottom = 0.0, -11.5, 0.0, 0.0, -1.0, 0.0, 5
    @node_stack_1 = -1.82, -8.0, -1.82, 0.0, -1.0, 0.0, 2
    @node_stack_2 = 1.82, -8.0, -1.82, 0.0, -1.0, 0.0, 2
    @node_stack_3 = -1.82, -8.0, 1.82, 0.0, -1.0, 0.0, 2
    @node_stack_4 = 1.82, -8.0, 1.82, 0.0, -1.0, 0.0, 2
    @attachRules = 1,0,1,1,0

    @category = FuelTank
    @title = Exploration Upper Stage
    @manufacturer = Boeing Co.
    @description = The Exploration Upper Stage (EUS) for the Space Launch System Blocks IB and II.

    @mass = 11.88
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 773.15
    %skinMaxTemp = 773.15
    %vesselType = Probe
    %CrewCapacity = 0
    %bulkheadProfiles = size2, size5
    %stackSymmetry = 3
    %NoCrossFeedNodeKey = stack

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 357810
        basemass = -1

        //  EUS fuel mass ~18470 kg.

        TANK
        {
            name = LqdHydrogen
            amount = 260690
            maxAmount = 260690
        }

        //  EUS oxidizer mass ~110814 kg.

        TANK
        {
            name = LqdOxygen
            amount = 97120
            maxAmount = 97120
        }
    }

    !MODULE[ModuleCommand],*{}

    MODULE
    {
        name = ModuleCommand
        minimumCrew = 0

        RESOURCE
        {
            name = ElectricCharge
            rate = 0.25
        }
    }

    !MODULE[ModuleSAS],*{}

    MODULE
    {
        name = ModuleSAS
        SASServiceLevel = 3
        standalone = True
    }

    !MODULE[ModuleDataTrasmitter],*{}

    MODULE
    {
        name = ModuleDataTrasmitter
        antennaType = DIRECT
        antennaPower = 4.5
        packetInterval = 1.0
        packetSize = 1.024
        packetResourceCost = 0.0425
        requiredResource = ElectricCharge
        DeployFxModules = 0
        antennaCombinable = True
        antennaCombinableExponent = 1
    }

    !RESOURCE,*{}

    //  Avionics batteries 1.25 kWh.
    //  Supports the EUS for up up 5 hours (launch & orbital operations).
    //  Assumes that the power consumption of the avionics is 250 Watts.

    RESOURCE
    {
        name = ElectricCharge
        amount = 4500
        maxAmount = 4500
    }
}

//  ==================================================
//  Space Launch System Exploration Upper Stage (EUS).

//  Remote Tech compatibility.
//  ==================================================

@PART[TALUS]:FOR[RealismOverhaul]:NEEDS[RemoteTech]
{
    !MODULE[ModuleDataTransmitter],*{}

    !MODULE[ModuleSPU*],*{}

    !MODULE[ModuleRTAntenna*],*{}

    @MODULE[ModuleCommand]
    {
        @RESOURCE[ElectricCharge]
        {
            @rate -= 0.035
        }
    }

    MODULE
    {
        name = ModuleSPU
        IsRTCommandStation = False
        RTCommandMinCrew = 0
    }

    MODULE
    {
        name = ModuleRTAntenna
        IsRTActive = True
        Mode0OmniRange = 0
        Mode1OmniRange = 15000000
        EnergyCost = 0.035

        TRANSMITTER
        {
            PacketInterval = 1.0
            PacketSize = 1.024
            PacketResourceCost = 0.0075
        }
    }
}
