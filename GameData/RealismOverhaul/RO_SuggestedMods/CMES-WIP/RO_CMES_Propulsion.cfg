//  ==================================================
//  Sources:

//  Orbital ATK - GEM-60 brochure:                           http://www.alternatewars.com/BBOW/Space_Engines/GEM-60.pdf
//  Orbital ATK SRM catalog:                                 https://www.orbitalatk.com/flight-systems/propulsion-systems/launch-abort-motor/docs/orbital_atk_motor_catalog_(2012).pdf
//  NASASpaceFlight101 - "Dark Knight" Advanced Booster:     http://www.nasaspaceflight.com/2013/01/the-dark-knights-atks-advanced-booster-revealed-for-sls/
//  NASASpaceFlight101 - Orbital ATK Advanced Boosters:      http://www.nasaspaceflight.com/2015/02/advanced-boosters-towards-solid-future-sls/
//  Space Launch Report - Space Launch System Data Sheet:    http://www.spacelaunchreport.com/sls0.html
//  Space Launch Report - Delta IV:                          http://www.spacelaunchreport.com/delta4.html
//  Norbert Brügge - Ares I:                                 http://www.b14643.de/Spacerockets_2/United_States_1/Ares-I_CLV/Description/Frame.htm
//  Norbert Brügge - Delta IV:                               http://www.b14643.de/Spacerockets_2/United_States_5/Delta_IV/Description/Frame.htm
//  Rocket & Space Technology - Delta IV:                    http://www.braeunig.us/space/specs/delta.htm
//  Spaceflight101 - Delta IV Medium (5,2):                  http://spaceflight101.com/spacerockets/delta-iv-medium-52/
//  ULA - Delta IV user guide:                               http://www.ulalaunch.com/uploads/docs/Launch_Vehicles/Delta_IV_Users_Guide_June_2013.pdf
//  Norbert Brügge - RL10 rocket engine:                     http://www.b14643.de/Spacerockets/Specials/P&W_RL10_engine/index.htm
//  Aerojet Rocketdyne - RL10 rocket engine:                 https://www.rocket.com/rl10-engine
//  NTRS - Cryogenic Propulsion Stage:                       http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20110015783.pdf
//  AIAA - Lunar Lander Designs:                             http://www.sei.aero/eng/papers/uploads/archive/AIAA-2013-5479_Paper.pdf
//  Space Launch Report - Falcon 9:                          http://www.spacelaunchreport.com/falcon.html
//  Spaceflight 101 - Falcon 9 v1.1:                         http://spaceflight101.com/spacerockets/falcon-9-v1-1-f9r/
//  Astronautix - Kestrel rocket engine:                     http://www.astronautix.com/k/kestrel.html
//  Astronautix - J-2X rocket engine:                        http://www.astronautix.com/engines/j2x.htm
//  Aerojet Rocketdyne - J-2X rocket engine:                 http://rocket.com/j-2x-engine
//  The J-2X Upper Stage Engine: From Design to Hardware:    http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20100034922.pdf
//  FAA - DragonFly pad abort test:                          https://www.faa.gov/about/office_org/headquarters_offices/ast/media/20140513_DragonFly_DraftEA_Appendices%28reduced%29.pdf
//  Aerojet Rocketdyne - Orion Service Module:               https://www.rocket.com/orion-service-module
//  Aerojet Rocketdyne - Orion Crew Module:                  https://www.rocket.com/orion-crew-module
//  Aerojet Rocketdyne - Orion Main Engine:                  https://www.rocket.com/orion-main-engine
//  Spaceflight101 - Orion spacecraft overview:              http://spaceflight101.com/spacecraft/orion/
//  NTRS - Orion European Service Module (PowerPoint):       http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140008543.pdf
//  NTRS - Orion European Service Module (Document):         http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140010527.pdf
//  NTRS - "Bimodal" Nuclear Thermal Rocket (BNTR):          http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20040182399.pdf
//  AIAA - "Trimodal" Nuclear Thermal Rocket (TRITON):       http://alternatewars.com/BBOW/Space_Engines/AIAA-2004-3863_TRITON.pdf
//  NTRS - Crewed Mars Mission using BNTEP:                  http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20140009579.pdf
//  Pratt & Whitney Rocketdyne - RS-68 rocket engine:        http://www.alternatewars.com/BBOW/Space_Engines/RS-68.pdf
//  Purdue AAE - RS-68 rocket engine:                        https://engineering.purdue.edu/~propulsi/propulsion/rockets/liquids/rs68.html
//  NASASpaceFlight101 - Exploration Upper Stage:            http://www.nasaspaceflight.com/2014/10/nasa-exploration-upper-stage-workhorse-sls/
//  NTRS - SLS Dual Use Upper Stage (DUUS) Opportunities:    http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20130013953.pdf
//  NASASpaceFlight101 - Large Upper Stage (LUS):            http://www.nasaspaceflight.com/2013/11/new-sls-options-new-large-upper-stage/
//  Constellation Program Battery and Fuel Cell Development: https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20120016064.pdf

//  ==================================================
//  Removed extra parts.
//  ==================================================

!PART[MonkeyCargoBoosterADJ]:FOR[RealismOverhaul]{}

!PART[xvulcanx]:FOR[RealismOverhaul]{}

!PART[xKW2mtankL2x]:FOR[RealismOverhaul]{}

!PART[xKW2mtankL2x22]:FOR[RealismOverhaul]{}

!PART[XSLSXPANDX]:FOR[RealismOverhaul]{}

!PART[XSLSXPANDXMLS]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b12]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b1223]:FOR[RealismOverhaul]{}

!PART[XROVERENGINE2b1223918]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_t3MTVDRIVEX]:FOR[RealismOverhaul]{}

!PART[nervaII_kerbscale2xx]:FOR[RealismOverhaul]{}

!PART[XNP_lft_8_0m_6mzxx6drto]:FOR[RealismOverhaul]{}

!PART[XNP_lft_8_0m_6mzxx6drto323ehbsas]:FOR[RealismOverhaul]{}

!PART[XXxAres1J2-XHIG33H]:FOR[RealismOverhaul]{}

!PART[xKosmos_SepRetroxDUNA]:FOR[RealismOverhaul]{}

!PART[xKosmos_SepRe3nstrox]:FOR[RealismOverhaul]{}

!PART[XNP_lftadj]:FOR[RealismOverhaul]{}

!PART[XNP_lft_?375?x3]:FOR[RealismOverhaul]{}

!PART[XNP_lft_?375x3SHORT]:FOR[RealismOverhaul]{}

!PART[XNP_lft_xtrt3mCCB8MAx232]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHORTWSS]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHORTW55hs]:FOR[RealismOverhaul]{}

!PART[XNP_lft_W375x3SHOR663TWSS]:FOR[RealismOverhaul]{}

!PART[XDiusNP_lf222t_?375?x3i]:FOR[RealismOverhaul]{}

!PART[XDiusNP_lf333222t_?375?x3i]:FOR[RealismOverhaul]{}

!PART[IUSXNP_lft_?3322HORTx23]:FOR[RealismOverhaul]{}

!PART[Xafa191m23312NTRMUNAR1X]:FOR[RealismOverhaul]{}

!PART[Xafa191m23312NTRMUNA534naR1X]:FOR[RealismOverhaul]{}

!PART[NP_CHAKAEMLVENGINE222C]:FOR[RealismOverhaul]{}

!PART[DUNARETROTANKLARGE]:FOR[RealismOverhaul]{}

!PART[DUNARETROTANKLARGE2x]:FOR[RealismOverhaul]{}

!PART[DUNARETROTANKm2]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_tankMUNAR1X]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5mNA_8m_tankMUNAR1X]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_tankBLOCKII]:FOR[RealismOverhaul]{}

!PART[XNP_interstage_5m_8m_tankBLOCKg874njsII]:FOR[RealismOverhaul]{}

!PART[xmonkeyreptarCFx]:FOR[RealismOverhaul]{}

!PART[xbahars68bxb]:FOR[RealismOverhaul]{}

//  ==================================================
//  GEM-60 SRM.

//  Dimensions: 1.52 m x 16.2 m
//  Gross Mass: 33200 Kg (w/o TVC), 33800 Kg (w/ TVC)
//  ==================================================

@PART[CHAKAKWsrbGlobeIz]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 3.333, 3.333, 3.333
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_attach = 0.0, 0.0, -0.6, 0.0, 0.0, 0.0

    @category = Engine

    @mass = 3.08
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf

    %engineType = GEM-60
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 826.5
        @heatProduction = 100
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 274
            @key,1 = 1 246
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 4.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAnimateHeat],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = SRBs
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 16780
        basemass = -1

        //  HTPB/AP propellant mixture mass 29700 Kg.

        TANK
        {
            name = HTPB
            amount = 16780
            maxAmount = 16780
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  5 segment Reusable Solid Rocket Motor (RSRMV).

//  Dimensions: 3.71 m x 47.5 m
//  Gross Mass: 735000 Kg
//  ==================================================

@PART[xKWsrbGlobeX10Lx]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.87, 2.42, 1.87
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 23.715, 0.0, 0.0, 1.0, 0.0, 3
    %node_stack_bottom = 0.0, -23.75, 0.0, 0.0, -1.0, 0.0, 3
    %node_stack_parachute = 0.0, 24.715, 0.0, 0.0, 1.0, 0.0, 2
    @node_attach = 0.0, 0.0, -1.95, 0.0, 0.0, 0.0

    @category = Engine

    @mass = 85.5
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %fuelCrossFeed = False
    %stageOffset = 1
    %childStageOffset = 1
    %bulkheadProfiles = srf, size2, size3

    %engineType = RSRMV
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 15800
        @heatProduction = 100
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = PBAN
        }

        @atmosphereCurve
        {
            @key,0 = 0 266
            @key,1 = 1 242
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 8.0
        %useGimbalResponseSpeed = True
        %gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAnimateHeat],*{}

    !MODULE[FXModuleAnimateThrottle],*{}

    MODULE
    {
        name = FXModuleAnimateThrottle
        animationName = SRBs
        responseSpeed = 0.001
        dependOnEngineState = True
        dependOnThrottle = True
    }

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = PBAN
        volume = 365485
        basemass = -1

        //  PBAN/AP propellant mixture mass 647640 Kg.

        TANK
        {
            name = PBAN
            amount = 365485
            maxAmount = 365485
        }
    }

    !RESOURCE,*{}
}

//	==================================================
//	Ares V core booster.

//	The specific version is the oldest one (version 27.3) and the only to feature the RS-25 engines (five in total). Future versions used the RS-68 (up to version 51.00.48).

//	Note for next CMES update: this part might change name.

//	Dimensions: 8.384 x 64.270 m
//	Gross Mass: 1102330.00 Kg
//	Throttle Range: 67% to 100%
//	O/F Ratio: 6.00
//	Volume: 2806021.00 L
//	==================================================

	@PART[MonkeyCargoBoosterADJ]:FOR[RealismOverhaul]
	{
		%RSSROConfig = True

		@MODEL
		{
			@scale	  = 1.600, 1.600, 1.600
			%position = 0.000, 0.000, 0.000
			%rotation = 0.000, 0.000, 0.000
		}

		MODEL
		{
			model	 = CMES/Propulsion/MLS-EXPANSION/model
			scale	 = 1.670, 1.305, 1.670
			position = 0.000, 6.150, 0.000
			rotation = 0.000, 0.000, 0.000
		}

		!mesh		   = NULL
		@scale		   = 1.000
		@rescaleFactor = 1.000

		@node_stack_top    = 0.000,  10.040, 0.000, 0.000,  1.000, 0.000, 3
		%node_stack_bottom = 0.000, -53.980, 0.000, 0.000, -1.000, 0.000, 3

		@category	  = Engine
        @title		  = Ares V Core Booster
		@manufacturer = NASA
		@description  = Ares V was a NASA proposal for a super heavy Cargo Launch Vehicle (CaLV) that belonged to the Constellation Program (later as a base vehicle for developing the Space Launch System). It was designed to orbit the Altair Lunar Lander along with the Earth Departure Stage (EDS) for crewed Lunar landing or the components for a crewed Mars landing into LEO to be assembled. Design Version 27.3 (120 metric tonnes into LEO).

		@mass		      = 88.4300
		@crashTolerance   = 12
		@breakingForce    = 250
		@breakingTorque   = 250
		@maxTemp		  = 1973.15
		%fuelCrossFeed    = true
		%stagingIcon	  = LIQUID_ENGINE
		%stageOffset	  = 1
		%childStageOffset = 1
		@CoMOffset	 	  = 0.000, -25.000, 0.000
		%bulkheadProfiles = size3

        !MODULE[ModuleCommand]{}

		!MODULE[ModuleSAS]{}

		!MODULE[ModuleReactionWheel]{}
        
        @MODULE[ModuleEngines*]
		{
			@minThrust	    = 6967.96
			@maxThrust	    = 10399.94
			@heatProduction = 100
			!fxOffset		= NULL
			%ullage			= true
			%pressureFed	= false
			%ignitions		= 1

			IGNITOR_RESOURCE
			{
				name   = ElectricCharge
				amount = 0.500
			}

			IGNITOR_RESOURCE
			{
				name   = LqdHydrogen
				amount = 0.7285
			}

			IGNITOR_RESOURCE
			{
				name   = LqdOxygen
				amount = 0.2714
			}

			@PROPELLANT[LiquidFuel]
			{
				@name  = LqdHydrogen
				@ratio = 0.729
			}

			@PROPELLANT[Oxidizer]
			{
				@name  = LqdOxygen
				@ratio = 0.271
			}

			@atmosphereCurve
			{
				@key,0 = 0 453.50
				@key,1 = 1 361.50
			}
		}

		MODULE
		{
			name 				= KM_Gimbal_3
			gimbalTransformName = thrustTransform
			yawGimbalRange 		= 8.000
			pitchGimbalRange 	= 8.000
			gimbalConstrain 	= 8.000
			responseSpeed 		= 16
			enableRoll 			= true
		}

		MODULE
		{
			name		  = ModuleEngineConfigs
			type		  = ModuleEngines
			configuration = RS-25A
			modded		  = false

			CONFIG
			{
				name	  = RS-25A
				minThrust = 6967.96
				maxThrust = 10399.94

				PROPELLANT
				{
					name	  = LqdHydrogen
					ratio	  = 0.7285
					DrawGauge = true
				}

				PROPELLANT
				{
					name 	  = LqdOxygen
					ratio	  = 0.2714
					DrawGauge = false
				}

				atmosphereCurve
				{
					key = 0 453.50
					key = 1 361.50
				}
			}
		}

		MODULE
		{
			name	 = ModuleFuelTanks
			type	 = Cryogenic
			volume	 = 2806021
			basemass = -1

			TANK
			{
				name	  = LqdHydrogen
				amount	  = 2044359
				maxAmount = 2044359
			}

			TANK
			{
				name	  = LqdOxygen
				amount	  = 761662
				maxAmount = 761662
			}
		}

		!RESOURCE[LiquidFuel]{}

		!RESOURCE[Oxidizer]{}
	}

//  ==================================================
//  4 segment Reusable Solid Rocket Motor (RSRM).

//  Dimensions: 3.71 m x 38 m
//  Gross Mass: 565400 Kg

//  The inert mass value does not include the mass of
//  the nose cone, recovery parachutes and other
//  auxiliary modules.
//  ==================================================

@PART[XSLSSRB]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.68, 1.415, 1.68
        %rotation = 0.0, 90.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.635, 0.0, 0.0, 1.0, 0.0, 3
    %node_stack_bottom = 0.0, -35.435, 0.0, 0.0, -1.0, 0.0, 3
    %node_stack_parachute = 0.0, 3.635, 0.0, 0.0, 1.0, 0.0, 2
    @node_attach = 0.0, 0.0, 1.97, 0.0, 0.0, -1.0

    @category = Engine

    @mass = 65.57
    @crashTolerance = 10
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 573.15
    %heatConductivity = 0.06
    %skinInternalConductionMult = 4.0
    %emissiveConstant = 0.5
    %fuelCrossFeed = False
    %stageOffset = 1
    %childStageOffset = 1
    @CoMOffset = 0.0, -16.0, 0.0
    %bulkheadProfiles = srf, size2, size3

    %engineType = RSRM
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 14234.3
        @heatProduction = 100
        @useEngineResponseTime = False
        !engineAccelerationSpeed = NULL
        %ullage = False
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[SolidFuel]
        {
            @name = PBAN
        }

        @atmosphereCurve
        {
            @key,0 = 0 263
            @key,1 = 1 246
        }
    }

    !MODULE[ModuleGimbal],*{}

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 8.0
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }

    !MODULE[ModuleSAS],*{}

    !MODULE[ModuleReactionWheel],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = PBAN
        volume = 282088
        basemass = -1

        //  PBAN/AP propellant mixture mass 499860 Kg.

        TANK
        {
            name = PBAN
            amount = 282088
            maxAmount = 282088
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Earth Departure Stage auxiliary propellant tank.

//  Dimensions: 7.5 m x 3 m
//  Inert Mass: 1390 Kg
//  ==================================================

@PART[ADVINTER]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.5, 1.0, 1.5
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 5
    %node_stack_decoupler = 0.0, 11.73, 0.0, 0.0, 1.0, 0.0, 5

    @category = FuelTank
    @title = EDS - IV Propellant Tank
    @manufacturer = Boeing Co.
    @description = A generic cryogenic propellant tank for the Earth Departure Stage (EDS). Doubles as a dual engine mount.

    @mass = 1.39
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %bulkheadProfiles = size3, size5

    !MODULE[ModuleGenerator],*{}

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 63000
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Delta IV Common Booster Core (CBC).

//  Dimensions: 5 m x 35 m
//  Gross Mass: 220000 Kg
//  ==================================================

@PART[xNP_lft_125m_6mxA]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 4.0, 4.65, 4.0
        %position = 0.0, 0.0, 0.0
        %rotation = 0.0, -110.0, 0.0
    }

    MODEL
    {
        model = CMES/Propulsion/NOVA-CHAKA-TANK-FOAM2/model
        scale = 1.0, 2.325, 1.0
        position = 0.0, 17.4225, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 20.895, 0.0, 0.0, 1.0, 0.0, 4
    @node_stack_bottom = 0.0, -14.0, 0.0, 0.0, -1.0, 0.0, 4
    @node_attach = 0.0, 0.0, -2.5, 0.0, 0.0, 0.0

    @category = FuelTank
    @title = Delta IV Common Booster Core (CBC)
    @manufacturer = United Launch Alliance (ULA)
    %description = The Common Booster Core propellant tank for the Delta IV launch vehicle.

    @mass = 18.0
    @crashTolerance = 12
    @breakingForce = 250
    @breakingTorque = 250
    @maxTemp = 473.15
    %skinMaxTemp = 573.15
    %fuelCrossFeed = True
    %bulkheadProfiles = size4

    !MODULE[ModuleFuelTanks],*{}

    MODULE
    {
        name = ModuleFuelTanks
        type = Cryogenic
        volume = 559045
        basemass = -1

        //  CBC fuel mass 28860 Kg.

        TANK
        {
            name = LqdHydrogen
            amount = 407300
            maxAmount = 407300
        }

        //  CBC oxidizer mass 173140 Kg.

        TANK
        {
            name = LqdOxygen
            amount = 151745
            maxAmount = 151745
        }
    }

    !RESOURCE,*{}

    //  Avionics batteries 50 Wh.
    //  Supports the CBC for the initial duration of the flight (approximately 4 minutes).
    //  Assumes that the electricity consumption of the CBC avionics is 200 W.

    RESOURCE
    {
        name = ElectricCharge
        amount = 180
        maxAmount = 180
    }
}

//  ==================================================
//  Mars Ascent Vehicle (MAV) tank.

//  Dimensions: 3.700 x 3.300 m
//  Gross Mass: 39953.52 Kg
//  Volume: 31900.00 L
//  ==================================================

    @PART[XNP_lft_8_0m_6mzxx6]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/DRTO/model
            scale    = 0.743, 0.550, 0.743
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  1.643, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -1.660, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 1.890,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = MAV Tank
        @manufacturer = NASA
        @description  = The propellant tank for the Mars Ascent Vehicle (MAV).

        @mass             = 3.6510
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        !linearStrength   = NULL
        !angularStrength  = NULL
        !vesselType       = NULL
        %bulkheadProfiles = size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = ServiceModule
            volume   = 31900
            basemass = -1

            TANK
            {
                name      = MMH
                amount    = 18099
                maxAmount = 18099
            }

            TANK
            {
                name      = NTO
                amount    = 14052
                maxAmount = 14052
            }
        }

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        !MODULE[MechJebCore]{}

        !MODULE[ModuleGenerator]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[MonoPropellant]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  Ares V / SLS extension tank barrel.

//  Dimensions: 8.400 x 2.000 m
//  Gross Mass: 55405.00 Kg
//  Volume: 150000.00 L
//  ==================================================

    @PART[XNP_lft_W375x3SHORTW]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.685, 1.000, 1.685
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  1.490, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -1.490, 0.000, 0.000, -1.000, 0.000, 3
        %node_attach       = 3.350,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Ares V / SLS Tank Extension
        @manufacturer = NASA
        %description  = A 3 - meter tank extension for the Ares V or the Space Launch System (SLS).

        @mass             = 3.2000
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        MODULE
        {
            name   = ModuleFuelTanks
            type   = Cryogenic
            volume = 150000
        }

        !MODULE[ModuleSAS]{}

        !MODULE[ModuleReactionWheel]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}
    }

//  ==================================================
//  Delta Cryogenic Second Stage (DCSS) 4 - meter LOX tank.

//  Dimensions: 3.200 x 3.500 m
//  Gross Mass: 405.50 Kg
//  Volume: 15362.00 L
//  ==================================================

    @PART[XIUSLOWERXxxxtall2G]:FOR[RealismOverhaul]
    {
        %RSSROConfig = True

        @MODEL
        {
            @scale    = 1.275, 1.750, 1.275
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top1    = 0.000,  0.600, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_top     = 0.000,  1.700, 0.000, 0.000,  1.000, 0.000, 2
        @node_stack_bottom  = 0.000, -1.700, 0.000, 0.000, -1.000, 0.000, 2
        @node_stack_bottom1 = 0.000, -0.575, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach        = 1.670,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Delta IV DCSS LOX Tank [4 Meters]
        @manufacturer = United Launch Alliance (ULA)
        @description  = This cryogenic liquid oxygen tank forms the lower portion of the 4 meter DCSS stage for the Delta IV family of launch vehicles.

        @mass             = 0.4055
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size2, size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 15362
            basemass = -1

            TANK
            {
                name      = LqdOxygen
                amount    = 15362
                maxAmount = 15362
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}
    }

//  ==================================================
//  Delta Cryogenic Second Stage (DCSS) 5 - meter LOX tank.

//  Dimensions: 3.200 x 4.000 m
//  Gross Mass: 465.40 Kg
//  Volume: 20433.00 L
//  ==================================================

    @PART[XIUSLOWERXxxxtall]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.275, 2.000, 1.275
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        @node_stack_top     = 0.000,  0.750, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_top1    = 0.000,  1.950, 0.000, 0.000,  1.000, 0.000, 2
        @node_stack_bottom  = 0.000, -1.950, 0.000, 0.000, -1.000, 0.000, 2
        @node_stack_bottom1 = 0.000, -0.725, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach        = 1.670,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Delta IV DCSS LOX Tank [5 Meters]
        @manufacturer = United Launch Alliance (ULA)
        @description  = This cryogenic liquid oxygen tank forms the lower portion of the 5 meter DCSS stage for the Delta IV family of launch vehicles.

        @mass             = 0.4654
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size2, size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 20433
            basemass = -1

            TANK
            {
                name      = LqdOxygen
                amount    = 20433
                maxAmount = 20433
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}
    }

//  ==================================================
//  Aerojet Rocketdyne RL-10 engine.

//  Modeled after the RL-10B-2 and RL-10C1 variants (long nozzle extensions).
//  Includes the CECE variants (Base, High Thrust & Methane).

//  Dimensions: 2.130 x 4.140 m (extended)
//  Gross Mass: 277.00 Kg
//  Throttle Range: N/A
//  Burn Time: 465 s
//  O/F Ratio: 6.00
//  ==================================================

    @PART[XXxAres1J2-XHIGH]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/J2X/model
            scale    = 1.200, 1.200, 1.200
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        %scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  1.720, 0.000, 0.000,  1.000, 0.000, 2
        @node_stack_bottom = 0.000, -1.405, 0.000, 0.000, -1.000, 0.000, 2

        @title        = RL-10 [2.13 m]
        %manufacturer = Aerojet Rocketdyne
        @description  = The modern iterations of the workhorse RL-10 engine (RL-10B-1/2, RL-10C-1/2 & CECE).

        @mass           = 0.2770
        @crashTolerance = 12
        @breakingForce  = 250
        @breakingTorque = 250
        @maxTemp        = 1973.15

        @MODULE[ModuleEngines*]
        {
            @minThrust      = 110.10
            @maxThrust      = 110.10
            @heatProduction = 100

            IGNITOR_RESOURCE
            {
                name   = ElectricCharge
                amount = 0.500
            }

            IGNITOR_RESOURCE
            {
                name   = LqdHydrogen
                amount = 0.7285
            }

            IGNITOR_RESOURCE
            {
                name   = LqdOxygen
                amount = 0.2714
            }

            @PROPELLANT[LiquidFuel]
            {
                @name  = LqdHydrogen
                @ratio = 0.7285
            }

            @PROPELLANT[Oxidizer]
            {
                @name  = LqdOxygen
                @ratio = 0.2714
            }

            @atmosphereCurve
            {
                @key,0 = 0 465.5
                @key,1 = 1 235.0
            }
        }

        @MODULE[ModuleGimbal]
        {
            @gimbalRange            = 4.000
            %useGimbalResponseSpeed = true
            %gimbalResponseSpeed    = 16
        }

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            configuration = RL-10B-2
            modded        = false
            origMass      = 0.2770

            CONFIG
            {
                name           = RL-10B-2
                minThrust      = 110.10
                maxThrust      = 110.10
                heatProduction = 100
                massMult       = 1.0000

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 465.5
                    key = 1 235.0
                }
            }

            CONFIG
            {
                name           = RL-10C-1
                minThrust      = 106.30
                maxThrust      = 106.30
                heatProduction = 100
                massMult       = 0.6895

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 458
                    key = 1 235
                }
            }

            CONFIG
            {
                name           = RL-10C-2
                minThrust      = 111.20
                maxThrust      = 111.20
                heatProduction = 100
                massMult       = 0.6895

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 458
                    key = 1 235
                }
            }

            CONFIG
            {
                name           = CECE-Base
                minThrust      = 5.34
                maxThrust      = 66.70
                heatProduction = 100
                massMult       = 0.5776

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.763
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.237
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 460             //http://www.sei.aero/eng/papers/uploads/archive/AIAA-2013-5479_Paper.pdf
                    key = 1 100
                }
            }

            CONFIG
            {
                name           = CECE-High
                minThrust      = 111.20
                maxThrust      = 111.20
                heatProduction = 100
                massMult       = 0.7581

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.763
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.237
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 465
                    key = 1 100
                }
            }

            CONFIG
            {
                name           = CECE-Methane
                minThrust      = 22.20
                maxThrust      = 66.70
                heatProduction = 100
                massMult       = 0.7581     //http://www.sei.aero/eng/papers/uploads/archive/AIAA-2013-5479_Paper.pdf

                PROPELLANT
                {
                    name      = LqdMethane
                    ratio     = 0.4922
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.5078
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 360             //http://www.sei.aero/eng/papers/uploads/archive/AIAA-2013-5479_Paper.pdf
                    key = 1 100
                }
            }
        }

        !MODULE[ModuleAlternator]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  Aerojet Rocketdyne J-2X engine.

//  Dimensions: 3.050 x 4.700 m
//  Gross Mass: 2430.00 Kg
//  Throttle Range: 80% to 100%
//  Burn Time: 431 s
//  O/F Ratio: 5.50
//  ==================================================

    @PART[XKosmos_Angara_RD-275KX]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/Kosmos_Angara_RD-275K/model_RD-275K
            scale    = 2.600, 2.100, 2.600
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        @node_stack_top    = 0.000,  2.325, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -2.325, 0.000, 0.000, -1.000, 0.000, 3
        @attachRules       = 1,1,1,0,0

        !mesh          = NULL
        %scale         = 1.000
        @rescaleFactor = 1.000

        @category     = Engine
        @title        = J2-X [3.05 m]
        @manufacturer = Aerojet Rocketdyne
        %description  = The J-2X engine begun it's life as an update to the J2-S engine, which itself was a simplified J-2 engine. It was planned to have two variants, the J-2X with 1220 kN of thrust (for the Ares I launch vehicle) and the J-2XD with 1310 kN of thrust (for the Ares V Earth Departure Stage). Both designs were dropped in favor of the RL-10 engine (C2 variant) for the upper stage of the SLS.

        @mass             = 2.4300
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        %childStageOffset = 1
        %stagingIcon      = LIQUID_ENGINE
        %bulkheadProfiles = size3

        @MODULE[ModuleEngines*]
        {
            @minThrust      = 1046.00
            @maxThrust      = 1307.50
            @heatProduction = 100
            %ullage         = true
            %pressureFed    = false
            %ignitions      = 3

            IGNITOR_RESOURCE
            {
                name   = LqdHydrogen
                amount = 0.7454
            }

            IGNITOR_RESOURCE
            {
                name   = LqdOxygen
                amount = 0.2545
            }

            IGNITOR_RESOURCE
            {
                name   = ElectricCharge
                amount = 0.500
            }

            @PROPELLANT[LiquidFuel]
            {
                @name  = LqdHydrogen
                @ratio = 0.7454
            }

            @PROPELLANT[Oxidizer]
            {
                @name  = LqdOxygen
                @ratio = 0.2545
            }

            @atmosphereCurve
            {
                @key,0 = 0 448
                @key,1 = 1 200
            }
        }

        @MODULE[ModuleGimbal]
        {
            @gimbalRange            = 7.500
            %useGimbalResponseSpeed = true
            %gimbalResponseSpeed    = 16
        }

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            configuration = J-2X
            modded        = false

            CONFIG
            {
                name           = J-2X
                minThrust      = 976.00
                maxThrust      = 1220.00
                heatProduction = 100
                massMult       = 1.000

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7454
                    DrawGauge = True
                }

                PROPELLANT
                {
                    name  = LqdOxygen
                    ratio = 0.2545
                }

                atmosphereCurve
                {
                    key = 0 448
                    key = 1 200
                }
            }

            CONFIG
            {
                name           = J-2XD
                minThrust      = 1046.00
                maxThrust      = 1307.50
                heatProduction = 100
                massMult       = 1.000

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7454
                    DrawGauge = True
                }

                PROPELLANT
                {
                    name  = LqdOxygen
                    ratio = 0.2545
                }

                atmosphereCurve
                {
                    key = 0 448
                    key = 1 200
                }
            }
        }

        !MODULE[ModuleAlternator]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  KOSMOS - CHAKA LANDER ENGINE
//  ==================================================

@PART[XKosmos_TKS_RD-0225_EngineLANDERS]:FOR[RealismOverhaul]
{
    %RSSROConfig = True
    !mesh = DELETE
    MODEL
    {
        model = CMES/Propulsion/KOSMOS - CHAKA LANDER ENGINE/model
        scale = 2.666667, 2.666667, 2.666667
    }
    @rescaleFactor = 1

    @node_attach = 0, 0, 0, 1.0, 0.0, 0.0

    @fx_exhaustFlame_yellow_tiny = 0.0, 0, 0, 0.0, 1.0, 0.0, running
    @fx_exhaustLight_yellow = 0.0, 0, 0.0, 0.0, 0.0, 1.0, running

        @title = Kestrel 1B Retro
    %manufacturer = SpaceX
    @description = This engine is the evolution of the Kestrel upper stage engine. Retuned and used for Martian retropropulsion.
        @mass = 0.175

        @MODULE[ModuleEngines*]
    {
        @minThrust = 26.8
        @maxThrust = 38.9
        @heatProduction = 100
            @PROPELLANT[LiquidFuel]
            {
                @name = LqdMethane
                @ratio = 0.494
            }
            @PROPELLANT[Oxidizer]
            {
                @name = LqdOxygen
                @ratio = 0.506
            }
            @atmosphereCurve
            {
                @key = 0 350
                @key = 1 100
            }
    }

    MODULE
    {
        name = ModuleEngineConfigs
        origMass = 0.097
        type = ModuleEngines
        configuration = Kestrel-1B
        modded = false

        CONFIG
        {
            name = Kestrel-1B
            minThrust = 26.8
            maxThrust = 38.9
            heatProduction = 100
            PROPELLANT
            {
                name = LqdMethane
                ratio = 0.494
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.506
            }
            atmosphereCurve
            {
                key = 0 350
                key = 1 100
            }
            massMult = 0.952
        }
    }

        MODULE
    {
        name = ModuleEngineIgnitor
        ignitionsAvailable = 10
        autoIgnitionTemperature = 800
        ignitorType = Electric
        useUllageSimulation = true
        isPressureFed = true
        IGNITOR_RESOURCE
        {
            name = ElectricCharge
            amount = 0.005
        }
        IGNITOR_RESOURCE
        {
            name = LqdMethane
            amount = 0.494
        }
        IGNITOR_RESOURCE
        {
            name = LqdOxygen
            amount = 0.506
        }
    }
        !MODULE[ModuleCommand]
        {
        }

}

//  ==================================================
//  Separation Motor (large).

//  Dimensions: 0.175 x 1.000 m
//  Gross Mass: 50.00 Kg
//  Throttle Range: N/A
//  O/F Ratio: 2.12
//  ==================================================

    @PART[xKosmos_SepRetrox]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale = 0.850, 0.850, 0.850
        }

        !mesh          = NULL
        %scale         = 1.000
        !Rescalefactor = NULL
        %rescaleFactor = 1.000

        @node_attach =  -0.008, 0.000, 0.000, -1.000, 0.000, 0.000

        @category     = Engine
        @title        = Separation Motor (100 kN class)
        %manufacturer = Generic
        @description  = Solid rocket motor for safe separation of discarded rocket stages.

        @mass             = 0.0500
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        %childStageOffset = 1
        %bulkheadProfiles = srf

        @MODULE[ModuleEngines*]
        {
            @minThrust               = 0
            @maxThrust               = 100.00
            @heatProduction          = 100
            @useEngineResponseTime   = false
            !engineAccelerationSpeed = NULL

            @PROPELLANT[SolidFuel]
            {
                @name = HTPB
            }

            @atmosphereCurve
            {
                @key,0 = 0 250
                @key,1 = 1 220
            }
        }

        MODULE
        {
            name     = ModuleFuelTanks
            type     = HTPB
            volume   = 21.00
            basemass = -1

            TANK
            {
                name      = HTPB
                amount    = 11.86
                maxAmount = 11.86
            }
        }

        !RESOURCE[SolidFuel]{}
    }

//  ==================================================
//  Separation Motor (medium).

//  Dimensions: 0.175 x 0.500 m
//  Gross Mass: 28.00 Kg
//  Throttle Range: N/A
//  O/F Ratio: 2.12
//  ==================================================

    @PART[xKosmos_SepRetroxMLS]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale = 0.850, 0.425, 0.850
        }

        !mesh          = NULL
        %scale         = 1.000
        %rescaleFactor = 1.000

        @node_attach =  -0.008, 0.000, 0.000, -1.000, 0.000, 0.000

        @category     = Engine
        @title        = Separation Motor (50 kN class)
        %manufacturer = Generic
        @description  = Solid rocket motor for safe separation of discarded rocket stages.

        @mass             = 0.0280
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        %childStageOffset = 1
        %bulkheadProfiles = srf

        @MODULE[ModuleEngines*]
        {
            @minThrust               = 0
            @maxThrust               = 50.00
            @heatProduction          = 100
            @useEngineResponseTime   = false
            !engineAccelerationSpeed = NULL

            @PROPELLANT[SolidFuel]
            {
                @name = HTPB
            }

            @atmosphereCurve
            {
                @key,0 = 0 250
                @key,1 = 1 220
            }
        }

        MODULE
        {
            name     = ModuleFuelTanks
            type     = HTPB
            volume   = 9.60
            basemass = -1

            TANK
            {
                name      = HTPB
                amount    = 5.42
                maxAmount = 5.42
            }
        }

        !RESOURCE[SolidFuel]{}
    }

//  ==================================================
//  Separation Motor (small).

//  Dimensions: 0.175 x 0.250 m
//  Gross Mass: 10.00 Kg
//  Throttle Range: N/A
//  O/F Ratio: 2.12
//  ==================================================

    @PART[xKosmos_SepRe3nstrox]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale = 0.850, 0.215, 0.850
        }

        !mesh          = NULL
        %scale         = 1.000
        !Rescalefactor = NULL
        %rescaleFactor = 1.000

        @node_attach =  -0.008, 0.000, 0.000, -1.000, 0.000, 0.000

        @category     = Engine
        @title        = Separation Motor (25 kN class)
        %manufacturer = Generic
        @description  = Solid rocket motor for safe separation of discarded rocket stages.

        @mass             = 0.0010
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        %childStageOffset = 1
        %bulkheadProfiles = srf

        @MODULE[ModuleEngines*]
        {
            @minThrust               = 0
            @maxThrust               = 25.00
            @heatProduction          = 100
            @useEngineResponseTime   = false
            !engineAccelerationSpeed = NULL

            @PROPELLANT[SolidFuel]
            {
                @name = HTPB
            }

            @atmosphereCurve
            {
                @key,0 = 0 250
                @key,1 = 1 220
            }
        }

        MODULE
        {
            name     = ModuleFuelTanks
            type     = HTPB
            volume   = 4.80
            basemass = -1

            TANK
            {
                name      = HTPB
                amount    = 2.71
                maxAmount = 2.71
            }
        }

        !RESOURCE[SolidFuel]{}
    }

//  ==================================================
//  SuperDraco engine.

//  Dimensions: 0.200 x 2.000 m
//  Gross Mass: 130.40 Kg
//  Throttle Range: 20% to 100%
//  Burn Time: 300 s
//  O/F Ratio: 1.30
//  ==================================================

    @PART[xLazTekSuperDracosx]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/LazTekSuperDracos/model
            scale    = 1.670, 1.670, 1.670
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_attach = 0.000, 0.000, 0.000, 0.000, 0.000, -1.000

        @category     = Engine
        @title        = SuperDraco
        @manufacturer = SpaceX
        %description  = A powerful hypergolic engine. Used by the Dragon V2 Command Module for powered landings, trajectory corrections and as a Launch Abort System (LAS). Other applications include hypersonic deceleration and landing for crew and cargo modules.

        @mass             = 0.1304
        @crashTolerance   = 12
        %breakingForce    = 250
        %breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        %childStageOffset = 1
        %bulkheadProfiles = srf

        @MODULE[ModuleEngines*]
        {
            @exhaustDamage  = true
            @minThrust      = 29.20
            @maxThrust      = 146.00
            @heatProduction = 100
            !fxOffset       = NULL
            %ullage         = false
            %pressureFed    = true

            @PROPELLANT[MonoPropellant]
            {
                @name  = MMH
                @ratio = 0.5629
            }

            PROPELLANT
            {
                name      = NTO
                ratio     = 0.4370
                DrawGauge = false
            }

            @atmosphereCurve
            {
                @key,0 = 0 280.10
                @key,1 = 1 239.80
            }
        }

        !MODULE[ModuleGimbal]{}

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            configuration = SuperDraco
            modded        = false

            CONFIG
            {
                name           = SuperDraco
                minThrust      = 29.20
                maxThrust      = 146.00
                heatProduction = 100

                PROPELLANT
                {
                    name      = MMH
                    ratio     = 0.5629
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = NTO
                    ratio     = 0.4370
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 280.10
                    key = 1 239.80
                }
            }
        }
    }

//  ==================================================
//  KW2mengineSPS ORION
//  ==================================================

@PART[XROVERENGINE]:FOR[RealismOverhaul]
{
        %RSSROConfig = True
    !mesh = DELETE
    MODEL
    {
        model = CMES/Propulsion/KW2mengineSPS ORION/model
        scale = 1.66667, 1.66667, 1.66667
    }
    @rescaleFactor = 1.75

    @node_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.2, 0.0, 0, -1, 0, 2

    // --- FX definitions ---

    @fx_gasJet_white = 0.0, -1.33333, 0.0, 0.0, 1.0, 0.0, running
    @fx_exhaustLight_blue = 0.0, -1.33333, 0.0, 0.0, 0.0, 1.0, running

        @title = J-2X
    %manufacturer = Aerojet Rocketdyne
    @description = Designed for integration into the ARES Earth Departure Stage.
        @mass = 2.47

        @MODULE[ModuleEngines*]
    {
        @minThrust = 915
        @maxThrust = 1307
        @heatProduction = 100
        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.745
        }
        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.255
        }
        @atmosphereCurve
        {
            @key,0 = 0 448
            @key,1 = 1 200
        }
    }
    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 7.5
        %useGimbalResponseSpeed = true
        %gimbalResponseSpeed = 16
    }
    !MODULE[ModuleAlternator]
    {
    }
    MODULE
    {
        name = ModuleEngineConfigs
        configuration = J-2X
        origMass = 1.578501
        modded = false

        CONFIG
        {
            name = J-2X
            minThrust = 915
            maxThrust = 1307
            massMult = 0.973574409
            heatProduction = 100
            PROPELLANT
            {
                name = LqdHydrogen
                ratio = 0.745
                DrawGauge = True
            }
            PROPELLANT
            {
                name = LqdOxygen
                ratio = 0.255
            }
            atmosphereCurve
            {
                key = 0 448
                key = 1 200
            }
        }
    }
    MODULE
    {
        name = ModuleEngineIgnitor
        ignitionsAvailable = 3
        autoIgnitionTemperature = 800
        ignitorType = Electric
        useUllageSimulation = true
        isPressureFed = false
        IGNITOR_RESOURCE
        {
            name = ElectricCharge
            amount = 0.500
        }
        IGNITOR_RESOURCE
        {
            name = LqdHydrogen
            amount = 0.745
        }
        IGNITOR_RESOURCE
        {
            name = LqdOxygen
            amount = 0.255
        }
    }
        !MODULE[ModuleCommand]
        {
        }
}

//  ==================================================
//  Orion MPCV Service Module.

//  Dimensions: 4.000 x 2.720 m
//  Gross Mass: 12300.00 Kg
//  Volume: 8400.00 L
//  ==================================================

    @PART[XLFTORIONLARGE]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/LFT_ORION/model
            scale    = 1.075, 1.180, 1.075
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top     = 0.000,  1.325, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom  = 0.000, -1.335, 0.000, 0.000, -1.000, 0.000, 3
        !node_stack_bottom2 = NULL
        @node_attach        = 1.380,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Orion Service Module
        @manufacturer = Airbus Defence & Space
        %description  = The Service Module for the Orion MPCV. Derived from the Automatic Transfer Vehicle (ATV) Service Module.

        @mass                = 3.800
        @crashTolerance      = 12
        @breakingForce       = 250
        @breakingTorque      = 250
        @maxTemp             = 1073.15
        %fuelCrossFeed       = false
        %bulkheadProfiles    = srf, size3
        %emissiveConstant    = 0.850
        %heatConductivity    = 0.700
        %thermalMassModifier = 5
        %radiatorHeadroom    = 0.450

        MODULE
        {
            name     = ModuleFuelTanks
            type     = ServiceModule
            volume   = 8400
            basemass = -1

            //  Oxygen max capacity 16.50 Kg.

            TANK
            {
                name      = Oxygen
                amount    = 11700
                maxAmount = 11700
            }

            //  Water max capacity 280.00 Kg.

            TANK
            {
                name      = Water
                amount    = 280
                maxAmount = 280
            }

            //  Propellant mass 9200.00 Kg.

            TANK
            {
                name      = MMH
                amount    = 4008
                maxAmount = 4008
            }

            TANK
            {
                name      = MON3
                amount    = 3950
                maxAmount = 3950
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}
    }

@PART[DUNARETROTANKhtv]:FOR[RealismOverhaul]
{
    %RSSROConfig = True
    @MODEL
    {
      @scale = 0.89333, 0.4, 0.89333
    }

     --- node definitions ---
    @node_stack_top = 0.0, 0.6, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -0.466667, 0.0, 0, -1, 0, 3
        !MODULE[ModuleCommand]
        {
        }

    @mass = 1.5

    @title = HTV Propulsion Module
    @manufacturer = JAXA/Mitsubishi
    @description = The propulsion segment of the Japanese automated transfer vehicle

        RESOURCE
        {
            name = MMH
            amount = 1046.57
            maxAmount = 1046.57
        }
        RESOURCE
        {
            name = MON3
            amount = 1049.82
            maxAmount = 1049.82
        }

    !RESOURCE[ElectricCharge]
    {
    }
    !RESOURCE[Oxidizer]
    {
    }
    !RESOURCE[LiquidFuel]
    {
    }
    !RESOURCE[MonoPropellant]
    {
    }
}

//  ==================================================
//  Bimodal NTR engine mount.

//  Dimensions: 10.000 x 6.000 m
//  Gross Mass: 628.00 Kg
//  ==================================================

    @PART[XNP_interstage_5m_8m_tMTVDRIVEX]:FOR[RealismOverhaul]
    {
        %RSSROConfig = True

        @MODEL
        {
            @scale    = 2.010, 1.950,   2.010
            %position = 0.000, 0.000,   0.000
            %rotation = 0.000, 0.000, 180.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,   2.925, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -10.000, 0.000, 0.000, -1.000, 0.000, 3
        @node_stack_1      = 0.000,  -2.950, 0.000, 0.000, -1.000, 0.000, 3
        !node_stack_2      = NULL
        !node_stack_3      = NULL
        !node_stack_4      = NULL

        @category     = Structural
        @title        = Bimodal NTR Engine Mount
        @manufacturer = NASA
        @description  = Structural adapter for the Bimodal NTR engines. Includes radiators for cooling the NTR engines.

        @mass                = 0.6280
        @crashTolerance      = 12
        @breakingForce       = 250
        @breakingTorque      = 250
        @maxTemp             = 1073.15
        %emissiveConstant    = 0.900
        %heatConductivity    = 0.750
        %thermalMassModifier = 5.000
        %radiatorHeadroom    = 0.500
        %bulkheadProfiles    = size3

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleGenerator]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[ElectricCharge]{}

        !RESOURCE[MonoPropellant]{}
    }

//  ==================================================
//  Aerojet Rocketdyne Bimodal Nuclear Thermal Rocket (BNTR).

//  Dimensions: 1.560 x 3.240 m
//  Gross Mass: 2224.00 Kg
//  Throttle Range: 33% to 100%
//  Burn Time: 5400 s
//  O/F Ratio: 0.00
//  ==================================================

    @PART[nervaII_kerbscalexx]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 0.700, 0.875, 0.700
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  2.445, 0.000, 0.000,  1.000, 0.000, 2
        @node_stack_bottom = 0.000, -4.550, 0.000, 0.000, -1.000, 0.000, 2

        @title        = Bimodal NTR [1.6 m]
        @manufacturer = Aerojet Rocketdyne
        @description  = The Bimodal Nuclear Thermal Rocket (BNTR) engine takes the original NERVA concept and expands it. Instead of wasting precious propellant mass for cooling the engine reactor, it uses a power generator unit to convert the waste thermal energy into electrical power.

        @mass             = 2.1690
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %fuelCrossFeed    = true
        %stageOffset      = 1
        %childStageOffset = 1
        %stagingIcon      = LIQUID_ENGINE
        %bulkheadProfiles = size2

        @MODULE[ModuleEngines]
        {
            @minThrust      = 22.24
            @maxThrust      = 66.72
            @heatProduction = 100
            !fxOffset       = NULL
            %ullage         = true
            %pressureFed    = false
            %ignitions      = 10

            IGNITOR_RESOURCE
            {
                name   = ElectricCharge
                amount = 0.500
            }

            @PROPELLANT[LiquidFuel]
            {
                @name  = LqdHydrogen
                @ratio = 1.000
            }
            @PROPELLANT[Oxidizer]
            {
                @name  = EnrichedUranium
                @ratio = 0.00000000001
            }

            @atmosphereCurve
            {
                @key,0 = 0 925
                @key,1 = 1 380
            }
        }

        !MODULE[ModuleGimbal]{}

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            origMass      = 2.224
            modded        = false
            configuration = BNTR

            CONFIG
            {
                name           = BNTR
                minThrust      = 22.24
                maxThrust      = 66.72
                heatProduction = 100
                massMult       = 1.000

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 1.000
                    DrawGauge = True
                }

                PROPELLANT
                {
                    name      = EnrichedUranium
                    ratio     = 0.00000000001
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 925.00
                    key = 1 380.00
                }
            }

            CONFIG
            {
                name           = TRITON
                minThrust      = 90.40
                maxThrust      = 271.21
                heatProduction = 100
                massMult       = 1.100

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.250
                    DrawGauge = True
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.750
                    DrawGauge = False
                }

                PROPELLANT
                {
                    name      = EnrichedUranium
                    ratio     = 0.00000000001
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 642.00
                    key = 1 390.00
                }
            }
        }

        MODULE
        {
            name           = ModuleGenerator
            isAlwaysActive = true

            INPUT_RESOURCE
            {
                name = EnrichedUranium
                rate = 1e-13
            }

            OUTPUT_RESOURCE
            {
                name = ElectricCharge
                rate = 5.000
            }

            OUTPUT_RESOURCE
            {
                name = DepletedUranium
                rate = 1e-13
            }
        }

        RESOURCE
        {
            name      = EnrichedUranium
            amount    = 5
            maxAmount = 5
        }

        RESOURCE
        {
            name      = DepletedUranium
            amount    = 0
            maxAmount = 5
        }
    }

//  ==================================================
//  Altair II descent module engines & RCS.

//  Modeled after the RD-0242M1 engine:
//  *   Reduced the overall size.
//  *   Reduced the maximum thrust value from 98.1 to 49 kN (single engine).
//  *   Changed the minimum throttle value from 80% to 15%.

//  Dimensions: 2.200 x 1.200 m
//  Gross Mass: 229.00 Kg
//  Throttle Range: 15% to 100%
//  Burn Time: 600 s
//  O/F Ratio: 1.70
//  ==================================================

    @PART[nosExplorerRadialEngine]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/NOSRADIAL/model
            scale    = 0.600, 0.600, 0.600
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @category     = Engine
        @title        = Altair II Engine Pod
        @manufacturer = Boeing Co. & KB Khimavtomatiki [Kosberg]
        @description  = Radially - mounted engine pod, originally designed for the Altair II Descent Module. Contains the engines for final breaking and RCS thrusters for attitude control.

        @mass             = 0.2290
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        childStageOffset  = 1
        %stagingIcon      = LIQUID_ENGINE
        %bulkheadProfiles = srf

        @MODULE[ModuleRCS]
        {
            @name          = ModuleRCS
            @thrusterPower = 0.6732
            !resourceName  = NULL

            PROPELLANT
            {
                name  = Hydrazine
                ratio = 1.000
            }

            @atmosphereCurve
            {
                @key,0 = 0 242
                @key,1 = 1 84
            }
        }

        //  The maximum thrust value refers to the combined thrust of all engines (two engines per pod).

        @MODULE[ModuleEngines*]
        {
            @minThrust      = 14.71
            @maxThrust      = 98.10
            @heatProduction = 100
            !fxOffset       = NULL
            %ullage         = false
            %pressureFed    = true
            %ignitions      = 6

            IGNITOR_RESOURCE
            {
                name   = MMH
                amount = 0.504
            }

            IGNITOR_RESOURCE
            {
                name   = NTO
                amount = 0.496
            }

            @PROPELLANT[LiquidFuel]
            {
                @name  = MMH
                @ratio = 0.504
            }

            @PROPELLANT[Oxidizer]
            {
                @name  = NTO
                @ratio = 0.496
            }

            @atmosphereCurve
            {
                @key,0 = 0 343.00
                @key,1 = 1 220.00
            }
        }

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            configuration = RD-0242M2
            modded        = false

            CONFIG
            {
                name      = RD-0242M2
                minThrust = 14.71
                maxThrust = 98.10

                PROPELLANT
                {
                    name      = MMH
                    ratio     = 0.504
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = NTO
                    ratio     = 0.496
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 343.00
                    key = 1 220.00
                }
            }
        }
    }

//  ==================================================
//  RSRM inert extension.

//  Dimensions: 3.770 x 3.000 m
//  Gross Mass: 8400.00 Kg
//  ==================================================

    @PART[XNP_lft_W375SRB]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 0.755, 2.500, 0.755
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  3.730, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -3.730, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 1.990,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = Structural
        @title        = RSRM Extension (Inert)
        @manufacturer = Orbital ATK
        %description  = An extension for the RSRMs. Does not contain propellant.

        @mass             = 8.4000
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %bulkheadProfiles = size3
    }

//  ==================================================
//  Mars Transfer Vehicle (MTV) main tank.

//  Dimensions: 10.000 x 18.000 m
//  Gross Mass: 124152.00 Kg
//  Volume: 1343000.00 L
//  ==================================================

    @PART[XNP_lft_8_0m_6mzxx6222]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 2.010, 3.000, 2.010
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  8.955, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -9.050, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 5.000,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = MTV LH2 Tank
        @manufacturer = NASA
        @description  = A cryogenic liquid hydrogen tank for deep space journeys.

        @mass             = 29.0000
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        !linearStrength   = NULL
        !angularStrength  = NULL
        !vesselType       = NULL
        %bulkheadProfiles = size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 1343000
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 1343000
                maxAmount = 1343000
            }
        }

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleSAS]{}

        !MODULE[ModuleReactionWheel]{}

        !MODULE[MechJebCore]{}

        !MODULE[ModuleGenerator]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[ElectricCharge]{}

        !RESOURCE[MonoPropellant]{}
    }

//  ==================================================
//  Delta Cryogenic Second Stage (DCSS) 5 - meter LH2 tank.

//  Dimensions: 5.100 x 2.850 m
//  Gross Mass: 1536.60 Kg
//  Volume: 54844.00 L
//  ==================================================

    @PART[IUSXNP_lft_?375x3S222HORT]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.000, 0.950, 1.000
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  1.420, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -1.420, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 3.333,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Delta IV DCSS LH2 Tank [5 Meters]
        @manufacturer = United Launch Alliance (ULA)
        %description  = The liquid hydrogen tank for the 5 meter DCSS.

        @mass             = 1.5366
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 54844
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 54844
                maxAmount = 54844
            }
        }

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}
    }

//  ==================================================
//  Delta IV Common Booster Core (CBC) LOX tank.

//  Since tank domes are missing, we cheat the tank volume to include the propellant contained by them.

//  Dimensions: 5.000 x 6.700 m
//  Gross Mass: 177389.00 Kg
//  Volume: 151183.17 L
//  ==================================================

    @PART[XNP_lft_?375?x3]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.000, 2.200, 1.000
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  3.280, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -3.280, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 3.330,  0.000, 0.000, 1.000,  0.000, 0.000

        @title        = Delta IV CBC LOX tank
        @manufacturer = United Launch Alliance (ULA)
        %description  = The cryogenic liquid oxygen tank for the Delta IV Common Booster Core (CBC).

        @mass             = 4.8893
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 151183.17
            basemass = -1

            TANK
            {
                name      = LqdOxygen
                amount    = 151183.17
                maxAmount = 151183.17
            }
        }

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

    }

//  ==================================================
//  Delta Cryogenic Second Stage (DCSS) 4 - meter LH2 tank.

//  Dimensions: 4.000 x 3.000 m
//  Gross Mass: 991.50 Kg
//  Volume: 41233 L
//  ==================================================

    @PART[IUSXNP_lft_?3322HORT]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 0.805, 1.000, 0.805
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  1.455, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -1.455, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 3.333,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Delta IV DCSS LH2 Tank [4 Meters]
        @manufacturer = United Launch Alliance (ULA)
        @description  = The liquid hydrogen tank for the Delta IV 4 meter DCSS.

        @mass             = 0.9915
        crashTolerance    = 12
        breakingForce     = 250
        breakingTorque    = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 41233
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 41233
                maxAmount = 41233
            }
        }

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}
    }

//  ==================================================
//  Mars Transfer Vehicle (MTV) service module tank.

//  Dimensions: 10.000 x 5.000 m
//  Gross Mass: 10038.30 Kg
//  Volume: 283000.00 L
//  ==================================================

    @PART[XNP_lft_xtrt3mCCB8MAx]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 2.000, 1.650, 2.000
            @position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  2.450, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -2.450, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 4.000,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = MTV Service Module
        @manufacturer = NASA
        @description = The service module for the MTV Bimodal NTR stage.

        @mass             = 8.8335
        crashTolerance    = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        MODULE
        {
            name     = ModuleFuelTanks
            type     = ServiceModule
            volume   = 283000
            basemass = -1

            TANK
            {
                name      = Hydrazine
                amount    = 1200
                maxAmount = 1200
            }

            TANK
            {
                name      = ElectricCharge
                amount    = 43200
                maxAmount = 43200
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[MonoPropellant]{}
    }

//  ==================================================
//  Ares V Bimodal NTR LH2 tank.

//  Dimensions: 8.384 x 11.000 m
//  Gross Mass: 12621.00 Kg
//  Volume: 573000.00 L
//  ==================================================

    @PART[Xafa191m23312NTR]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.675, 3.680, 1.675
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  5.500, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -5.400, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 5.500,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Ares V Bimodal NTR LH2 Tank
        @manufacturer = NASA
        @description  = A cryogenic liquid hydrogen tank for the Ares V launch vehicles. To be used in conjunction with the Bimodal NTR engines.

        @mass             = 12.6210
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 573000
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 573000
                maxAmount = 573000
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}
    }

//  ==================================================
//  Ares V Earth Departure Stage (EDS) LH2 tank.

//  Dimensions: 8.384 x 11.000 m
//  Gross Mass: 10412.67 Kg
//  Volume: 448742.00 L
//  ==================================================

    @PART[XNP_lft_xtrt3mCCB8MAx2]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.675, 3.680, 1.675
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  5.500, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -5.400, 0.000, 0.000, -1.000, 0.000, 3
        @node_attach       = 5.500,  0.000, 0.000, 1.000,  0.000, 0.000

        @category     = FuelTank
        @title        = Ares V EDS LH2 Tank
        @manufacturer = NASA
        @description  = The Liquid Hydrogen tank for the Ares V launch vehicle Earth Departure Stage.

        @mass             = 10.4126
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        MODULE
        {
            name     = ModuleFuelTanks
            type     = BalloonCryo
            volume   = 448742
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 448742
                maxAmount = 448742
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[MonoPropellant]{}
    }

//  ==================================================
//  Delta IV Common Booster Core (CBC) RS-68 engine mount & shroud.

//  Dimensions: 5.000 x 4.000 m
//  Gross Mass: 1525.00 Kg
//  ==================================================

    @PART[NP_CHAKAEMLVENGINE]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 2.000, 2.000,   2.000
            %position = 0.000, 0.000,   0.000
            %rotation = 0.000, 0.000, 180.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  2.000, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -2.050, 0.000, 0.000, -1.000, 0.000, 3

        @category     = Structural
        @title        = Delta IV CBC Engine Mount
        @manufacturer = Orbital ATK
        @description  = The RS-68 engine mount for the Delta IV Common Booster Core (CBC).

        @mass             = 1.5250
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleGenerator]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[MonoPropellant]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  Mars Ascent Vehicle (MAV) engine mount.

//  Dimensions: 3.700 x 1.900 m
//  Gross Mass: 685.10 Kg
//  ==================================================

    @PART[NP_CHAKAEMLVENGINEx221]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.485, 0.950,   1.485
            %position = 0.000, 0.000,   0.000
            %rotation = 0.000, 0.000, 180.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  0.950, 0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom = 0.000, -0.950, 0.000, 0.000, -1.000, 0.000, 3
        @node_stack_1      = 0.000, -0.200, 0.000, 0.000,  1.000, 0.000, 3

        @category     = Structural
        @title        = MAV Engine Mount
        @manufacturer = NASA
        @description  = The engine mount for the Mars Ascent Vehicle (MAV).

        @mass             = 0.6851
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        !fuelCrossFeed,*  = NULL
        fuelCrossFeed     = true
        %bulkheadProfiles = size3

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleGenerator]{}

        !RESOURCE[MonoPropellant]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  Ares V Earth Departure Stage (EDS) LOX tank.

//  Dimensions: 8.384 x 4.000 m
//  Gross Mass: 5506.33 Kg
//  Volume: 153254.00 L
//  ==================================================

    @PART[XNP_interstage_5m_8m_tankMUNAR1X]:FOR[RealismOverhaul]
    {
        %RSSROConfig = True

        @MODEL
        {
            @scale    = 1.500, 1.400,   1.500
            %position = 0.000, 0.000,   0.000
            %rotation = 0.000, 0.000, 180.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_bottom = 0.000, -2.100,  0.000, 0.000, -1.000, 0.000, 3
        @node_stack_top    = 0.000,  2.100,  0.000, 0.000,  1.000, 0.000, 3
        @node_stack_1      = 0.000, -7.500,  0.000, 0.000, -1.000, 0.000, 3
        %node_stack_left   = 0.000, -2.100,  1.600, 0.000, -1.000, 0.000, 3
        %node_stack_right  = 0.000, -2.100, -1.600, 0.000, -1.000, 0.000, 3

        @category     = FuelTank
        @title        = Ares V EDS LOX Tank
        @manufacturer = NASA
        @description  = The Liquid Oxygen tank for the Ares V launch vehicle Earth Departure Stage.

        @mass             = 5.5063
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleGenerator]{}

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 153254
            basemass = -1

            TANK
            {
                name      = LqdOxygen
                amount    = 153254
                maxAmount = 153254
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[MonoPropellant]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  Generic RCS tank (small).

//  Dimensions: 0.300 x 0.800 m
//  Gross Mass: 50.00 Kg
//  Volume: 45.00 L
//  ==================================================

    @PART[XrcsTankRadialLongHVX]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/ROVER-RCS/model
            scale    = 0.500, 0.500, 0.500
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        %scale         = 1.000
        @rescaleFactor = 1.000

        @node_attach = 0.000, 0.000, -0.075, 0.000, 0.000, -1.000

        @category     = FuelTank
        @title        = RCS Tank [45 L].
        %manufacturer = Generic
        @description  = A high pressure RCS propellant tank.

        @mass             = 0.0051
        %breakingForce    = 250
        breakingTorque    = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = srf

        MODULE
        {
            name     = ModuleFuelTanks
            type     = ServiceModule
            volume   = 45
            basemass = -1

            TANK
            {
                name      = Hydrazine
                amount    = 45
                maxAmount = 45
            }
        }

        !RESOURCE[MonoPropellant]{}
    }

//  ==================================================
//  Generic RCS tank (large).

//  Dimensions: 0.600 x 1.500 m
//  Gross Mass: 370.00 Kg
//  Volume: 330.00 L
//  ==================================================

    @PART[XrcsTankRadialLongHVXLP]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/ROVER-RCS/model
            scale    = 1.000, 1.000, 1.000
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        %scale         = 1.000
        @rescaleFactor = 1.000

        @node_attach = 0.000, 0.000, -0.075, 0.000, 0.000, -1.000

        @category     = FuelTank
        @title        = RCS Tank [330 L]
        %manufacturer = Generic
        @description  = A high pressure RCS propellant tank.

        @mass             = 0.0378
        %breakingForce    = 250
        breakingTorque    = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = srf

        MODULE
        {
            name     = ModuleFuelTanks
            type     = ServiceModule
            volume   = 330
            basemass = -1

            TANK
            {
                name      = Hydrazine
                amount    = 330
                maxAmount = 330
            }
        }

        !RESOURCE[MonoPropellant]{}
    }

//  ==================================================
//  Aerojet Rocketdyne RS - 68 engine.

//  Dimensions: 2.430 x 5.200 m
//  Gross Mass: 6597.00 Kg
//  Throttle Range: 60% to 100%
//  Burn Time: 249 s
//  O/F Ratio: 6.00
//  ==================================================

    @PART[xbahars68bx]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        MODEL
        {
            model    = CMES/Propulsion/rs68b/model
            scale    = 1.000, 1.000, 1.000
            position = 0.000, 0.000, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        %scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,  2.615, 0.000, 0.000,  1.000, 0.000, 2
        @node_stack_bottom = 0.000, -2.587, 0.000, 0.000, -1.000, 0.000, 2
        @node_attach       = 0.000,  2.615, 0.000, 0.000,  1.000, 0.000, 2

        @category     = Engine
        @title        = RS-68 [2.3 m]
        @manufacturer = Aerojet Rocketdyne
        @description  = The RS-68 is gas generator engine design, powered by liquid hydrogen and liquid oxygen. It is used on the Common Booster Core (CBC) of the Delta IV launch vehicle.

        @mass             = 6.597
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %bulkheadProfiles = size2

        @MODULE[ModuleEngines*]
        {
            @minThrust      = 1734.84
            @maxThrust      = 2891.40
            @heatProduction = 100
            !fxOffset       = NULL
            %ullage         = true
            %pressureFed    = false
            %ignitions      = 1

            IGNITOR_RESOURCE
            {
                name   = LqdHydrogen
                amount = 0.7285
            }

            IGNITOR_RESOURCE
            {
                name   = LqdOxygen
                amount = 0.2714
            }

            IGNITOR_RESOURCE
            {
                name   = ElectricCharge
                amount = 0.500
            }

            @PROPELLANT[LiquidFuel]
            {
                @name  = LqdHydrogen
                @ratio = 0.7285
            }

            @PROPELLANT[Oxidizer]
            {
                @name  = LqdOxygen
                @ratio = 0.2714
            }

            @atmosphereCurve
            {
                @key,0 = 0 409.10
                @key,1 = 1 356.90
            }
        }

        @MODULE[ModuleGimbal]
        {
            @gimbalRange            = 6.000
            %useGimbalResponseSpeed = true
            %gimbalResponseSpeed    = 16
        }

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            origMass      = 6.597
            configuration = RS-68
            modded        = false

            CONFIG
            {
                name      = RS-68
                minThrust = 1734.84
                maxThrust = 2891.40

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 409.10
                    key = 1 356.90
                }
            }

            CONFIG
            {
                name      = RS-68A
                minThrust = 1838.69
                maxThrust = 3064.49
                massMult  = 1.0216

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 415.20
                    key = 1 364.00
                }
            }

            CONFIG
            {
                name      = RS-68B
                minThrust = 1873.62
                maxThrust = 3122.70
                massMult  = 1.0290

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7285
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name      = LqdOxygen
                    ratio     = 0.2714
                    DrawGauge = false
                }

                atmosphereCurve
                {
                    key = 0 420.00
                    key = 1 369.90
                }
            }
        }

        !MODULE[ModuleEngineConfigs]{}

        !MODULE[ModuleAlternator]{}

        !RESOURCE[ElectricCharge]{}
    }

//  ==================================================
//  Space Launch System (SLS) core booster.

//  This is a hypothetical design, using five instead of four RS-25E engines. Uses the data from October 22, 2015 for the Block I, Block IB & Block II.

//  Dimensions: 8.384 x 62.54 m
//  Gross Mass: 1091536.00 Kg
//  Throttle Range: 67% to 100%
//  Burn Time: 476 s
//  O/F Ratio: 6.03
//  Volume: 2665855.00 L
//  ==================================================

    @PART[MonkeyCargoBoosterSLSADJ]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.600, 1.600, 1.600
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        MODEL
        {
            model    = CMES/Propulsion/SLS-EXPANSION/model
            scale    = 1.685, 0.750, 1.685
            position = 0.000, 4.500, 0.000
            rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    = 0.000,   6.740, 0.000, 0.000,  1.000, 0.000, 3
        %node_stack_bottom = 0.000, -54.655, 0.000, 0.000, -1.000, 0.000, 3

        @category     = Engine
        @title        = SLS Core Booster (Block I / IB / II)
        @manufacturer = NASA
        @description  = The Space Launch System (SLS) core booster stage. Equipped with five RS-25E engines.

        @mass             = 125.4650
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1973.15
        %stageOffset      = 1
        %childStageOffset = 1
        %stagingIcon      = LIQUID_ENGINE
        @CoMOffset        = 0.000, -27.000, 0.000

        !MODULE[ModuleCommand]{}

        !MODULE[ModuleReactionWheel]{}

        !MODULE[ModuleSAS]{}

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        @MODULE[ModuleEngines*]
        {
            @minThrust      = 6995.49
            @maxThrust      = 10441.04
            @heatProduction = 100
            !fxOffset       = NULL
            %ullage         = true
            %pressureFed    = false
            %ignitions      = 1

            @PROPELLANT[LiquidFuel]
            {
                @name  = LqdHydrogen
                @ratio = 0.7275
            }

            @PROPELLANT[Oxidizer]
            {
                @name  = LqdOxygen
                @ratio = 0.2724
            }

            @atmosphereCurve
            {
                @key,0 = 0 452.00
                @key,1 = 1 366.00
            }
        }

        MODULE
        {
            name                = KM_Gimbal_3
            gimbalTransformName = thrustTransform
            yawGimbalRange      = 8.000
            pitchGimbalRange    = 8.000
            gimbalConstrain     = 8.000
            responseSpeed       = 16
            enableRoll          = true
        }

        MODULE
        {
            name          = ModuleEngineConfigs
            type          = ModuleEngines
            configuration = RS-25E
            modded        = false

            CONFIG
            {
                name      = RS-25E
                minThrust = 6995.49
                maxThrust = 10441.04

                PROPELLANT
                {
                    name      = LqdHydrogen
                    ratio     = 0.7275
                    DrawGauge = true
                }

                PROPELLANT
                {
                    name  = LqdOxygen
                    ratio = 0.2724
                }

                atmosphereCurve
                {
                    key = 0 452.00
                    key = 1 366.00
                }
            }
        }

        MODULE
        {
            name     = ModuleFuelTanks
            type     = Cryogenic
            volume   = 2665855
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 1939607
                maxAmount = 1939607
            }

            TANK
            {
                name      = LqdOxygen
                amount    = 726248
                maxAmount = 726248
            }
        }
    }

//  ==================================================
//  Space Launch System Exploration Upper Stage (EUS).

//  Dimensions: 8.384 x 18.300 m
//  Gross Mass: 141168.00 Kg
//  Volume: 357813.00 L
//  ==================================================

    @PART[TALUS]:FOR[RealismOverhaul]
    {
        %RSSROConfig = true

        @MODEL
        {
            @scale    = 1.170, 1.300, 1.170
            %position = 0.000, 0.000, 0.000
            %rotation = 0.000, 0.000, 0.000
        }

        !mesh          = NULL
        @scale         = 1.000
        @rescaleFactor = 1.000

        @node_stack_top    =  0.000,   6.680,  0.000, 0.000,  1.000, 0.000, 3
        @node_stack_bottom =  0.000, -11.500,  0.000, 0.000, -1.000, 0.000, 3
        @node_stack_1      = -1.820,  -8.000, -1.820, 0.000, -1.000, 0.000, 3
        @node_stack_2      =  1.820,  -8.000, -1.820, 0.000, -1.000, 0.000, 3
        @node_stack_3      = -1.820,  -8.000,  1.820, 0.000, -1.000, 0.000, 3
        @node_stack_4      =  1.820,  -8.000,  1.820, 0.000, -1.000, 0.000, 3

        @category     = FuelTank
        @title        = SLS EUS
        @manufacturer = Boeing Co.
        @description  = The Exploration Upper Stage (EUS) for the Space Launch System Block IB and II.

        @mass             = 11.8786
        @crashTolerance   = 12
        @breakingForce    = 250
        @breakingTorque   = 250
        @maxTemp          = 1073.15
        %bulkheadProfiles = size3

        !MODULE[ModuleCommand]{}

        !MODULE[MechJebCore]{}

        !MODULE[ModuleSAS]{}

        !MODULE[ModuleReactionWheel]{}

        MODULE
        {
            name     = ModuleFuelTanks
            type     = BalloonCryo
            volume   = 357813
            basemass = -1

            TANK
            {
                name      = LqdHydrogen
                amount    = 260689
                maxAmount = 260689
            }

            TANK
            {
                name      = LqdOxygen
                amount    = 97124
                maxAmount = 97124
            }
        }

        !RESOURCE[LiquidFuel]{}

        !RESOURCE[Oxidizer]{}

        !RESOURCE[ElectricCharge]{}

        !RESOURCE[MonoPropellant]{}
    }
