@PART[rtg-0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!mesh = DELETE
	MODEL
	{
		model = NearFutureElectrical/Parts/RTG/rtg-0625/rtg-0625
		scale = 0.666667, 0.803949, 0.666667
	}
	@scale = 0.803949
	@node_stack_top = 0.0, 0.4371138, 0.0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -0.4957813, 0.0, 0.0, -1.0, 0.0, 0
	@node_attach = 0.0, -0.4957813, 0.0, 0.0, -1.0, 0.0, 0
	@title = NASA & DOE Advanced Sterling RG
	@description = A much lighter and more efficient radioisotope generator by using the sterling cycle.
	@mass = 0.032
	@MODULE[ModuleGenerator]
	{
		@OUTPUT_RESOURCE[ElectricCharge]
		{
			@rate = 0.130
		}
	}
}
@PART[nuclearfuel-25]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[TweakScale]
	{
		@type = RealismOverhaulStackHollow
	}
	@mass = 0.266
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 800
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 800
		@maxAmount = 800
	}
}
@PART[nuclearfuel-125]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[TweakScale]
	{
		@type = RealismOverhaulStackHollow
	}
	@mass = 0.133
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 400
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 400
		@maxAmount = 400
	}
}
@PART[nuclearfuel-0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[TweakScale]
	{
		@type = RealismOverhaulStackHollow
	}
	@mass = 0.033
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 100
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 100
		@maxAmount = 100
	}
}
@PART[nuclear-recycler-25]:FOR[RealismOverhaul]
{
	%RSSROConfig = False
	!MODULE[TweakScale]
	{
	}
	@attachRules = 1,0,1,0,0
	@MODULE[FissionReprocessor]
	{
		@ReprocessRate = 0.000001
		@EnergyCost = 500
		@RecycleEfficiency = 0.01
	}
}
@PART[radiator-conformal-1]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[FissionRadiator]
	{
		@HeatRadiated = 25
		@HeatRadiatedClosed = 13
	}
}
@PART[radiator-conformal-2]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[FissionRadiator]
	{
		@HeatRadiated = 110
		@HeatRadiatedClosed = 20
	}
}
@PART[radiator-conformal-3]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[FissionRadiator]
	{
		@HeatRadiated = 1250
		@HeatRadiatedClosed = 25
	}
}
@PART[radiator-universal-1]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[FissionRadiator]
	{
		@HeatRadiated = 325
		@HeatRadiatedClosed = 15
	}
}
@PART[radiator-universal-2]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODULE[FissionRadiator]
	{
		@HeatRadiated = 2500
		@HeatRadiatedClosed = 15
	}
}
// ==================================================
// TOPAZ-I 

// Source = [http://www.world-nuclear.org/information-library/non-power-nuclear-applications/transport/nuclear-reactors-for-space.aspx]
// Source = [http://www.svengrahn.pp.se/trackind/RORSAT/RORSAT.html]
//
// Designed for 12kg Uranium for 3 years operation, single use unretrievable, to be sent to graveyard orbit. 5 years mentioned although "not reliable"
// 135kW thermal power, 5 kWe chosen although 6kWe is also quoted with mention of decreased reliability
// Weighs 320kg including cooling (doubtable whether sufficient due to never performing reliably in orbit), known to be a bit "light on shielding"
// 10 radiators required to balance the low shielding and borderline cooling, and offset large mass/ton jump from BES-5
//
// Situated in middle node in tech tree due to being an upgrade on BES-5, and actually "inspired by TOPAZ-II" despite numeric designation
// ==================================================
@PART[reactor-375]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	MODEL
	{
		model = NearFutureElectrical/Parts/FissionReactors/reactor-0625/reactor-0625
		scale = 0.816, 1.270815, 0.816
	}
	@rescaleFactor = 0.60  // roughly 60% size of SAFE 400
	@node_stack_top = 0.0, 0.80569671, 0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -0.644303205, 0, 0.0, -1.0, 0.0, 0
	!node_attach = DELETE
	@title = TOPAZ-I
	@TechRequired = largeNuclearPower
	@description = I. V. Kurchatov Institute of Atomic Energy. Tested in 1970s and flown twice in 1987. Evolution of the TOPAZ-II design. Designed to operate for 3 years.
	@attachRules = 1,0,1,1,1
	@mass = 0.32
	-MODULE[FissionReact*]
	{
	}
	MODULE
	{
		name = FissionReactor
		StartActionName = Start Reactor
		StopActionName = Deactivate Reactor
	
		UseStagingIcon = true
		UseForcedActivation = true
		UseSpecializationBonus = false
		AutoShutdown = true
		DefaultShutoffTemp = 0.90
	
		HeatGeneration = 250 // requires 10 fin radiators
		NominalTemperature = 823
		CriticalTemperature = 1373
		CoreDamageRate = 0.01
		GeneratorSpinupRate = 0.03

		EngineerLevelForRepair = 5
		MaxRepairPercent = 75
		MaxTempForRepair = 330
 
		FuelName = EnrichedUranium
 
		// Heating
		GeneratesHeat = false
		TemperatureModifier
		{
			key = 0 0 // 250
		}
		INPUT_RESOURCE
		{
			ResourceName = EnrichedUranium
			Ratio = 0.000000076
			FlowMode = NO_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedFuel
			Ratio = 0.000000076
			DumpExcess = false
			FlowMode = NO_FLOW
		}
	}
	@MODULE[ModuleCoreHeat]
	{
		@CoreTempGoal = 823 	
		@CoreShutdownTemp = 2273 
		@MaxCoolant = 5 
	}
	@MODULE[FissionGenerator]
	{
		@PowerGeneration = 5 // 5kWe 
		@HeatUsed = 5
	}
	
	@RESOURCE[ElectricCharge]
	{
		@amount = 320
		@maxAmount = 320
	}
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 12
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 12 // designed for 12kg fuel 
		@maxAmount = 12 
	}
}
// ==================================================
// RAPID-L Fast Breeder Reactor
//
// Source = [http://www.iaea.org/inis/collection/NCLCollectionStore/_Public/37/002/37002589.pdf?r=1] (in Japanese)
//
// JAERI design, it is a USDOE project entrant but has no connection outside of that
// Meltdown temp 1615K due to coolant evaporation
//
// 750kg Uranium for 200kWe for 10 years, refuellable definitely once, potentially more than once
// 5MWt thermal power, ~3.5tons of cooling and shielding, ~7.6t in total. ~4m tall, using previous values
// 8 fin radiators required chosen due to size, taking into consideration ~3.5t added cooling and shielding mass already
//
// Positioned at middle node in tech tree due to providing significant power, while also weighing a significant amount
// ==================================================
@PART[reactor-25]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	MODEL
	{
		model = NearFutureElectrical/Parts/FissionReactors/reactor-25/reactor-25
		scale = 0.8, 1.908027, 0.8
	}
	@node_stack_top = 0.0, 3.27495814772, 0, 0.0, 1.0, 0.0, 2 
	@node_stack_bottom = 0.0, -3.4250411121, 0, 0.0, -1.0, 0.0, 2
	!node_attach = DELETE
	@title = RAPID-L Nuclear Reactor 
	@TechRequired = largeNuclearPower
	@description = Early 2000s Japanese Atomic Energy Research Institute design for lunar bases. Designed for 10 years of operation.
	@attachRules = 1,0,1,1,1
	@mass = 7.6 // with shielding and cooling, the pit-buried design weighs equivalent 670kg on Moon, 4050kg on Earth
	-MODULE[FissionReact*]
	{
	}
	MODULE
	{
		name = FissionReactor
		StartActionName = Start Reactor
		StopActionName = Deactivate Reactor
	
		UseStagingIcon = true
		UseForcedActivation = true
		UseSpecializationBonus = false
		AutoShutdown = true
		DefaultShutoffTemp = 0.90
	
		HeatGeneration = 400 // Requires 16 fin radiators
		NominalTemperature = 673
		CriticalTemperature = 1615
		CoreDamageRate = 0.01
		GeneratorSpinupRate = 0.03

		EngineerLevelForRepair = 5
		MaxRepairPercent = 75
		MaxTempForRepair = 330
 
		FuelName = EnrichedUranium
 
		// Heating
		GeneratesHeat = false
		TemperatureModifier
		{
			key = 0 0 // 10000
		}
		INPUT_RESOURCE
		{
			ResourceName = EnrichedUranium
			Ratio = 0.00000238 // 750kg fuel for 10 years
			FlowMode = NO_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedFuel
			Ratio = 0.00000238
			DumpExcess = false
			FlowMode = NO_FLOW
		}
	}
	@MODULE[ModuleCoreHeat]
	{
		@CoreTempGoal = 673 	
		@CoreShutdownTemp = 2273 
		@MaxCoolant = 8 
	}
	@MODULE[FissionGenerator]
	{
		@PowerGeneration = 200 // 200kWe
		@HeatUsed = 8
	}
	
	@RESOURCE[ElectricCharge]
	{
		@amount = 7600
		@maxAmount = 7600
	}
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 750
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 750 // designed for 750kg fuel that lasts 10 years
		@maxAmount = 750 
	}
}
// ==================================================
// BES-5 Fast Fission Nuclear Reactor
//
// [source = http://www.world-nuclear.org/information-library/non-power-nuclear-applications/transport/nuclear-reactors-for-space.aspx]
// [source = http://www.svengrahn.pp.se/trackind/RORSAT/RORSAT.html]
//
// Designed for 4 months, with 30kg Uranium fuel. Intended to be sent to graveyard orbit
// 400mm diameter, 600mm long for reactor alone, cooling & shielding probably adds ~300mm based on drawings
// Mass 385kg, 3kWe and 100kWt. Had sufficient shielding and seemingly adequate cooling
// 6 fin radiators required for balance, and also to fit in with the other reactors
//
// Position in tech true due to being earliest chronologically and also based on power/mass ratio
// ==================================================
@PART[reactor-25-2]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	MODEL
	{
		model = NearFutureElectrical/Parts/FissionReactors/reactor-0625/reactor-0625
		scale = 0.816, 1.270815, 0.816
	}
	@rescaleFactor = 0.633  // roughly 63% size of SAFE 400
	@node_stack_top = 0.0, 0.80569671, 0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -0.644303205, 0, 0.0, -1.0, 0.0, 0
	// test !node_attach = DELETE 
	@title = BES-5
	@TechRequired = nuclearPower
	
	@description = I. V. Kurchatov Institute of Atomic Energy. Launched into orbit on 31 separate missions from 1967 to 1988. Designed to operate for 4 months.
	@attachRules = 1,0,1,1,1	
	@mass = 0.385
	-MODULE[FissionReact*]
	{
	}
	MODULE
	{
		name = FissionReactor
		StartActionName = Start Reactor
		StopActionName = Deactivate Reactor
	
		UseStagingIcon = true
		UseForcedActivation = true
		UseSpecializationBonus = false
		AutoShutdown = true
		DefaultShutoffTemp = 0.90
	
		HeatGeneration = 150 // Requires 6 fin radiators
		NominalTemperature = 823
		CriticalTemperature = 1373
		CoreDamageRate = 0.01
		GeneratorSpinupRate = 0.03

		EngineerLevelForRepair = 5
		MaxRepairPercent = 75
		MaxTempForRepair = 330
 
		FuelName = EnrichedUranium
 
		// Heating
		GeneratesHeat = false
		TemperatureModifier
		{
			key = 0 0 //7500
		}
		INPUT_RESOURCE
		{
			ResourceName = EnrichedUranium
			Ratio = 0.00000289 // 30kg fuel for 4 months
			FlowMode = NO_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedFuel
			Ratio = 0.00000289
			DumpExcess = false
			FlowMode = NO_FLOW
		}
	}
	@MODULE[ModuleCoreHeat]
	{
		@CoreTempGoal = 823 	
		@CoreShutdownTemp = 2273 
		@MaxCoolant = 3 
	}
	@MODULE[FissionGenerator]
	{
		@PowerGeneration = 3 // 3kWe
		@HeatUsed = 3
	}
	
	@RESOURCE[ElectricCharge]
	{
		@amount = 385
		@maxAmount = 385
	}
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 30
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 30 // designed for 30kg fuel 
		@maxAmount = 30 
	}
	@MODULE[ModuleB9PartSwitch]
	{
		@SUBTYPE[Inline] 
		{
			@name = TopNode
			@node = top
		}
	}
}
// ==================================================
// TOPAZ-II 
//
// source = [http://www.world-nuclear.org/information-library/non-power-nuclear-applications/transport/nuclear-reactors-for-space.aspx]
// source = [http://fti.neep.wisc.edu/neep602/SPRING00/lecture35.pdf] 6kWe here is design requirement not actual achieved
//
// Mass 1061kg, 135kWt, 10kWe. Designed for 12kg fuel for 3 years
// 12 radiators due to balance, plus fitting in with the other reactors
//
// Tech tree placement due to providing similar power/mass ratio as BES-5, less than others
// ==================================================
@PART[reactor-125]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	MODEL
	{
		model = NearFutureElectrical/Parts/FissionReactors/reactor-125/reactor-125
		scale = 1.12, 1.855994, 1.12
	}
	@rescaleFactor = 1.0
	@node_stack_top = 0.0, 2.3744777868, 0, 0.0, 1.0, 0.0, 1 
	@node_stack_bottom = 0.0, -1.8255224054, 0, 0.0, -1.0, 0.0, 1 
	!node_attach = DELETE
	@title = TOPAZ-II 
	@TechRequired = nuclearPower
	
	@description = I. V. Kurchatov Institute of Atomic Energy. Related to the TOPAZ-I. Early 1960s design. Designed for 3 years of operation.
	@attachRules = 1,0,1,1,1
	@mass = 1.061
	-MODULE[FissionReact*]
	{
	}
	MODULE
	{
		name = FissionReactor
		StartActionName = Start Reactor
		StopActionName = Deactivate Reactor
	
		UseStagingIcon = true
		UseForcedActivation = true
		UseSpecializationBonus = false
		AutoShutdown = true
		DefaultShutoffTemp = 0.90
	
		HeatGeneration = 300 // Requires 12 fin radiators
		NominalTemperature = 823
		CriticalTemperature = 1373
		CoreDamageRate = 0.01
		GeneratorSpinupRate = 0.03

		EngineerLevelForRepair = 5
		MaxRepairPercent = 75
		MaxTempForRepair = 330
 
		FuelName = EnrichedUranium
 
		// Heating
		GeneratesHeat = false
		TemperatureModifier
		{
			key = 0 0 //7500
		}
		INPUT_RESOURCE
		{
			ResourceName = EnrichedUranium
			Ratio = 0.000000126 // 12kg fuel for 3 years
			FlowMode = NO_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedFuel
			Ratio = 0.000000126
			DumpExcess = false
			FlowMode = NO_FLOW
		}
	}
	@MODULE[ModuleCoreHeat]
	{
		@CoreTempGoal = 823 	
		@CoreShutdownTemp = 2273 
		@MaxCoolant = 6 
	}
	@MODULE[FissionGenerator]
	{
		@PowerGeneration = 10 // 10kWe
		@HeatUsed = 6
	}
	
	@RESOURCE[ElectricCharge]
	{
		@amount = 1060
		@maxAmount = 1060
	}
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 12
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 12 // designed for 12kg fuel only
		@maxAmount = 12 
	}
}
// ==================================================
// SAFE 400

// Most stats kept from previous config, there is a paywall to access most stats. Assuming previous stats
// 656kg, 400kWt, 100kWe which is exceptional hence tech tree placement
// Data for SAFE 30 indicates 30kWt, 17.1kWe weighing "roughly a third of a ton" including cooling
// However reactors don't scale linearly, nevertheless it requires 12 radiators for a level of balance
// ==================================================
@PART[reactor-0625]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	MODEL
	{
		model = NearFutureElectrical/Parts/FissionReactors/reactor-0625/reactor-0625
		scale = 0.816, 1.270815, 0.816
	}
	@rescaleFactor = 1.0
	@node_stack_top = 0.0, 0.80569671, 0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -0.644303205, 0, 0.0, -1.0, 0.0, 0
	// test !node_attach = DELETE
	@title = NASA SAFE-400 Nuclear Reactor
	@TechRequired = advNuclearPower
	@description = Safe Affordable Fission Engine. Small and lightweight but powerful reactor enabled by new technology. Early 2000s design. Designed for 4 years of operation.
	@attachRules = 1,0,1,1,1
	@mass = 0.656
	-MODULE[FissionReact*]
	{
	}
	MODULE
	{
		name = FissionReactor
		StartActionName = Start Reactor
		StopActionName = Deactivate Reactor
	
		UseStagingIcon = true
		UseForcedActivation = true
		UseSpecializationBonus = false
		AutoShutdown = true
		DefaultShutoffTemp = 0.90
	
		HeatGeneration = 600 // 12 fin rads although extendable rads are recommended here
		NominalTemperature = 583
		CriticalTemperature = 873
		CoreDamageRate = 0.01
		GeneratorSpinupRate = 0.03

		EngineerLevelForRepair = 5
		MaxRepairPercent = 75
		MaxTempForRepair = 330
 
		FuelName = EnrichedUranium
 
		// Heating
		GeneratesHeat = false
		TemperatureModifier
		{
			key = 0 0 //7500
		}
		INPUT_RESOURCE
		{
			ResourceName = EnrichedUranium
			Ratio = 0.0000004 // 4 years, see above
			FlowMode = NO_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedFuel
			Ratio = 0.0000004
			DumpExcess = false
			FlowMode = NO_FLOW
		}
	}
	@MODULE[ModuleCoreHeat]
	{
		@CoreTempGoal = 583 	
		@CoreShutdownTemp = 1073 
		@MaxCoolant = 12 
	}
	@MODULE[FissionGenerator]
	{
		@PowerGeneration = 100 //100kWe
		@HeatUsed = 12
	}
	@RESOURCE[ElectricCharge]
	{
		@amount = 655
		@maxAmount = 655
	}
	@RESOURCE[DepletedFuel]
	{
		@maxAmount = 50
	}
	@RESOURCE[EnrichedUranium]
	{
		@amount = 50
		@maxAmount = 50
	}
}
