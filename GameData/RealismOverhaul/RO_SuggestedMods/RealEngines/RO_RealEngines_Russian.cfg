//  ==================================================
//  Sources:

//  Liquid Propellant Rocket Engines - NK-33/43 engine:    http://www.lpre.de/sntk/NK-33/index.htm
//  Russian Space Web - NK-33 engine:                      http://www.russianspaceweb.com/nk33.html
//  Norbert Brügge - Kuznetsov NK rocket engine variants:  http://www.b14643.de/Spacerockets_1/East_Europe_2/N-1/NK/index.htm
//  Encyclopedia Astronautica - NK-33 engine:              http://www.astronautix.com/n/nk-33.html
//  Encyclopedia Astronautica - NK-43 engine:              http://www.astronautix.com/n/nk-43.html
//  Encyclopedia Astronautica - RD-58 engine:              http://astronautix.com/r/rd-58.html
//  Norbert Brügge - Block D upper stage:                  http://www.b14643.de/Spacerockets_1/East_Europe_2/Proton/Gallery/Block-D.htm

//  Russian Space Web - RD-0110 engine:                    http://www.russianspaceweb.com/rd0110.html
//  Encyclopedia Astronautica - RD-0110 engine:            http://www.astronautix.com/r/rd-0110.html

//  Liquid Propellant Rocket Engines - RD-0120 engine:     http://www.lpre.de/kbkha/RD-0120/index.htm
//  AIAA - RD-0120 design, development and history:        http://lpre.de/resources/articles/AIAA-1995-2540.pdf
//  Russian Space Web - RD-0120 engine:                    http://russianspaceweb.com/rd0120.html
//  Encyclopedia Astronautica - RD-0120 engine:            http://astronautix.com/r/rd-0120.html

//  Liquid Propellant Rocket Engines - RD-0124 engine:     http://www.lpre.de/kbkha/RD-0124/index.htm
//  AIAA - GG and SC Cycle Rocket Engines Turbopumps:      http://rocket-propulsion.info/resources/articles/AIAA-2005-3946.pdf
//  Russian Space Web - RD-0124 engine:                    http://www.russianspaceweb.com/rd0124.html
//  Encyclopedia Astronautica - RD-0124 engine:            http://www.astronautix.com/r/rd-0124.html

//  Russian Space Web - RD-0146 engine:                    http://www.russianspaceweb.com/rd0146.html
//  AIAA - The First Russian LOX-LH2 Expander Cycle LRE:   http://www.lpre.de/resources/articles/AIAA-2006-4904_RD0146.pdf
//  Encyclopedia Astronautica - RD-0146 engine:            http://www.astronautix.com/r/rd-0146.html

//  Liquid Propellant Rocket Engines - RD-170 engine:      http://www.lpre.de/energomash/RD-170/index.htm
//  AIAA - RD-170, A Different Approach to LV Propulsion:  http://rocket-propulsion.info/resources/articles/AIAA-1993-2415.pdf
//  Russian Space Web - RD-170 engine:                     http://www.russianspaceweb.com/rd170.html
//  Encyclopedia Astronautica - RD-170 engine:             http://www.astronautix.com/r/rd-170.html

//  NPO Energomash - RD-180 engine:                        http://www.npoenergomash.ru/eng/dejatelnost/engines/rd180/
//  AIAA - RD-180 Engine Production and Flight Experience: http://alternatewars.com/BBOW/Space_Engines/AIAA-2004-3998.pdf
//  AIAA - RD-180 Engine Development and Characteristics:  http://my.fit.edu/~dkirk/4262/RD180_Presentation.pdf
//  Liquid Propellant Rocket Engines - RD-180 engine:      http://www.lpre.de/energomash/RD-180/index.htm
//  Encyclopedia Astronautica - RD-180 engine:             http://www.astronautix.com/r/rd-180.html

//  NPO Energomash - RD-191 engine:                        http://www.npoenergomash.ru/eng/dejatelnost/engines/rd191/
//  Russian Space Web - RD-191 engine:                     http://russianspaceweb.com/rd191.html
//  Encyclopedia Astronautica - RD-191 engine:             http://www.astronautix.com/r/rd-191.html

//  KB Khimavtomatika - RD-0210 engine:                    http://www.kbkha.ru/?p=8&cat=8&prod=33
//  Liquid Propellant Rocket Engines - RD-0210 engine:     http://www.lpre.de/kbkha/RD-0203/index.htm
//  Russian Space Web - RD-0210 engine:                    http://www.russianspaceweb.com/rd0210.html
//  Encyclopedia Astronautica - RD-0210 engine:            http://www.astronautix.com/engines/rd0210.htm

//  KB Khimavtomatika - RD-0213 engine:                    http://www.kbkha.ru/?p=8&cat=8&prod=33
//  Russian Space Web - RD-0212 engine:                    http://www.russianspaceweb.com/rd0212.html
//  Russian Space Web - Proton Third Stage:                http://www.russianspaceweb.com/proton_stage3.html
//  Encyclopedia Astronautica - RD-0212 engine:            http://www.astronautix.com/r/rd-0212.html
//  Encyclopedia Astronautica - RD-0214 engine:            http://www.astronautix.com/r/rd-0214.html

//  NPO Energomash - RD-253 engine:                        http://www.npoenergomash.ru/eng/dejatelnost/engines/rd253/
//  Russian Space Web - RD-253 engine:                     http://www.russianspaceweb.com/rd253.html
//  Encyclopedia Astronautica - RD-253 engine:             http://www.astronautix.com/r/rd-253-11d48.html

//  KB KhIMMASH - KVD-1 & S5.92 Brochure:                  http://www.k204.ru/books/vrd/wiki2/PDF/Himmash.pdf
//  KB KhIMMASH - S5.92 engine:                            http://kbhmisaeva.ru/main.php?id=53
//  Encyclopedia Astronautica - S5.92 engine:              http://www.astronautix.com/s/s592.html

//  Norbert Brügge - Russian rocket engines:               http://www.b14643.de/Spacerockets/Specials/Russian_Rocket_engines/engines.htm

//  ==================================================
//  Removed extra parts.
//  ==================================================

!PART[RD0120CAP_engine_inclination]:FOR[RealismOverhaul]{}

!PART[S5_92]:FOR[RealismOverhaul]{}

//  ==================================================
//  NK-33 engine.

//  Dimensions: 2.7 m x 4 m
//  Gross Mass: 1240 Kg
//  ==================================================

@PART[NK33engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.086, 0.0, 0.0, 1.0, 0.0, 2
    !node_stack_center = NULL
    @node_stack_bottom = 0.0, -2.266, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 1.24
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    @tags = ascent launch propuls NK-33 rocket surf

    %engineType = NK33
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 840.96
        @maxThrust = 1681.93
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 331
            @key,1 = 1 297
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 6.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  Soyuz-2-1V first stage RD-0110R vernier assembly.

//  Dimensions: 2.66 m x 2.65 m
//  Inert Mass: 1100 Kg

//  The inert mass value includes the mass of the main
//  and vernier engines mounting hardware (540 Kg).
//  ==================================================

@PART[NK33attachment]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    //  Mounting structure.

    @MODEL,0
    {
        @scale = 0.8512, 0.8512, 0.8512
    }

    //  +X vernier.

    @MODEL,1
    {
        @scale = 1.0, 1.0, 1.0
        @position = -1.0, -1.45, 0.0
    }

    //  -X vernier.

    @MODEL,2
    {
        @scale = 1.0, 1.0, 1.0
        @position = 1.0, -1.45, 0.0
    }

    //  +Y vernier.

    @MODEL,3
    {
        @scale = 1.0, 1.0, 1.0
        @position = 0.0, -1.45, -1.0
    }

    //  -Y vernier.

    @MODEL,4
    {
        @scale = 1.0, 1.0, 1.0
        @position = 0.0, -1.45, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.745, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.62, 0.0, 0.0, -1.0, 0.0, 2
    @node_stack_bottom1 = 0.0, 1.425, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 1.1
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    !stackSymmetry = NULL
    @tags = ascent launch propuls NK-33 RD-0110R rocket surf

    %engineType = RD0110R
    %engineTypeMult = 1
    %ignoreMass = True
    %massOffset = 0.54

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3853
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6147
        }

        @atmosphereCurve
        {
            @key,0 = 0 298
            @key,1 = 1 259
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRangeYP = 0
        @gimbalRangeYN = 0
        @gimbalRangeXP = 45.0
        @gimbalRangeXN = 45.0
        @gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  Soyuz-2-1V first stage RD-0110R vernier assembly.

//  Engine configuration.
//  ==================================================

@PART[NK33attachment]:AFTER[RealismOverhaulEngines]
{
    @title = Soyuz-2-1V Vernier Assembly
    @manufacturer = Voronezh Mechanical Plant
    @description = The vernier assembly of the Soyuz-2-1V launch vehicle first stage.
}

//  ==================================================
//  NK-43 engine.

//  Dimensions: 2.95 m x 5.4 m
//  Gross Mass: 1400 Kg
//  ==================================================

@PART[NK43engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.086, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -3.705, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 1.4
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size3
    @tags = ascent launch propuls NK-43 rocket vac

    %engineType = NK43
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 878.67
        @maxThrust = 1757.34
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3320
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6680
        }

        @atmosphereCurve
        {
            @key,0 = 0 346
            @key,1 = 1 246
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 6.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-58 engine.

//  Dimensions: 2.1 m x 2.3 m
//  Gross Mass: 300 Kg
//  ==================================================

@PART[RD58]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.98, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_center = 0.0, 0.31, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.26, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.3
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    !stackSymmetry = NULL
    @tags = ascent launch propuls RD-58 rocket vac

    %engineType = RD58
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 83.4
        @maxThrust = 83.4
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3594
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6406
        }

        @atmosphereCurve
        {
            @key,0 = 0 349
            @key,1 = 1 175
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 7.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0110 engine.

//  Dimensions: 2.45 m x 1.55 m
//  Gross Mass: 410 Kg
//  ==================================================

@PART[RD0110]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    //  +X axis vernier.

    MODEL
    {
        model = RealEngines/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = 0.966, -0.477, 0.0
        rotation = 0.0, 180.0, 0.0
    }

    //  -X axis vernier.

    MODEL
    {
        model = RealEngines/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = -0.966, -0.477, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    //  +Y axis vernier.

    MODEL
    {
        model = RealEngines/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = 0.0, -0.477, 0.966
        rotation = 0.0, 90.0, 0.0
    }

    //  -Y axis vernier.

    MODEL
    {
        model = RealEngines/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = 0.0, -0.477, -0.966
        rotation = 0.0, -90.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.643, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.894, 0.0, 0.0, -1.0, 0.0, 2
    !node_stack_top1 = NULL
    !node_stack_top1 = NULL
    !node_stack_top1 = NULL
    !node_stack_top1 = NULL

    @mass = 0.41
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size0, size2
    !stackSymmetry = NULL
    @tags = ascent launch propuls RD-0110 rocket vac

    %engineType = RD0110
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        %engineID = MainEngine
        @minThrust = 269.87
        @maxThrust = 298.2
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3853
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6147
        }

        @atmosphereCurve
        {
            @key,0 = 0 330
            @key,1 = 1 165
        }

        !thrustCurve,*{}
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0110 engine.

//  Engine configuration.
//  ==================================================

@PART[RD0110]:AFTER[RealismOverhaulEngines]
{
    //  Vernier engine setup.

    MODULE
    {
        name = ModuleEngines
        engineID = VernierEngine
        thrustVectorTransformName = thrustTransform2
        exhaustDamage = True
        ignitionThreshold = 0.1
        minThrust = 6.0
        maxThrust = 6.0
        heatProduction = 100
        EngineType = LiquidFuel
        ullage = True
        pressureFed = False
        ignitions = 1

        IGNITOR_RESOURCE
        {
            name = ElectricCharge
            amount = 0.02
        }

        PROPELLANT
        {
            name = Kerosene
            ratio = 0.3853
            DrawGauge = False
        }

        PROPELLANT
        {
            name = LqdOxygen
            ratio = 0.6147
            DrawGauge = False
        }

        atmosphereCurve
        {
            key = 0 330
            key = 1 165
        }
    }

    //  Vernier gimbal setup.

    !MODULE[ModuleGimbal],*{}

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = gimbal
        gimbalRangeYP = 0.0
        gimbalRangeYN = 0.0
        gimbalRangeXP = 25.0
        gimbalRangeXN = 25.0
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-0120 engine.

//  Dimensions: 2.93 m x 4.7 m
//  Gross Mass: 3450 Kg
//  ==================================================

@PART[rd0120]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.782, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.932, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 3.45
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size3
    @tags = ascent launch propuls RD-0120 rocket surf

    %engineType = RD0120
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 1863.26
        @maxThrust = 1961.33
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7286
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2714
        }

        @atmosphereCurve
        {
            @key,0 = 0 455
            @key,1 = 1 359
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 11.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0120 engine mount.

//  Dimensions: 3.1 m x 4.4 m
//  Inert Mass: 430 Kg
//  ==================================================

@PART[RD0120CAP]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL
    rescaleFactor = 1

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.174, 0.0, 0.0, -1.0, 0.0, 3

    @category = Structural
    @title = RD-0120 Engine Mount
    @description = A generic engine mount and turbopump shroud for the RD-0120 engine.

    @mass = 0.43
    @crashTolerance = 14
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    @bulkheadProfiles = size3
    @tags = eng mount RD-0120 struct
}

//  ==================================================
//  RD-0124 engine.

//  Dimensions: 2.45 m x 1.55 m
//  Gross Mass: 500 Kg
//  ==================================================

@PART[RD0124engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.643, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.894, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.5
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    @tags = ascent launch propuls RD-0124 rocket vac

    %engineType = RD0124
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 294.3
        @maxThrust = 294.3
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 359
            @key,1 = 1 331
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal]]
    {
        @gimbalRangeYP = 7.0
        @gimbalRangeYN = 7.0
        @gimbalRangeXP = 0
        @gimbalRangeXN = 0
        @gimbalResponseSpeed = 16
    }

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal2]]
    {
        @gimbalRangeYP = 0
        @gimbalRangeYN = 0
        @gimbalRangeXP = 7.0
        @gimbalRangeXN = 7.0
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0146 engine.

//  Dimensions: 1.75 m x 2.7 m
//  Gross Mass: 240 Kg
//  ==================================================

@PART[RD0146engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.735, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.952, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.24
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    !stackSymmetry = NULL
    @tags = ascent launch propuls RD-0146 rocket vac

    %engineType = RD0146
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 98.1
        @maxThrust = 98.1
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7319
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2681
        }

        @atmosphereCurve
        {
            @key,0 = 0 463
            @key,1 = 1 155
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 4.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-170 engine.

//  Dimensions: 4.05 m x 3.8 m
//  Gross Mass: 9750 Kg
//  ==================================================

@PART[rd170engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.505, 0.0, 0.0, 1.0, 0.0, 4
    !node_stack_center = NULL
    @node_stack_bottom = 0.0, -2.277, 0.0, 0.0, -1.0, 0.0, 4

    @mass = 9.75
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size4
    @tags = ascent launch propuls RD-170 rocket surf

    %engineType = RD170
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 3952.24
        @maxThrust = 7904.49
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 337
            @key,1 = 1 309
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 8.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-180 engine.

//  Dimensions: 3.55 m x 3.8 m
//  Gross Mass: 5440 Kg
//  ==================================================

@PART[rd180engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.509, 0.0, 0.0, 1.0, 0.0, 3
    !node_stack_center = NULL
    @node_stack_bottom = 0.0, -2.283, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 5.44
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size1
    @tags = ascent launch propuls RD-180 rocket surf

    %engineType = RD180
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 1951.43
        @maxThrust = 4152.41
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3384
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6616
        }

        @atmosphereCurve
        {
            @key,0 = 0 337
            @key,1 = 1 311
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 8.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-191 engine.

//  Dimensions: 2.7 m x 3.8 m
//  Gross Mass: 2200 Kg
//  ==================================================

@PART[rd191engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.34244, 0.0, 0.0, 1.0, 0.0, 2
    !node_stack_center = NULL
    @node_stack_bottom = 0.0, -2.282925, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 2.2
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    @tags = ascent launch propuls RD-191 rocket surf

    %engineType = RD191
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @minThrust = 562.92
        @maxThrust = 2084.89
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 337
            @key,1 = 1 311
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 8.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0210/0211 engine.

//  Dimensions: 1.47 m x 2.23 m
//  Gross Mass: 566 Kg
//  ==================================================

@PART[RD0210]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.331, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.907, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.566
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    @tags = ascent launch propuls RD-0210 RD-0211 rocket vac

    %engineType = RD0210
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4135
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5865
        }

        @atmosphereCurve
        {
            @key,0 = 0 313
            @key,1 = 1 220
        }
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 3.25
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-0212 engine.

//  Dimensions: 1.47 m x 2.9 m
//  Gross Mass: 910 Kg
//  ==================================================

@PART[RD0212]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL,0
    {
        @scale = 1.0, 1.0, 1.0
    }

    @MODEL,1
    {
        @scale = 1.0, 1.0, 1.0
        @position = -2.035, 1.6, 0.0
    }

    @MODEL,2
    {
        @scale = 1.0, 1.0, 1.0
        @position = 2.035, 1.6, 0.0
    }

    @MODEL,3
    {
        @scale = 1.0, 1.0, 1.0
        @position = 0.0, 1.6, -2.035
    }

    @MODEL,4
    {
        @scale = 1.0, 1.0, 1.0
        @position = 0.0, 1.6, 2.035
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.575, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.907, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.91
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    @tags = ascent launch propuls RD-0212 RD-0213 RD-0214 rocket vac

    %engineType = RD0212
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4192
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5808
        }

        @atmosphereCurve
        {
            @key,0 = 0 313
            @key,1 = 1 220
        }
    }
}

//  ==================================================
//  RD-0212 engine.

//  Engine configuration.
//  ==================================================

@PART[RD0212]:AFTER[RealismOverhaulEngines]
{
    //  Vernier engine setup.

    MODULE
    {
        name = ModuleEngines
        engineID = VernierEngine
        thrustVectorTransformName = thrustTransform2
        exhaustDamage = True
        ignitionThreshold = 0.1
        minThrust = 30.89
        maxThrust = 30.89
        heatProduction = 100
        EngineType = LiquidFuel
        ullage = True
        pressureFed = False
        ignitions = 1

        IGNITOR_RESOURCE
        {
            name = ElectricCharge
            amount = 0.025
        }

        PROPELLANT
        {
            name = UDMH
            ratio = 0.4135
            DrawGauge = True
        }

        PROPELLANT
        {
            name = NTO
            ratio = 0.5865
            DrawGauge = False
        }

        atmosphereCurve
        {
            key = 0 294
            key = 1 147
        }
    }

    //  Vernier gimbal setup.

    !MODULE[ModuleGimbal],*{}

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = gimbal
        gimbalRangeYP = 0.0
        gimbalRangeYN = 0.0
        gimbalRangeXP = 45.0
        gimbalRangeXN = 45.0
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-253/275 engine.

//  Dimensions: 3.5 m x 2.8 m
//  Gross Mass: 1080 Kg
//  ==================================================

@PART[RD275]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.116, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.373, 0.0, 0.0, -1.0, 0.0, 2
    @node_attach = 0.0, 1.545, 0.0, 0.0, 1.0, 0.0

    @mass = 1.08
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size2
    @tags = ascent launch propuls RD-253 RD-275 rocket surf

    %engineType = RD253
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        !engineID = NULL
        @minThrust = 1627.9
        @maxThrust = 1627.9
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4071
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5929
        }

        @atmosphereCurve
        {
            @key,0 = 0 316
            @key,1 = 1 285
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRangeYP = 6.0
        @gimbalRangeYN = 6.0
        @gimbalRangeXP = 0
        @gimbalRangeXN = 0
    }

    !RESOURCE,*{}
}

//  ==================================================
//  S5.92 engine.

//  Dimensions: 0.4 m x 0.96 m
//  Inert Mass: 75 Kg
//  ==================================================

@PART[S5_92fversion]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.158, 0.0, 0.0, 1.0, 0.0, 1
    @node_stack_bottom = 0.0, -0.81, 0.0, 0.0, -1.0, 0.0, 1

    @mass = 0.075
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size1
    @tags = ascent launch propuls S.92 rocket vac

    %engineType = S5_92
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    //  Main engine.

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        %engineID = MainEngine

        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4782
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5218
        }

        @atmosphereCurve
        {
            @key,0 = 0 327
            @key,1 = 1 158
        }
    }

    //  Gas generator exhaust.

    //  The thrust values have been set to 1/100 of
    //  the nominal thrust value of the main engine.
    //  True values unknown.

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[tt2]]
    {
        %engineID = GasGenerator
        @minThrust = 0.02
        @maxThrust = 0.02

        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4782
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5218
        }

        @atmosphereCurve
        {
            @key,0 = 0 327
            @key,1 = 1 158
        }
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 5.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        %gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  S5.98M engine.

//  Dimensions: 0.425 m x 0.97 m
//  Inert Mass: 95 Kg
//  ==================================================

@PART[S5_98M]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.158, 0.0, 0.0, 1.0, 0.0, 1
    @node_stack_bottom = 0.0, -0.811, 0.0, 0.0, -1.0, 0.0, 1

    @mass = 0.095
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size1
    @tags = ascent launch propuls S.98M rocket vac

    %engineType = S5_98M
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4782
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5218
        }

        @atmosphereCurve
        {
            @key,0 = 0 370
            @key,1 = 1 235
        }
    }
}

//  ==================================================
//  RD-0110 vernier engine.

//  Dimensions: 0.325 m x 0.7 m
//  Gross Mass: 10 Kg
//  ==================================================

@PART[STEERING_MOTOR_RD0110engine]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0

    @mass = 0.01
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = size0
    @tags = ascent launch propuls RD-0110 rocket vac vern

    %engineType = RD0110Vernier
    %engineTypeMult = 1
    %ignoreMass = False
    %massOffset = 0

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3853
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6147
        }

        @atmosphereCurve
        {
            @key,0 = 0 330
            @key,1 = 1 165
        }
    }

    @MODULE[ModuleGimbal]
    {
        @gimbalRangeYP = 0
        @gimbalRangeYN = 0
        @gimbalRangeXP = 25.0
        @gimbalRangeXN = 25.0
    }
}
