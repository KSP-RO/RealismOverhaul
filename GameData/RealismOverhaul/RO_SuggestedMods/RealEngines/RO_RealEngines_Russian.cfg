//  ==================================================
//  Sources:
//
//  Liquid Propellant Rocket Engines - NK-33/43 engine:    http://www.lpre.de/sntk/NK-33/index.htm
//  Russian Space Web - NK-33 engine:                      http://www.russianspaceweb.com/nk33.html
//  Norbert Brügge - Kuznetsov NK rocket engine variants:  http://www.b14643.de/Spacerockets_1/East_Europe_2/N-1/NK/index.htm
//  Encyclopedia Astronautica - NK-33 engine:              http://www.astronautix.com/n/nk-33.html
//  Encyclopedia Astronautica - NK-43 engine:              http://www.astronautix.com/n/nk-43.html
//  Encyclopedia Astronautica - RD-58 engine:              http://astronautix.com/r/rd-58.html
//  Norbert Brügge - Block D upper stage:                  http://www.b14643.de/Spacerockets_1/East_Europe_2/Proton/Gallery/Block-D.htm
//  Encyclopedia Astronautica - RD-103 engine:             http://astronautix.com/r/rd-103.html
//  Encyclopedia Astronautica - RD-103M engine:            http://astronautix.com/r/rd-103m.html
//  NPO Energomash - RD-107/RD-108 engines:                http://www.npoenergomash.ru/eng/dejatelnost/engines/rd107/
//  Norbert Brügge - RD-107/RD-108 engine modifications:   http://www.b14643.de/Spacerockets_1/East_Europe_1/Semyorka/Propulsion/history.htm
//  Russian Space Web - RD-0110 engine:                    http://www.russianspaceweb.com/rd0110.html
//  Encyclopedia Astronautica - RD-0110 engine:            http://www.astronautix.com/r/rd-0110.html
//  Liquid Propellant Rocket Engines - RD-0120 engine:     http://www.lpre.de/kbkha/RD-0120/index.htm
//  AIAA - RD-0120 design, development and history:        http://lpre.de/resources/articles/AIAA-1995-2540.pdf
//  Russian Space Web - RD-0120 engine:                    http://russianspaceweb.com/rd0120.html
//  Encyclopedia Astronautica - RD-0120 engine:            http://astronautix.com/r/rd-0120.html
//  Liquid Propellant Rocket Engines - RD-0124 engine:     http://www.lpre.de/kbkha/RD-0124/index.htm
//  AIAA - GG and SC Cycle Rocket Engines Turbopumps:      http://rocket-propulsion.info/resources/articles/AIAA-2005-3946.pdf
//  Russian Space Web - RD-0124 engine:                    http://www.russianspaceweb.com/rd0124.html
//  Encyclopedia Astronautica - RD-0124 engine:            http://www.astronautix.com/r/rd-0124.html
//  Russian Space Web - RD-0146 engine:                    http://www.russianspaceweb.com/rd0146.html
//  AIAA - The First Russian LOX-LH2 Expander Cycle LRE:   http://www.lpre.de/resources/articles/AIAA-2006-4904_RD0146.pdf
//  Encyclopedia Astronautica - RD-0146 engine:            http://www.astronautix.com/r/rd-0146.html
//  Liquid Propellant Rocket Engines - RD-170 engine:      http://www.lpre.de/energomash/RD-170/index.htm
//  AIAA - RD-170, A Different Approach to LV Propulsion:  http://rocket-propulsion.info/resources/articles/AIAA-1993-2415.pdf
//  Russian Space Web - RD-170 engine:                     http://www.russianspaceweb.com/rd170.html
//  Encyclopedia Astronautica - RD-170 engine:             http://www.astronautix.com/r/rd-170.html
//  NPO Energomash - RD-180 engine:                        http://www.npoenergomash.ru/eng/dejatelnost/engines/rd180/
//  AIAA - RD-180 Engine Production and Flight Experience: http://alternatewars.com/BBOW/Space_Engines/AIAA-2004-3998.pdf
//  AIAA - RD-180 Engine Development and Characteristics:  http://my.fit.edu/~dkirk/4262/RD180_Presentation.pdf
//  LPRE - RD-180 engine:                                  http://www.lpre.de/energomash/RD-180/index.htm
//  Encyclopedia Astronautica - RD-180 engine:             http://www.astronautix.com/r/rd-180.html
//  NPO Energomash - RD-191 engine:                        http://www.npoenergomash.ru/eng/dejatelnost/engines/rd191/
//  Russian Space Web - RD-191 engine:                     http://russianspaceweb.com/rd191.html
//  Encyclopedia Astronautica - RD-191 engine:             http://www.astronautix.com/r/rd-191.html
//  KB Khimavtomatika - RD-0210 engine:                    http://www.kbkha.ru/?p=8&cat=8&prod=33
//  Liquid Propellant Rocket Engines - RD-0210 engine:     http://www.lpre.de/kbkha/RD-0203/index.htm
//  Russian Space Web - RD-0210 engine:                    http://www.russianspaceweb.com/rd0210.html
//  Encyclopedia Astronautica - RD-0210 engine:            http://www.astronautix.com/engines/rd0210.htm
//  KB Khimavtomatika - RD-0213 engine:                    http://www.kbkha.ru/?p=8&cat=8&prod=33
//  Russian Space Web - RD-0212 engine:                    http://www.russianspaceweb.com/rd0212.html
//  Russian Space Web - Proton Third Stage:                http://www.russianspaceweb.com/proton_stage3.html
//  Encyclopedia Astronautica - RD-0212 engine:            http://www.astronautix.com/r/rd-0212.html
//  Encyclopedia Astronautica - RD-0214 engine:            http://www.astronautix.com/r/rd-0214.html
//  Russian Space Web - Sunkar launch vehicle:             http://www.russianspaceweb.com/sunkar.html
//  NPO Energomash - RD-253 engine:                        http://www.npoenergomash.ru/eng/dejatelnost/engines/rd253/
//  Russian Space Web - RD-253 engine:                     http://www.russianspaceweb.com/rd253.html
//  Encyclopedia Astronautica - RD-253 engine:             http://www.astronautix.com/r/rd-253-11d48.html
//  KB KhIMMASH - KVD-1 & S5.92 Brochure:                  http://www.k204.ru/books/vrd/wiki2/PDF/Himmash.pdf
//  KB KhIMMASH - S5.92 engine:                            http://kbhmisaeva.ru/main.php?id=53
//  Encyclopedia Astronautica - S5.92 engine:              http://www.astronautix.com/s/s592.html
//  Norbert Brügge - Isaev Design Bureau KDUs:             http://www.b14643.de/Spacerockets/Specials/KB-Isayev_KDUs/index.htm
//  Encyclopedia Astronautica - KTDU-35:                   http://www.astronautix.com/k/ktdu-35.html
//  Encyclopedia Astronautica - KTDU-66:                   http://www.astronautix.com/k/ktdu-66.html
//  Encyclopedia Astronautica - RD-0105 engine:            http://astronautix.com/r/rd-0105.html
//  Encyclopedia Astronautica - RD-0109 engine:            http://astronautix.com/r/rd-0109.html
//  Norbert Brügge - N-1 NK series engine variants:        http://www.b14643.de/Spacerockets_1/East_Europe_2/N-1/NK/index.htm
//  Encyclopedia Astronautica - NK-9 engine:               http://www.astronautix.com/n/nk-9.html
//  Encyclopedia Astronautica - NK-9V engine:              http://www.astronautix.com/n/nk-9v.html
//  Encyclopedia Astronautica - NK-21 engine:              http://www.astronautix.com/n/nk-21.html
//  Encyclopedia Astronautica - NK-31 engine:              http://www.astronautix.com/n/nk-31.html
//  Encyclopedia Astronautica - NK-39 engine:              http://www.astronautix.com/n/nk-39.html
//  Yuzhnoye Design Office - RD-856 vernier engine:        http://www.yuzhnoye.com/en/technique/rocket-engines/steering/rd-856/
//  Encyclopedia Astronautica - RD-856 vernier engine:     http://www.astronautix.com/r/rd-856.html
//  LPRE - Isaev Design Bureau propulsion systems:         http://lpre.de/kbhm/index.htm
//  Norbert Brügge - Russian rocket engines:               http://www.b14643.de/Spacerockets/Specials/Russian_Rocket_engines/engines.htm

//  ==================================================
//  NK-33 engine.
//
//  Dimensions: 2.7 m x 4 m
//  Gross Mass: 1240 kg
//  ==================================================

@PART[NK33engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-NK-33

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.085, 0.0, 0.0, 1.0, 0.0, 2
    !node_stack_center = DELETE
    @node_stack_bottom = 0.0, -2.265, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 1.24
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    @tags = ascent launch NK-33 propuls rocket surf

    %engineType = NK33

    @MODULE[ModuleEngines*]
    {
        @minThrust = 840.96
        @maxThrust = 1681.93
        @heatProduction = 185
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 331
            @key,1 = 1 297
        }

        !thrustCurve,*{}
    }

    //  Placeholder gimbal module.

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = gimbal
        gimbalRange = 6.0
    }
}

//  ==================================================
//  NK-43 engine.
//
//  Dimensions: 2.95 m x 5.4 m
//  Gross Mass: 1400 kg
//  ==================================================

@PART[NK43engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-NK-43

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.085, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -3.7, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 1.4
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size3
    @tags = ascent launch NK-43 propuls rocket vac

    %engineType = NK43

    @MODULE[ModuleEngines*]
    {
        @minThrust = 878.67
        @maxThrust = 1757.34
        @heatProduction = 180
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3320
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6680
        }

        @atmosphereCurve
        {
            @key,0 = 0 346
            @key,1 = 1 246
        }

        !thrustCurve,*{}
    }

    //  Placeholder gimbal module.

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = gimbal
        gimbalRange = 6.0
    }
}

//  ==================================================
//  RD-58 engine.
//
//  Dimensions: 2.1 m x 2.3 m
//  Gross Mass: 300 kg
//  ==================================================

@PART[RD58]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-58

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.98, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_center = 0.0, 0.44, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.26, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.3
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    !stackSymmetry = DELETE
    @tags = ascent launch propuls proton RD-58 rocket vac zenit

    %engineType = RD58

    @MODULE[ModuleEngines*]
    {
        @minThrust = 83.4
        @maxThrust = 83.4
        @heatProduction = 60
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3594
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6406
        }

        @atmosphereCurve
        {
            @key,0 = 0 349
            @key,1 = 1 175
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 7.0
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-100 series engine.
//
//  Dimensions: 1.3 m x 3.05 m
//  Gross Mass: 870 kg
//  ==================================================

@PART[rd100]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-100

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    //  Modeling the jet vanes as four thrust transforms.

    MODEL
    {
        model = RealismOverhaul/Assets/EmptyEngine
        position = 0.25, -0.8, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = RealismOverhaul/Assets/EmptyEngine
        position = -0.25, -0.8, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = RealismOverhaul/Assets/EmptyEngine
        position = 0.0, -0.8, 0.25
        rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = RealismOverhaul/Assets/EmptyEngine
        position = 0.0, -0.8, -0.25
        rotation = 0.0, 0.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.23, 0.0, 0.0, 1.0, 0.0, 1
    @node_stack_bottom = 0.0, -0.78, 0.0, 0.0, -1.0, 0.0, 1
    @node_attach = 0.0, 2.23, 0.0, 0.0, 1.0, 0.0

    @mass = 0.87
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size1
    @tags = ascent irbm launch propuls R-1 R-2 R-5 RD-100 RD-101 RD-102 RD-103 rocket surf vertikal

    %engineType = RD100

    @MODULE[ModuleEngines*]
    {
        %thrustVectorTransformName = newThrustTransform
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalTransformName = newThrustTransform
        %gimbalRange = 2.0
    }
}

//  ==================================================
//  S2.253 series engine.

//  Dimensions: 0.88 m x 1.66 m
//  Gross Mass: XXX Kg
//  ==================================================

+PART[rd100]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-S2.253

    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    //  Modeling the jet vanes as four thrust transforms.

    MODEL
    {
        model = RealismOverhaul/emptyengine
        position = 0.25, -0.8, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = RealismOverhaul/emptyengine
        position = -0.25, -0.8, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = RealismOverhaul/emptyengine
        position = 0.0, -0.8, 0.25
        rotation = 0.0, 0.0, 0.0
    }

    MODEL
    {
        model = RealismOverhaul/emptyengine
        position = 0.0, -0.8, -0.25
        rotation = 0.0, 0.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 0.53

    @node_stack_top = 0.0, 2.23, 0.0, 0.0, 1.0, 0.0, 1
    @node_stack_bottom = 0.0, -0.78, 0.0, 0.0, -1.0, 0.0, 1
    @node_attach = 0.0, 2.23, 0.0, 0.0, 1.0, 0.0

    @mass = 0.3
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size1
    @tags = ascent irbm launch propuls R-11 rocket surf vertikal

    %engineType = S2.253

    @MODULE[ModuleEngines*]
    {
        %thrustVectorTransformName = newThrustTransform

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            ratio = 0.373
        }

        @PROPELLANT[Oxidizer]
        {
            @name = AK20
            ratio = 0.627
        }

        @atmosphereCurve
        {
            @key,0 = 0 251
            @key,1 = 1 219
        }
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalTransformName = newThrustTransform
        %gimbalRange = 2.0
        !gimbalRangeYP = NULL
        !gimbalRangeYN = NULL
        !gimbalRangeXP = NULL
        !gimbalRangeXN = NULL
        @gimbalResponseSpeed = 16
    }
}


//  ==================================================
//  RD-107 series engine.
//
//  Dimensions: 2.6 m x 2.66 m
//  Gross Mass: 1190 kg
//  ==================================================

@PART[RD107]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-107

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.685, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.88, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 1.19
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size1
    @tags = ascent fregat icbm launch molniya propuls RD-107 RD-117 rocket soyuz surf vostok voskhod

    %engineType = RD107-117

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        @minThrust = 972.3
        @maxThrust = 972.3
        @heatProduction = 100
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3531
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6274
        }

        PROPELLANT
        {
            name = HTP
            ratio = 0.0195
            DrawGauge = False
            ignoreForIsp = True
        }

        @atmosphereCurve
        {
            @key,0 = 0 306
            @key,1 = 1 250
        }

        !thrustCurve,*{}
    }
}

//  ==================================================
//  RD-107 series engine.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-107]:FOR[RealismOverhaulEnginesPost]
{
    //  Configure the thrust transforms of 
    //  the main and vernier engines.

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        !THRUST_TRANSFORM,*{}

        THRUST_TRANSFORM
        {
            name = thrustTransform
            overallMultiplier = 1.0
        }

        THRUST_TRANSFORM
        {
            name = thrustTransform2
            overallMultiplier = 0.0350
        }
    }

    !MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform2]],*{}

    !MODULE[ModuleGimbal]:HAS[#gimbalTransformName[thrustTransform]],*{}

    // Setup the gimbals for the vernier engines.

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal]]
    {
        @gimbalRangeYP = 45.0
        @gimbalRangeYN = 45.0
        @gimbalRangeXP = 0
        @gimbalRangeXN = 0
        @gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-108 series engine.
//
//  Dimensions: 2.8 m x 2.66 m
//  Gross Mass: 1278 kg
//  ==================================================

@PART[RD108]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-108

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.685, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.88, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 1.278
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size1
    @tags = ascent fregat icbm launch molniya propuls RD-108 RD-118 rocket soyuz surf vostok voskhod

    %engineType = RD108-118

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        @minThrust = 918.3
        @maxThrust = 918.3
        @heatProduction = 90
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3531
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6274
        }

        PROPELLANT
        {
            name = HTP
            ratio = 0.0195
            DrawGauge = False
            ignoreForIsp = True
        }

        atmosphereCurve
        {
            @key,0 = 0 308
            @key,1 = 1 241
        }

        !thrustCurve,*{}
    }
}

//  ==================================================
//  RD-108 series engine.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-108]:FOR[RealismOverhaulEnginesPost]
{
    //  Configure the thrust transforms of 
    //  the main and vernier engines.

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        !THRUST_TRANSFORM,*{}

        THRUST_TRANSFORM
        {
            name = thrustTransform
            overallMultiplier = 1.0
        }

        THRUST_TRANSFORM
        {
            name = thrustTransform2
            overallMultiplier = 0.0370
        }
    }

    !MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform2]],*{}

    !MODULE[ModuleGimbal]:HAS[#gimbalTransformName[thrustTransform]],*{}

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal]]
    {
        @gimbalRangeYP = 0
        @gimbalRangeYN = 0
        @gimbalRangeXP = 45.0
        @gimbalRangeXN = 45.0
        @gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-0110 engine.
//
//  Dimensions: 2.45 m x 1.55 m
//  Gross Mass: 410 kg
//  ==================================================

@PART[RD0110engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0110

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    //  +X axis vernier.

    MODEL
    {
        model = RealEnginesPack/PostSovietPack/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = 0.966, -0.477, 0.0
        rotation = 0.0, 180.0, 0.0
    }

    //  -X axis vernier.

    MODEL
    {
        model = RealEnginesPack/PostSovietPack/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = -0.966, -0.477, 0.0
        rotation = 0.0, 0.0, 0.0
    }

    //  +Y axis vernier.

    MODEL
    {
        model = RealEnginesPack/PostSovietPack/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = 0.0, -0.477, 0.966
        rotation = 0.0, 90.0, 0.0
    }

    //  -Y axis vernier.

    MODEL
    {
        model = RealEnginesPack/PostSovietPack/STEERING_MOTOR
        scale = 1.0, 1.0, 1.0
        position = 0.0, -0.477, -0.966
        rotation = 0.0, -90.0, 0.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.643, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.894, 0.0, 0.0, -1.0, 0.0, 2
    !node_stack_top1 = DELETE
    !node_stack_top1 = DELETE
    !node_stack_top1 = DELETE
    !node_stack_top1 = DELETE

    @mass = 0.41
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size0, size2
    !stackSymmetry = DELETE
    @tags = ascent launch propuls RD-0110 rocket soyuz vac

    %engineType = RD0110

    @MODULE[ModuleEngines*]
    {
        %engineID = MainEngine
        @minThrust = 269.87
        @maxThrust = 298.2
        @heatProduction = 100
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3853
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6147
        }

        @atmosphereCurve
        {
            @key,0 = 0 330
            @key,1 = 1 165
        }

        !thrustCurve,*{}
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0110 engine.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-0110]:AFTER[RealismOverhaulEngines]
{
    //  Configure the thrust transforms of 
    //  the main and vernier engines.

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        !THRUST_TRANSFORM,*{}

        THRUST_TRANSFORM
        {
            name = thrustTransform
            overallMultiplier = 1.0
        }

        THRUST_TRANSFORM
        {
            name = thrustTransform2
            overallMultiplier = 0.0134
        }
    }

    //  Vernier engines gimbal setup.

    !MODULE[ModuleGimbal],*{}

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = gimbal
        gimbalRangeYP = 0.0
        gimbalRangeYN = 0.0
        gimbalRangeXP = 25.0
        gimbalRangeXN = 25.0
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-0120 engine.
//
//  Dimensions: 2.93 m x 4.7 m
//  Gross Mass: 3450 kg
//  ==================================================

@PART[rd0120]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0120

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 2.782, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -1.932, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 3.45
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size3
    @tags = ascent buran energia launch polyus propuls RD-0120 rocket surf

    %engineType = RD0120

    @MODULE[ModuleEngines*]
    {
        @minThrust = 1863.26
        @maxThrust = 1961.33
        @heatProduction = 106
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7286
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2714
        }

        @atmosphereCurve
        {
            @key,0 = 0 455
            @key,1 = 1 359
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 11.0
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0124 engine.
//
//  Dimensions: 2.45 m x 1.55 m
//  Gross Mass: 500 kg
//  ==================================================

@PART[RD0124engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0124

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.643, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.894, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.5
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    @tags = angara ascent launch propuls RD-0124 rocket soyuz vac

    %engineType = RD0124

    @MODULE[ModuleEngines*]
    {
        @minThrust = 294.3
        @maxThrust = 294.3
        @heatProduction = 85
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 359
            @key,1 = 1 245
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal]]
    {
        @gimbalRangeYP = 3.5
        @gimbalRangeYN = 3.5
        @gimbalRangeXP = 0
        @gimbalRangeXN = 0
        @gimbalResponseSpeed = 16
    }

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal2]]
    {
        @gimbalRangeYP = 0
        @gimbalRangeYN = 0
        @gimbalRangeXP = 3.5
        @gimbalRangeXN = 3.5
        @gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-0124 engine (dual).
//
//  Dimensions: 3.2 m x 2.0 m
//  Gross Mass: 960 kg
//  ==================================================

@PART[RD0124Aengine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0124A

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.162, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -0.787, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 0.96
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size3
    @tags = angara ascent launch propuls RD-0124A rocket sunkar soyuz vac zenit

    %engineType = RD0124
    %engineTypeMult = 2

    @MODULE[ModuleEngines*]
    {
        @minThrust = 588.6
        @maxThrust = 588.6
        @heatProduction = 90
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514

        }

        @atmosphereCurve
        {
            @key,0 = 0 359
            @key,1 = 1 245
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 3.5
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
        @gimbalResponseSpeed = 16
    }
}

//  ==================================================
//  RD-0124 engine (dual).
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-0124A]:AFTER[RealismOverhaulEngines]
{
    @title = RD-0124A (Dual)
    @manufacturer = NPO Energomash
    @description = A dual version of the RD-0124A engine variant, developed for the second stage of the Sunkar (Falcon) launch vehicle.
}

//  ==================================================
//  RD-0146 engine.
//
//  Dimensions: 1.75 m x 2.7 m
//  Gross Mass: 240 kg
//  ==================================================

@PART[RD0146engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0146

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.735, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.952, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.24
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    !stackSymmetry = DELETE
    @tags = angara ascent kvtk launch ppts propuls RD-0146 rocket rus-m vac

    %engineType = RD0146

    @MODULE[ModuleEngines*]
    {
        @minThrust = 98.1
        @maxThrust = 98.1
        @heatProduction = 80
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = LqdHydrogen
            @ratio = 0.7319
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.2681
        }

        @atmosphereCurve
        {
            @key,0 = 0 463
            @key,1 = 1 155
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 4.0
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-170 engine.
//
//  Dimensions: 4.05 m x 3.8 m
//  Gross Mass: 9750 kg
//  ==================================================

@PART[RD170engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-170

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.505, 0.0, 0.0, 1.0, 0.0, 4
    !node_stack_center = DELETE
    @node_stack_bottom = 0.0, -2.283, 0.0, 0.0, -1.0, 0.0, 4

    @mass = 9.75
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size4
    @tags = ascent energia launch propuls RD-170 rocket surf zenit

    %engineType = RD170

    @MODULE[ModuleEngines*]
    {
        @minThrust = 3952.24
        @maxThrust = 7904.49
        @heatProduction = 112
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 337
            @key,1 = 1 309
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 8.0
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-180 engine.
//
//  Dimensions: 3.55 m x 3.8 m
//  Gross Mass: 5330 kg
//  ==================================================

@PART[RD180engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-180

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.509, 0.0, 0.0, 1.0, 0.0, 3
    !node_stack_center = DELETE
    @node_stack_bottom = 0.0, -2.283, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 5.33
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size1
    @tags = ascent atlas launch propuls RD-180 rocket rus-m surf

    %engineType = RD180
}

//  ==================================================
//  RD-191 engine.
//
//  Dimensions: 2.7 m x 3.8 m
//  Gross Mass: 2200 kg
//  ==================================================

@PART[RD191engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-191

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.34244, 0.0, 0.0, 1.0, 0.0, 2
    !node_stack_center = DELETE
    @node_stack_bottom = 0.0, -2.282925, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 2.2
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    @tags = angara ascent launch propuls RD-191 rocket surf

    %engineType = RD191

    @MODULE[ModuleEngines*]
    {
        @minThrust = 562.92
        @maxThrust = 2084.89
        @heatProduction = 130
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3486
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6514
        }

        @atmosphereCurve
        {
            @key,0 = 0 337
            @key,1 = 1 311
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 8.0
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
        @gimbalResponseSpeed = 16
    }

    !MODULE[ModuleAlternator],*{}

    !RESOURCE,*{}
}

//  ==================================================
//  RD-0210/0211 engine.
//
//  Dimensions: 1.47 m x 2.23 m
//  Gross Mass: 566 kg
//  ==================================================

@PART[RD0210]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0210

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.331, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.907, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.566
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    @tags = ascent launch propuls proton RD-0210 RD-0211 rocket vac

    %engineType = RD0210
}

//  ==================================================
//  RD-0212 engine.
//
//  Dimensions: 1.47 m x 2.9 m
//  Gross Mass: 910 kg
//  ==================================================

@PART[RD0212]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0212

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL,0
    {
        @scale = 1.0, 1.0, 1.0
    }

    @MODEL,1
    {
        @scale = 1.0, 1.0, 1.0
        @position = -2.035, 1.6, 0.0
    }

    @MODEL,2
    {
        @scale = 1.0, 1.0, 1.0
        @position = 2.035, 1.6, 0.0
    }

    @MODEL,3
    {
        @scale = 1.0, 1.0, 1.0
        @position = 0.0, 1.6, -2.035
    }

    @MODEL,4
    {
        @scale = 1.0, 1.0, 1.0
        @position = 0.0, 1.6, 2.035
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 1.575, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -0.907, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.91
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    @tags = ascent launch propuls proton RD-0212 RD-0213 RD-0214 rocket vac

    %engineType = RD0212
}

//  ==================================================
//  RD-0212 engine.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-0212]:AFTER[RealismOverhaulEngines]
{
    //  Configure the thrust transforms of 
    //  the main and vernier engines.

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        !THRUST_TRANSFORM,*{}

        THRUST_TRANSFORM
        {
            name = thrustTransform
            overallMultiplier = 1.0
        }

        THRUST_TRANSFORM
        {
            name = thrustTransform2
            overallMultiplier = 0.0528
        }
    }

    !MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform2]],*{}

    !MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal1]],*{}

    //  Vernier gimbal setup.

    @MODULE[ModuleGimbal]:HAS[#gimbalTransformName[gimbal]]
    {
        %gimbalRangeYP = 0
        %gimbalRangeYN = 0
        %gimbalRangeXP = 45.0
        %gimbalRangeXN = 45.0
    }
}

//  ==================================================
//  RD-253/275 engine.
//
//  Dimensions: 3.5 m x 2.8 m
//  Gross Mass: 1080 kg
//  ==================================================

@PART[RD275]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-253

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.116, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.373, 0.0, 0.0, -1.0, 0.0, 2
    @node_attach = 0.0, 0.116, 0.0, 0.0, 1.0, 0.0

    @mass = 1.08
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size2
    @tags = ascent launch propuls proton RD-253 RD-275 rocket surf

    %engineType = RD253

    @MODULE[ModuleEngines*]
    {
        !engineID = DELETE
        @minThrust = 1627.9
        @maxThrust = 1627.9
        @heatProduction = 200
        @useThrustCurve = False

        @PROPELLANT[LiquidFuel]
        {
            @name = UDMH
            @ratio = 0.4071
        }

        @PROPELLANT[Oxidizer]
        {
            @name = NTO
            @ratio = 0.5929
        }

        @atmosphereCurve
        {
            @key,0 = 0 316
            @key,1 = 1 285
        }

        !thrustCurve,*{}
    }

    @MODULE[ModuleGimbal]
    {
        %gimbalRange = 6.0
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
    }

    !RESOURCE,*{}
}

//  ==================================================
//  S5.92 engine.
//
//  Dimensions: 0.4 m x 0.96 m
//  Inert Mass: 75 kg
//  ==================================================

@PART[S5_92fversion]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-S5-92

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.158, 0.0, 0.0, 1.0, 0.0, 1
    @node_stack_bottom = 0.0, -0.747, 0.0, 0.0, -1.0, 0.0, 1

    @mass = 0.075
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size1
    @tags = ascent fregat launch propuls S.92 rocket soyuz vac zenit

    %engineType = S5_92
}

//  ==================================================
//  S5.92 engine.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-S5-92]:AFTER[RealismOverhaulEngines]
{
    //  Gas generator exhaust.
    //  The thrust values have been set to 1/100 of
    //  the nominal thrust value of the main engine.
    //  True values unknown.

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        !THRUST_TRANSFORM,*{}

        THRUST_TRANSFORM
        {
            name = thrustTransform
            overallMultiplier = 1.0
        }

        THRUST_TRANSFORM
        {
            name = tt2
            overallMultiplier = 0.01
        }
    }

    !MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[tt2]],*{}
}

//  ==================================================
//  S5.98M engine.
//
//  Dimensions: 0.425 m x 0.97 m
//  Inert Mass: 95 kg
//  ==================================================

@PART[S5_98M]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-S5-98

    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.158, 0.0, 0.0, 1.0, 0.0, 1
    @node_stack_bottom = 0.0, -0.811, 0.0, 0.0, -1.0, 0.0, 1

    @mass = 0.095
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size1
    @tags = ascent briz launch propuls proton rocket rokot S.98M vac

    %engineType = S5_98M
}

//  ==================================================
//  RD-0110 vernier engine.

//  Dimensions: 0.325 m x 0.7 m
//  Gross Mass: 10 Kg
//  ==================================================

+PART[STEERING_MOTOR_RD0110engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0110Vernier
}

@PART[RO-RealEngines-RD-0110Vernier]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    @MODEL
    {
        @scale = 1.0, 1.0, 1.0
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0

    @mass = 0.01
    @crashTolerance = 10
    %breakingForce = 250
    %breakingTorque = 250
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size0
    @tags = ascent launch propuls RD-0110 rocket soyuz vac vern

    %engineType = RD0110Vernier

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3853
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6147
        }

        @atmosphereCurve
        {
            @key,0 = 0 330
            @key,1 = 1 165
        }
    }
}

//  ==================================================
//  RD-0110 vernier engine.

//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-0110Vernier]:FOR[RealismOverhaulEnginesPost]
{
    //  Fix the wrong gimbal directions.

    @MODULE[ModuleGimbal]
    {
        @gimbalRangeXP = 25.0
        @gimbalRangeXN = 25.0
        @gimbalRangeYP = 0
        @gimbalRangeYN = 0
    }
}

//  ==================================================
//  RD-0110R vernier engine.

//  Dimensions: 0.375 m x 0.8 m
//  Gross Mass: 140 Kg
//  ==================================================


+PART[STEERING_MOTOR_RD0110engine]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0110R
}

@PART[RO-RealEngines-RD-0110R]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = DELETE

    @MODEL
    {
        @scale = 1.155, 1.155, 1.155
    }

    @scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0

    @mass = 0.14
    @crashTolerance = 10
    @maxTemp = 573.15
    %skinMaxTemp = 673.15
    %stageOffset = 1
    %childStageOffset = 1
    %stagingIcon = LIQUID_ENGINE
    @bulkheadProfiles = srf, size0
    @tags = ascent launch propuls RD-0110 rocket soyuz vac vern

    %engineType = RD0110R
}

//  ==================================================
//  RD-0110R vernier engine.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-0110R]:AFTER[RealismOverhaulEngines]
{
    //  Fix the wrong gimbal directions.

    @MODULE[ModuleGimbal]
    {
        @gimbalRangeXP = 42.0
        @gimbalRangeXN = 42.0
        @gimbalRangeYP = 0
        @gimbalRangeYN = 0
    }
}

//  ==================================================
//  KTDU-35 propulsion system.
//
//  Dimensions: 0.88 m x 1.1 m
//  Gross Mass: 305 kg
//  ==================================================

+PART[RO-RealEngines-S5-92]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-KTDU-35

    %RSSROConfig = True

    @MODEL
    {
        @scale = 1.25, 1.25, 1.25
    }

    @node_stack_top = 0.0, 0.195, 0.0, 0.0, 1.0, 0.0, 1
    @node_stack_bottom = 0.0, -0.92, 0.0, 0.0, -1.0, 0.0, 1

    @mass = 0.305
    @tags = ascent isaev KTDU-35 launch progress propuls rocket S5.35 S5.60 soyuz vac

    %engineType = KTDU35
    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]] { %engineID = MainEngine }
    @MODULE[ModuleEngines*],*
    {
        !PROPELLANT,* {}
        !atmosphereCurve {}
    }
}

//  ==================================================
//  KTDU-35 propulsion system.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-KTDU-35]:AFTER[RealismOverhaulEngines]
{
    //  Backup engine (S5.35).

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[tt2]]
    {
        %engineID = BackupEngine
        @minThrust = 4.03
        @maxThrust = 4.03
        @heatProduction = 1
        %stagingEnabled = False

        @atmosphereCurve
        {
            @key,0 = 0 270
            @key,1 = 1 100
        }
    }
}

//  ==================================================
//  NK-9 engine.
//
//  Dimensions: 1.1 m x 2.9 m
//  Gross Mass: 316 kg
//  ==================================================

+PART[RO-RealEngines-NK-33]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-NK-9

    %RSSROConfig = True

    @MODEL
    {
        @scale = 0.72, 0.72, 0.72
    }

    @node_stack_top = 0.0, 0.7822, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.6315, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.316
    @tags = ascent GR-1 icbm launch N-1 NK-9 propuls rocket surf

    %engineType = NK9

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[Kerosene]
        {
            @ratio = 0.3557
        }

        @PROPELLANT[LqdOxygen]
        {
            @ratio = 0.6443
        }

        @atmosphereCurve
        {
            @key,0 = 0 328
            @key,1 = 1 286
        }
    }
}

//  ==================================================
//  NK-9V series engine (9V/21/19/31/39).
//
//  Dimensions: 1.84 m x 3.9 m
//  Gross Mass: 450 kg
//  ==================================================

+PART[RO-RealEngines-NK-43]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-NK-9V

    %RSSROConfig = True

    @MODEL
    {
        @scale = 0.72, 0.72, 0.72
    }

    @node_stack_top = 0.0, 0.7814, 0.0, 0.0, 1.0, 0.0, 3
    @node_stack_bottom = 0.0, -2.6632, 0.0, 0.0, -1.0, 0.0, 3

    @mass = 0.45
    @bulkheadProfiles = srf, size3
    @tags = ascent launch N-1 NK-9V NK-19 NK-21 NK-31 NK-39 propuls rocket UR-700 vac

    %engineType = NK9V

    @MODULE[ModuleEngines*]
    {
        @PROPELLANT[Kerosene]
        {
            @ratio = 0.3576
        }

        @PROPELLANT[LqdOxygen]
        {
            @ratio = 0.6424
        }

        @atmosphereCurve
        {
            @key,0 = 0 345
            @key,1 = 1 240
        }
    }
}

//  ==================================================
//  RD-0105 series engine.
//
//  Dimensions: 0.76 m x 1.58 m
//  Gross Mass: 125 kg
//  ==================================================

+PART[RO-RealEngines-S5-92]:FOR[RealismOverhaul]
{
    @name = RO-RealEngines-RD-0105

    %RSSROConfig = True

    @MODEL
    {
        @scale = 1.9, 1.9, 1.9
    }

    @node_stack_top = 0.0, 0.295, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.42, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.125
    @bulkheadProfiles = srf, size2
    @tags = ascent launch luna propuls RD-0105 RD-0109 rocket vac voskhod vostok

    %engineType = RD0105

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        @minThrust = 49.4
        @maxThrust = 49.4
        @heatProduction = 51
        %ullage = True
        %pressureFed = False
        %ignitions = 1

        @PROPELLANT[UDMH]
        {
            @name = Kerosene
            @ratio = 0.3594
        }

        @PROPELLANT[NTO]
        {
            @name = LqdOxygen
            @ratio = 0.6406
        }

        @atmosphereCurve
        {
            @key,0 = 0 316
            @key,1 = 1 100
        }
    }
}

//  ==================================================
//  RD-0105 series engine.
//
//  Engine configuration.
//  ==================================================

@PART[RO-RealEngines-RD-0105]:AFTER[RealismOverhaulEngines]
{
    //  Configure the thrust transforms of 
    //  the main and vernier engines.
    //
    //  The model provides two separate
    //  vernier thrust transforms but the
    //  Blok-E had four vernier engines.
    //  So, we double the thrust available
    //  from each vernier engine (420 N
    //  for each one).

    @MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[thrustTransform]]
    {
        !THRUST_TRANSFORM,*{}

        THRUST_TRANSFORM
        {
            name = thrustTransform
            overallMultiplier = 1.0
        }

        THRUST_TRANSFORM
        {
            name = tt2
            overallMultiplier = 0.0085
        }
    }

    !MODULE[ModuleEngines*]:HAS[#thrustVectorTransformName[tt2]],*{}

    // Vernier gimbal setup.

    @MODULE[ModuleGimbal]
    {
        @gimbalTransformName = tt2
        @gimbalRange = 7.0
        !gimbalRangeYP = DELETE
        !gimbalRangeYN = DELETE
        !gimbalRangeXP = DELETE
        !gimbalRangeXN = DELETE
        %gimbalResponseSpeed = 16
    }
}
