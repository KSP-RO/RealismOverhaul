PART
{
module = Part
name = SSTU-RO-ENG-GEM60
author = Shadowmage; Rockwell

TechRequired = solids1998
entryCost = 16000
cost = 0
category = Engine
subcategory = 0
title = GEM-60/63 (Modular)
manufacturer = Orbital ATK
description = Modular GEM booster. 1.52m for GEM-60, 1.6m for GEM-63.  Can be configured for ground-lit, air-lit, and thrust vectoring variants.
RSSROConfig = True
stagingIcon = SOLID_BOOSTER
tags = booster, solid, srb, rocket, motor, engine, moar, GEM
MODEL
{
	model = SSTU/Assets/EmptyProxyModel
}
rescaleFactor = 1

// nodes/attachment 
// node position specification- posX,posY,posZ,axisX,axisY,axisZ,size
// attachment rules- stack, srfAttach, allowStack, allowSrfAttach, allowCollision
node_stack_top = 0,1,0,0,1,0,2
node_stack_bottom =  0,-1,0,0,-1,0,2
node_attach = 1.25, 0, 0, 1, 0, 0
attachRules = 1,1,1,1,0

//mass = 1
ignoreMass = false
crashTolerance = 14
maxTemp = 2000
fuelCrossFeed = True
breakingForce = 2000
breakingTorque = 2000

EFFECTS
{
	running
	{
		AUDIO
		{
			channel = Ship
			clip = sound_rocket_spurts
			volume = 0.0 0.0
			volume = 0.05 0.0
			volume = 0.075 0.25
			volume = 0.25 0.85
			volume = 1.0 1.25
			pitch = 1.0
			loop = true
		}
		PREFAB_PARTICLE
		{
			prefabName = fx_smokeTrail_veryLarge
			transformName = SSTU-MSRM-ThrustTransform
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 0.25 0.85
			emission = 1.0 1.25
			speed = 0.0 0.25
			speed = 1.0 1.0
			localOffset = 0, 0, 4
		}
		MODEL_MULTI_PARTICLE
		{
			modelName = Squad/FX/SRB_Large
			transformName = SSTU-MSRM-ThrustTransform
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 0.25 0.75
			emission = 1.0 0.85
			speed = 0.0 0.35
			speed = 1.0 0.8
			localPosition = 0, 0, 1
		}
		MODEL_PARTICLE
		{
			modelName = Squad/FX/SRB_LargeSparks
			transformName = SSTU-MSRM-ThrustTransform
			emission = 0.0 0.0
			emission = 0.05 0.0
			emission = 0.075 0.25
			emission = 0.25 0.85
			emission = 1.0 1.25
			speed = 0.0 0.5
			speed = 1.0 1.2
			localPosition = 0, 0, 2
		}
	}	
	engage
	{
		AUDIO
		{
			channel = Ship
			clip = sound_explosion_large
			volume = 1.5
			pitch = 1.0
			loop = false
		}
	}
	flameout
	{
		PREFAB_PARTICLE
		{
			prefabName = fx_exhaustSparks_flameout_2
			transformName = SSTU-MSRM-ThrustTransform
			oneShot = true
		}
		AUDIO
		{
			channel = Ship
			clip = sound_explosion_low
			volume = 1.0
			pitch = 2.0
			loop = false
		}
	}
}

MODULE
{
	name = ModuleEnginesFX
	thrustVectorTransformName = SSTU-MSRM-ThrustTransform
	engineID = SC-MSRM
	runningEffectName = running
	exhaustDamage = True
	throttleLocked = True
	allowShutdown = False
	EngineType = SolidBooster
	ignitionThreshold = 0.1
	minThrust = 1225
	maxThrust = 3212
	heatProduction = 1000
	useEngineResponseTime = True
	engineAccelerationSpeed = 8.0
	PROPELLANT
	{
		name = HTPB
		ratio = 1
		DrawGauge = True
	}
	atmosphereCurve
	{
		key = 0 267
		key = 1 245
	}
}
MODULE
{
	name = ModuleGimbal
	gimbalTransformName = SSTU-MSRM-GimbalTransform
	gimbalRange = 6
	useGimbalResponseSpeed = true
	gimbalResponseSpeed = 16
}
MODULE
{
	name = ModuleFuelTanks
	volume = 10000
	basemass = -1
	//basemass = 0.000148 * volume
	type = HTPB
}
MODULE
{
	name = SSTUModularBooster
	
	// a transform of this name will be added and positioned for the main thrust transform
	// default = empty
	thrustTransformName = SSTU-MSRM-ThrustTransform
	gimbalTransformName = SSTU-MSRM-GimbalTransform		
		
	// if true, engine max thrust will scale with the SRB size
	// default = true
	scaleMotorThrust = true
	
	// the power to use for scaling of engine thrust; 3 = cubic, 2 = square
	// default = 2
	thrustScalePower = 3
	
	// if true, nozzle mass will be scaled according to the motorMassScalePower variable
	scaleMotorMass = true
	
	// if scaleMotorMass = true, nozzle mass will be scaled according to this power (Mathf.pow(scale, power)*mass);
	motorMassScalePower = 3
	
	// if true, resources are scaled according to booster size
	// default = true
	scaleResources = true
	
	// the power to use for scaling of resources; 3 = cubic (standard), 2 = square
	// default = 3
	resourceScalePower = 3
	
	// minimum available diameter for the booster/tank
	// default = 0.625
	minDiameter = 1.52
	
	// maximum available diameter for the booster/tank
	// default = 10
	maxDiameter = 1.6
	
	// how much the diameter is changed by the main diameter adjust button in the editor
	// default = 0.625
	diameterIncrement = 0.08
	
	// if true, RealFuels will be used to update the part volume and resources rather than internal methods
	// default = false
	useRF = true
	
	// this value determines how 'scale' is treated for thrust calculations, rather than using the models diameter
	// set this to the value of your engine configs setup diameter (e.g if the real thing is 3.75m, that is what this value should be set to)
	// default = -1 (disabled)
	diameterForThrustScaling = 1.52
		
	//setup for 'defaults', differs from MFT by directly using the 'currentXX' fields, rather than a second set of fields specifically for the defaults
	//these are all -mandatory- fields, or the part will not initialize properly
	currentMainName = SRB-D-6
	currentNoseName = SRB-Nosecone-2
	currentNozzleName = Nozzle-SRB-C
	currentDiameter = 1.52
	
	//fuel type info can be found in SSTU/Data/Tanks/FuelTypes.cfg
	//FUELTYPE	
	//{
	//	name = Solid
	//}
	

	MAINMODEL
	{
		name = SRB-D-6
		engineConfig = GEM406
		minThrust = 618
		maxThrust = 1236
		volume = 88.118
		variant = GEM60
	}
	MAINMODEL
	{
		name = SRB-D-7
		engineConfig = GEM407
		minThrust = 829
		maxThrust = 1658
		volume = 96.482
		variant = GEM63
	}
	MAINMODEL
	{
		name = SRB-D-8
		engineConfig = GEM408
		minThrust = 942
		maxThrust = 1885
		volume = 116.027
		variant = GEM63XL
	}
	
	NOZZLE
	{
		name = Nozzle-SRB-E
		thrustTransformName = SC-ENG-MOUNT-SRB-E-ThrustTransform
		gimbalTransformName = SC-ENG-MOUNT-SRB-E-NOZZLE
		gimbalAdjustRange = 10
		gimbalFlightRange = 0
	}
	NOZZLE
	{
		name = Nozzle-SRB-C
		thrustTransformName = SC-ENG-MOUNT-SRB-C-ThrustTransform
		gimbalTransformName = SC-ENG-MOUNT-SRB-C-NOZZLE
		gimbalAdjustRange = 10
		gimbalFlightRange = 5
	}
	NOZZLE
	{
		name = Nozzle-SRB-B
		thrustTransformName = SC-ENG-MOUNT-SRB-B-ThrustTransform
		gimbalTransformName = SC-ENG-MOUNT-SRB-B-NOZZLE
		gimbalAdjustRange = 1
		gimbalFlightRange = 6
	}
	
	NOSE
	{
		name = Mount-Tank-Flat
	}
	NOSE
	{
		name = SRB-Nosecone-1
	}
	NOSE
	{
		name = SRB-Nosecone-2
	}
	NOSE
	{
		name = SRB-Nosecone-3
	}
	NOSE
	{
		name = SRB-Nosecone-4
	}
	NOSE
	{
		name = SRB-Nosecone-5
	}
	NOSE
	{
		name = SRB-Nosecone-6
	}
	NOSE
	{
		name = Nosecone-1
	}
	NOSE
	{
		name = Nosecone-2
	}
	NOSE
	{
		name = Nosecone-3
	}
	NOSE
	{
		name = Nosecone-4
	}
	NOSE
	{
		name = Nosecone-5
	}
	UPGRADES
	{
        UPGRADE
        {
            name__ = SSTU-MSRB-S4
        }
        UPGRADE
        {
            name__ = SSTU-MSRB-S5
        }
	}
}

MODULE
{
	name = ModuleEngineConfigs
	type = ModuleEngines
	configuration = GEM-40/Ground
	origMass = 1
	
				CONFIG
		{
			name = GEM-60/TVC
			description = The 60-inch (1.5-meter) diameter GEM 60 is used on the Delta IV in sets of two or four. When two boosters are used, both are equipped with thrust vector control (TVC). When four are used, two boosters use TVC while the other two use fixed nozzles to reduce weight. Burn time 90 seconds. Diameter: [1.52 m].
			maxThrust = 1236
			heatProduction = 100
			gimbalRange = 5.0
			massMult = 3.95
			PROPELLANT
			{
				name = HTPB
				ratio = 1.0
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 274
				key = 1 246
			}

			curveResource = HTPB

			thrustCurve
			{
				key = 0.99972 0.719
				key = 0.98539 0.939
				key = 0.97106 0.939
				key = 0.95673 0.939
				key = 0.94227 0.948
				key = 0.92769 0.956
				key = 0.91298 0.964
				key = 0.89811 0.975
				key = 0.88302 0.989
				key = 0.86785 0.995
				key = 0.85268 0.994
				key = 0.83746 0.997
				key = 0.82221 1
				key = 0.80695 1
				key = 0.7917 1
				key = 0.77644 1
				key = 0.76119 1
				key = 0.74593 1
				key = 0.73068 1
				key = 0.71543 1
				key = 0.70017 1
				key = 0.68496 0.997
				key = 0.66992 0.986
				key = 0.65513 0.969
				key = 0.6408 0.939
				key = 0.62728 0.886
				key = 0.61481 0.817
				key = 0.60293 0.779
				key = 0.59143 0.754
				key = 0.58023 0.734
				key = 0.56953 0.701
				key = 0.55909 0.685
				key = 0.5489 0.668
				key = 0.539 0.649
				key = 0.52932 0.635
				key = 0.51985 0.621
				key = 0.51063 0.604
				key = 0.50162 0.591
				key = 0.49282 0.577
				key = 0.48419 0.566
				key = 0.47573 0.555
				key = 0.46731 0.552
				key = 0.45877 0.56
				key = 0.45014 0.566
				key = 0.44143 0.571
				key = 0.43263 0.577
				key = 0.42371 0.585
				key = 0.4147 0.59
				key = 0.40561 0.596
				key = 0.39644 0.601
				key = 0.38718 0.607
				key = 0.37779 0.615
				key = 0.36832 0.621
				key = 0.35877 0.626
				key = 0.34913 0.632
				key = 0.33936 0.64
				key = 0.32951 0.646
				key = 0.31958 0.651
				key = 0.30952 0.659
				key = 0.29938 0.665
				key = 0.28915 0.67
				key = 0.2788 0.679
				key = 0.26836 0.684
				key = 0.25779 0.693
				key = 0.24714 0.698
				key = 0.23641 0.704
				key = 0.22564 0.706
				key = 0.21482 0.709
				key = 0.20392 0.715
				key = 0.19297 0.717
				key = 0.18199 0.72
				key = 0.17092 0.726
				key = 0.15981 0.728
				key = 0.14865 0.731
				key = 0.13746 0.734
				key = 0.12618 0.739
				key = 0.11494 0.737
				key = 0.10371 0.737
				key = 0.09255 0.731
				key = 0.08148 0.726
				key = 0.07054 0.717
				key = 0.05964 0.714
				key = 0.04883 0.709
				key = 0.03814 0.701
				key = 0.02754 0.695
				key = 0.01913 0.551
				key = 0.01204 0.404
				key = 0.00877 0.32
				key = 0.00682 0.20
				key = 0.00483 0.15
				key = 0.0028 0.11
				key = 0.0018 0.08
				key = 0.0005 0.05
				key = 0.0000 0.03
			}
		}

		CONFIG
		{
			name = GEM-60/Fixed
			description = The 60-inch (1.5-meter) diameter GEM 60 is used on the Delta IV in sets of two or four. When two boosters are used, both are equipped with thrust vector control (TVC). When four are used, two boosters use TVC while the other two use fixed nozzles to reduce weight. Burn time 90 seconds. Diameter: [1.52 m].
			maxThrust = 1236
			gimbalRange = 0
			heatProduction = 100
			massMult = 3.48

			PROPELLANT
			{
				name = HTPB
				ratio = 1.0
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 274
				key = 1 246
			}

			curveResource = HTPB

			thrustCurve
			{
				key = 0.99972 0.719
				key = 0.98539 0.939
				key = 0.97106 0.939
				key = 0.95673 0.939
				key = 0.94227 0.948
				key = 0.92769 0.956
				key = 0.91298 0.964
				key = 0.89811 0.975
				key = 0.88302 0.989
				key = 0.86785 0.995
				key = 0.85268 0.994
				key = 0.83746 0.997
				key = 0.82221 1
				key = 0.80695 1
				key = 0.7917 1
				key = 0.77644 1
				key = 0.76119 1
				key = 0.74593 1
				key = 0.73068 1
				key = 0.71543 1
				key = 0.70017 1
				key = 0.68496 0.997
				key = 0.66992 0.986
				key = 0.65513 0.969
				key = 0.6408 0.939
				key = 0.62728 0.886
				key = 0.61481 0.817
				key = 0.60293 0.779
				key = 0.59143 0.754
				key = 0.58023 0.734
				key = 0.56953 0.701
				key = 0.55909 0.685
				key = 0.5489 0.668
				key = 0.539 0.649
				key = 0.52932 0.635
				key = 0.51985 0.621
				key = 0.51063 0.604
				key = 0.50162 0.591
				key = 0.49282 0.577
				key = 0.48419 0.566
				key = 0.47573 0.555
				key = 0.46731 0.552
				key = 0.45877 0.56
				key = 0.45014 0.566
				key = 0.44143 0.571
				key = 0.43263 0.577
				key = 0.42371 0.585
				key = 0.4147 0.59
				key = 0.40561 0.596
				key = 0.39644 0.601
				key = 0.38718 0.607
				key = 0.37779 0.615
				key = 0.36832 0.621
				key = 0.35877 0.626
				key = 0.34913 0.632
				key = 0.33936 0.64
				key = 0.32951 0.646
				key = 0.31958 0.651
				key = 0.30952 0.659
				key = 0.29938 0.665
				key = 0.28915 0.67
				key = 0.2788 0.679
				key = 0.26836 0.684
				key = 0.25779 0.693
				key = 0.24714 0.698
				key = 0.23641 0.704
				key = 0.22564 0.706
				key = 0.21482 0.709
				key = 0.20392 0.715
				key = 0.19297 0.717
				key = 0.18199 0.72
				key = 0.17092 0.726
				key = 0.15981 0.728
				key = 0.14865 0.731
				key = 0.13746 0.734
				key = 0.12618 0.739
				key = 0.11494 0.737
				key = 0.10371 0.737
				key = 0.09255 0.731
				key = 0.08148 0.726
				key = 0.07054 0.717
				key = 0.05964 0.714
				key = 0.04883 0.709
				key = 0.03814 0.701
				key = 0.02754 0.695
				key = 0.01913 0.551
				key = 0.01204 0.404
				key = 0.00877 0.32
				key = 0.00682 0.20
				key = 0.00483 0.15
				key = 0.0028 0.11
				key = 0.0018 0.08
				key = 0.0005 0.05
				key = 0.0000 0.03
			}
		}
		CONFIG
		{
			name = GEM-63
			description = In 2015, ULA announced that Orbital ATK had been contracted to develop the GEM 63 as a drop-in replacement for the AJ-60A, and would replace Aerojet Rocketdyne as their Atlas V SRM supplier by the end of 2018. The GEM 63 will be larger than the GEM 60 SRMs used on the Delta IV and will not be equipped with thrust vectoring. As with the AJ-60A, launches using the four-meter fairing will be able to be equipped with up to three boosters while up to five boosters can be used with the five-meter fairing. 
			maxThrust = 1658
			heatProduction = 100
			gimbalRange = 5.0
			massMult = 4.9
			PROPELLANT
			{
				name = HTPB
				ratio = 1
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 275
				key = 1 250
			}
			curveResource = HTPB
			thrustCurve
			{
				key = 0.99972 0.719
				key = 0.98539 0.939
				key = 0.97106 0.939
				key = 0.95673 0.939
				key = 0.94227 0.948
				key = 0.92769 0.956
				key = 0.91298 0.964
				key = 0.89811 0.975
				key = 0.88302 0.989
				key = 0.86785 0.995
				key = 0.85268 0.994
				key = 0.83746 0.997
				key = 0.82221 1
				key = 0.80695 1
				key = 0.7917 1
				key = 0.77644 1
				key = 0.76119 1
				key = 0.74593 1
				key = 0.73068 1
				key = 0.71543 1
				key = 0.70017 1
				key = 0.68496 0.997
				key = 0.66992 0.986
				key = 0.65513 0.969
				key = 0.6408 0.939
				key = 0.62728 0.886
				key = 0.61481 0.817
				key = 0.60293 0.779
				key = 0.59143 0.754
				key = 0.58023 0.734
				key = 0.56953 0.701
				key = 0.55909 0.685
				key = 0.5489 0.668
				key = 0.539 0.649
				key = 0.52932 0.635
				key = 0.51985 0.621
				key = 0.51063 0.604
				key = 0.50162 0.591
				key = 0.49282 0.577
				key = 0.48419 0.566
				key = 0.47573 0.555
				key = 0.46731 0.552
				key = 0.45877 0.56
				key = 0.45014 0.566
				key = 0.44143 0.571
				key = 0.43263 0.577
				key = 0.42371 0.585
				key = 0.4147 0.59
				key = 0.40561 0.596
				key = 0.39644 0.601
				key = 0.38718 0.607
				key = 0.37779 0.615
				key = 0.36832 0.621
				key = 0.35877 0.626
				key = 0.34913 0.632
				key = 0.33936 0.64
				key = 0.32951 0.646
				key = 0.31958 0.651
				key = 0.30952 0.659
				key = 0.29938 0.665
				key = 0.28915 0.67
				key = 0.2788 0.679
				key = 0.26836 0.684
				key = 0.25779 0.693
				key = 0.24714 0.698
				key = 0.23641 0.704
				key = 0.22564 0.706
				key = 0.21482 0.709
				key = 0.20392 0.715
				key = 0.19297 0.717
				key = 0.18199 0.72
				key = 0.17092 0.726
				key = 0.15981 0.728
				key = 0.14865 0.731
				key = 0.13746 0.734
				key = 0.12618 0.739
				key = 0.11494 0.737
				key = 0.10371 0.737
				key = 0.09255 0.731
				key = 0.08148 0.726
				key = 0.07054 0.717
				key = 0.05964 0.714
				key = 0.04883 0.709
				key = 0.03814 0.701
				key = 0.02754 0.695
				key = 0.01913 0.551
				key = 0.01204 0.404
				key = 0.00877 0.32
				key = 0.00682 0.20
				key = 0.00483 0.15
				key = 0.0028 0.11
				key = 0.0018 0.08
				key = 0.0005 0.05
				key = 0.0000 0.03
			}
		}
		CONFIG
		{
			name = GEM-63XL
			maxThrust = 1885
			heatProduction = 100
			gimbalRange = 5.0
			massMult = 5.6
			PROPELLANT
			{
				name = HTPB
				ratio = 1
				DrawGauge = True
			}
			atmosphereCurve //same as AJ-60A
			{
				key = 0 275
				key = 1 250
			}
			curveResource = HTPB
			thrustCurve
			{
				key = 0.99972 0.719
				key = 0.98539 0.939
				key = 0.97106 0.939
				key = 0.95673 0.939
				key = 0.94227 0.948
				key = 0.92769 0.956
				key = 0.91298 0.964
				key = 0.89811 0.975
				key = 0.88302 0.989
				key = 0.86785 0.995
				key = 0.85268 0.994
				key = 0.83746 0.997
				key = 0.82221 1
				key = 0.80695 1
				key = 0.7917 1
				key = 0.77644 1
				key = 0.76119 1
				key = 0.74593 1
				key = 0.73068 1
				key = 0.71543 1
				key = 0.70017 1
				key = 0.68496 0.997
				key = 0.66992 0.986
				key = 0.65513 0.969
				key = 0.6408 0.939
				key = 0.62728 0.886
				key = 0.61481 0.817
				key = 0.60293 0.779
				key = 0.59143 0.754
				key = 0.58023 0.734
				key = 0.56953 0.701
				key = 0.55909 0.685
				key = 0.5489 0.668
				key = 0.539 0.649
				key = 0.52932 0.635
				key = 0.51985 0.621
				key = 0.51063 0.604
				key = 0.50162 0.591
				key = 0.49282 0.577
				key = 0.48419 0.566
				key = 0.47573 0.555
				key = 0.46731 0.552
				key = 0.45877 0.56
				key = 0.45014 0.566
				key = 0.44143 0.571
				key = 0.43263 0.577
				key = 0.42371 0.585
				key = 0.4147 0.59
				key = 0.40561 0.596
				key = 0.39644 0.601
				key = 0.38718 0.607
				key = 0.37779 0.615
				key = 0.36832 0.621
				key = 0.35877 0.626
				key = 0.34913 0.632
				key = 0.33936 0.64
				key = 0.32951 0.646
				key = 0.31958 0.651
				key = 0.30952 0.659
				key = 0.29938 0.665
				key = 0.28915 0.67
				key = 0.2788 0.679
				key = 0.26836 0.684
				key = 0.25779 0.693
				key = 0.24714 0.698
				key = 0.23641 0.704
				key = 0.22564 0.706
				key = 0.21482 0.709
				key = 0.20392 0.715
				key = 0.19297 0.717
				key = 0.18199 0.72
				key = 0.17092 0.726
				key = 0.15981 0.728
				key = 0.14865 0.731
				key = 0.13746 0.734
				key = 0.12618 0.739
				key = 0.11494 0.737
				key = 0.10371 0.737
				key = 0.09255 0.731
				key = 0.08148 0.726
				key = 0.07054 0.717
				key = 0.05964 0.714
				key = 0.04883 0.709
				key = 0.03814 0.701
				key = 0.02754 0.695
				key = 0.01913 0.551
				key = 0.01204 0.404
				key = 0.00877 0.32
				key = 0.00682 0.20
				key = 0.00483 0.15
				key = 0.0028 0.11
				key = 0.0018 0.08
				key = 0.0005 0.03
				key = 0.0000 0.005
			}
		}
	}
	
}
