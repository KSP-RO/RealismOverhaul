// Patch all the Bonanza-related stuff in SXT to model a Bonanza G36.
// Main diameter 1.2m
@PART[SXTTinyprop]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODEL
	{
		%scale = 2.0256, 2.0256, 2.0256
		%position = 0.0, -0.6, 0.0
	}
	@rescaleFactor = 1.0
	@node_stack_top = 0.0, -0.6, 0.0, 0.0, -1.0, 0.0, 1
	@title = IO-550-B Piston Engine
	@manufacturer = Continental
	@description = Fuel-injected air-cooled horizontally-opposed six-cylinder aero engine. 300HP at 2700RPM at sea level.
	
	@mass = 0.26 // 65kg for housing and prop seems about right, prop is about 40-50kg?
	@crashTolerance = 5
	@maxTemp = 405
	%skinMaxTemp = 415
	
	@MODULE[ModuleEngine*]
	{
		@maxThrust = 5.0
		@PROPELLANT[LiquidFuel]
		{
			@name=AvGas
		}
		@PROPELLANT[Kerosene]
		{
			@name=AvGas
		}
		
		// New prop
		%gearratio = 0.96
		%propName = 80inCS
	}
	// engine stats done by AJE now
	@MODULE[ModuleAlternator]
	{
		@RESOURCE[ElectricCharge]
		{
			@rate = 2.0
		}
	}
	!MODULE[ModuleResourceIntake]
	{
	}
	@MODULE[FSplanePropellerSpinner]
	{
		%windmillRPM = 0.01
		%spinUpTime = 0.25
	}
}
@PART[SXTTinyProp]:FOR[zzzRealismOverhaul] // because AJE un-fixes it on final >.>
{
	@MODULE[ModuleEngines*]
	{
		@PROPELLANT[LiquidFuel]
		{
			@name=AvGas
		}
		@PROPELLANT[Kerosene]
		{
			@name=AvGas
		}
	}
}

// Bonny cockpit (the Beech Bonanza cabin)
@PART[625mBonny]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODEL
	{
		%scale = 1.92, 1.7536, 1.92
		%position = 0.0, -1.2, 0.0
	}
	@node_stack_top = 0.0, 0.8248, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -2.97132, 0.0, 0.0, -1.0, 0.0, 1
	@node_attach = 0.0, 0.0, 0.9984, 0.0, 0.0, -1.0, 1
	@title = Bonanza Cabin
	@manufacturer = Beechcraft
	@description = Cabin section for the Beechcraft Bonanza
	@mass = 0.3
	@crashTolerance = 5
	@maxTemp = 405
	%skinMaxTemp = 415
	//@CrewCapacity = 6
	
	@RESOURCE[ElectricCharge]
	{
		@amount = 7200
		@maxAmount = 7200 
	}
	@MODULE[ModuleCommand]
	{
		!RESOURCE,* {}
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.5
		}
	}
	!MODULE[ModuleFuelTanks] {}
	MODULE
	{
		name = ModuleFuelTanks
		type = Structural
		basemass = -1
		volume = 400 // some fuel storage, and gets around a TACLS issue.
	}
}
@PART[625mBonny]:FOR[zzzRealismOverhaul] // FIXME run after TACLS...
{
	!RESOURCE[Food] {}
	!RESOURCE[Water] {}
	!RESOURCE[Oxygen] {}
	!RESOURCE[CarbonDioxide] {}
	!RESOURCE[Waste] {}
	!RESOURCE[WasteWater] {}
	// 12hrs for 6 people
	RESOURCE
    {
        name = Food
		amount = 35.1
		maxAmount = 35.1
	}
	RESOURCE
	{
		name = Water
		amount = 23.2
		maxAmount = 23.2
	}
}

// Bonanza IVA
@INTERNAL[BonnyInternals]:FOR[RealismOverhaul]
{
        %scaleAll = 1.9, 1.9, 1.8
	%offset = 0, 0, 0.55
        @MODULE[InternalSeat],*
        {
                %kerbalScale = 1.4, 1.4, 1.45
                %kerbalOffset = 0.0, -0.1, 0.0
                %kerbalEyeOffset = 0.0, 0.0, 0.0
        }
}

// Tail for the Bonny
@PART[LMiniAircaftTail]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	@MODEL
	{
		%scale = 2.0256, 1.7, 2.0256
	}
	!CoMOffset = DEL
	@rescaleFactor = 1.0
	@node_stack_top = 0.0, 0.77945, 0.0, 0.0, 1.0, 0.0, 1
	@title = Bonanza Tail
	@manufacturer = Beechcraft
	@description = Tail section of the Beechcraft Bonanza.
	@mass = 0.05
	@crashTolerance = 5
	@maxTemp = 405
	%skinMaxTemp = 415
	
	!RESOURCE[LiquidFuel] {}
}

// Prop (temp)
PROPELLER
{
	name = 80inCS
	// RX5/2? 10ft 10in
	ixxFTLB = 4.38
	diameterIN = 80
	numblades = 3
	
	minpitch = 12
	maxpitch = 45
	
	ct_factor = 1.0
	cp_factor = 1.0
	
	cThrust
	{
		key =           -10        0         15        25        35        45        55        65       90
		key = -0.2      -0.0580    0.0327    0.1189    0.1457    0.1606    0.1695    0.1562    0.1338   0.0000
		key = 0.0      -0.0862    0.0000    0.1189    0.1457    0.1606    0.1710    0.1599    0.1338   0.0000
		key = 0.2      -0.0967   -0.0297    0.1027    0.1427    0.1583    0.1710    0.1599    0.1338   0.0000
		key = 0.4      -0.0967   -0.0691    0.0773    0.1413    0.1553    0.1695    0.1599    0.1338   0.0000
		key = 0.6      -0.0967   -0.0967    0.0409    0.1272    0.1487    0.1651    0.1576    0.1338   0.0000
		key = 0.8      -0.0967   -0.0967    0.0023    0.0952    0.1443    0.1592    0.1576    0.1338   0.0000
		key = 1.0      -0.0967   -0.0967   -0.0387    0.0580    0.1383    0.1509    0.1562    0.1338   0.0000
		key = 1.2      -0.0967   -0.0967   -0.0796    0.0178    0.1137    0.1457    0.1562    0.1338   0.0000
		key = 1.4      -0.0967   -0.0967   -0.0967   -0.0260    0.0818    0.1435    0.1532    0.1338   0.0000
		key = 1.6      -0.0967   -0.0967   -0.0967   -0.0661    0.0446    0.1383    0.1502    0.1338   0.0000
		key = 1.8      -0.0967   -0.0967   -0.0967   -0.0967    0.0075    0.1189    0.1457    0.1338   0.0000
		key = 2.0      -0.0967   -0.0967   -0.0967   -0.0967   -0.0297    0.0929    0.1451    0.1338   0.0000
		key = 2.2      -0.0967   -0.0967   -0.0967   -0.0967   -0.0670    0.0670    0.1427    0.1338   0.0000
		key = 2.4      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967    0.0357    0.1166    0.1338   0.0000
		key = 2.6      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967    0.0045    0.0737    0.1189   0.0000
		key = 2.8      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0268    0.0483    0.0967   0.0000
		key = 3.0      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0580    0.0253    0.0743   0.0000
		key = 3.2      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0892    0.0023    0.0521   0.0000
		key = 3.4      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0208    0.0297   0.0000
		key = 3.6      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0439    0.0075   0.0000
		key = 3.8      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0670   -0.0149   0.0000
		key = 4.0      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0899   -0.0372   0.0000
		key = 6.0      -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   -0.0967   0.0000
	}
	cPower
	{
		key =          -10        0        15        25        35        45        55        65       90
		key = -0.2      0.0085   0.0170    0.0596    0.1353    0.2333    0.3318    0.3829    0.4237   0.4237
		key = 0.0      0.0341   0.0085    0.0511    0.1261    0.2231    0.3318    0.3844    0.4237   0.4237
		key = 0.2      0.0485   0.0136    0.0494    0.1174    0.2134    0.3318    0.3844    0.4237   0.4237
		key = 0.4      0.0653   0.0298    0.0425    0.1082    0.2027    0.3318    0.3844    0.4237   0.4237
		key = 0.6      0.0801   0.0451    0.0281    0.1006    0.1899    0.3252    0.3829    0.4237   0.4237
		key = 0.8      0.0944   0.0604    0.0085    0.0853    0.1787    0.3104    0.3829    0.4237   0.4237
		key = 1.0      0.1087   0.0750    0.0085    0.0597    0.1685    0.2946    0.3813    0.4237   0.4237
		key = 1.2      0.1235   0.0600   -0.0281    0.0230    0.1491    0.2823    0.3788    0.4237   0.4237
		key = 1.4      0.1378   0.1036   -0.0424   -0.0170    0.1149    0.2782    0.3742    0.4237   0.4237
		key = 1.6      0.1521   0.1184   -0.0495   -0.0511    0.0725    0.2706    0.3660    0.4084   0.4237
		key = 1.8      0.1669   0.1327   -0.0511   -0.0853    0.0213    0.2399    0.3548    0.3997   0.4237
		key = 2.0      0.1812   0.1470   -0.0653   -0.1189   -0.0255    0.2042    0.3380    0.3916   0.4237
		key = 2.2      0.1955   0.1618   -0.0801   -0.1532   -0.0766    0.1659    0.3277    0.3742   0.4237
		key = 2.4      0.2103   0.1761   -0.0944   -0.1874   -0.1276    0.1184    0.3180    0.3660   0.4237
		key = 2.6      0.2246   0.1904   -0.1087   -0.2210   -0.1618    0.0495    0.3104    0.3533   0.4237
		key = 2.8      0.2389   0.2052   -0.1235   -0.2553   -0.1940   -0.0168    0.3038    0.3487   0.4237
		key = 3.0      0.2537   0.2195   -0.1378   -0.2895   -0.2297   -0.0766    0.2935    0.3487   0.4237
		key = 3.2      0.2680   0.2338   -0.1521   -0.3232   -0.2639   -0.1363    0.2747    0.3405   0.4237
		key = 3.4      0.2823   0.2486   -0.1669   -0.3574   -0.2976   -0.1955    0.2129    0.3318   0.4237
		key = 3.6      0.2971   0.2629   -0.1812   -0.3916   -0.3318   -0.2553    0.1496    0.3232   0.4237
		key = 3.8      0.3114   0.2772   -0.1955   -0.4237   -0.3660   -0.3150    0.0832    0.3129   0.4237
		key = 4.0      0.3257   0.2920   -0.2103   -0.4237   -0.4237   -0.3742    0.0168    0.2895   0.4237
		key = 6.0      0.4237   0.4237   -0.4237   -0.4237   -0.4237   -0.4237   -0.4237   -0.2553   0.4237
	}
	CtMach
	{
		key = 0.00	0.842696629213483	0	0.0234082397003745
		key = 0.20	0.856741573033708	0.0195068664169787	0.0195068664169787
		key = 0.30	0.861423220973783	0.0234082397003745	0.0234082397003745
		key = 0.40	0.870786516853932	0.0421348314606744	0.0421348314606744
		key = 0.50	0.886704119850187	0.0546192259675406	0.0546192259675406
		key = 0.60	0.903558052434457	0.08270911360799	0.08270911360799
		key = 0.70	0.936329588014981	0.124843945068664	0.124843945068664
		key = 0.80	0.978464419475655	0.142009987515606	0.142009987515606
		key = 0.85	1	0.118601747815231	0.118601747815231
		key = 0.90	1.01404494382022	0.0780274656679147	0.0780274656679147
		key = 1.00	1.03277153558052	0.0184893795736189	0.0184893795736189
		key = 1.10	1.0251385715644	-0.210174781523096	-0.210174781523096
		key = 1.20	0.906666666666666	-0.344191284301942	-0.344191284301942
		key = 1.30	0.81862380098323	-0.26145732589251	-0.26145732589251
		key = 1.40	0.749792271131161	-0.130210932348614	-0.130210932348614
		key = 2.00	0.694022093788567	0.0423434585538823	0
	}
	CpMach
	{
		key = 0.00	1.04651162790698	0	-0.116279069767442
		key = 0.20	0.976744186046512	-0.166666666666667	-0.166666666666667
		key = 0.30	0.911627906976744	-0.162790697674419	-0.162790697674419
		key = 0.40	0.87906976744186	-0.0891472868217053	-0.0891472868217053
		key = 0.50	0.858139534883721	-0.0426356589147285	-0.0426356589147285
		key = 0.60	0.853488372093023	0.0310077519379842	0.0310077519379842
		key = 0.70	0.876744186046512	0.166666666666667	0.166666666666667
		key = 0.80	0.953488372093023	0.282945736434108	0.282945736434108
		key = 0.85	1	0.387596899224806	0.387596899224806
		key = 0.90	1.06976744186047	0.531007751937985	0.531007751937985
		key = 1.00	1.24883720930233	0.657697024281232	0.657697024281232
		key = 1.10	1.4643856564292	0.136460183329593	0.136460183329593
		key = 1.20	1.33071331930008	-0.323080519484897	-0.323080519484897
		key = 1.30	1.27053734473827	-0.160805743559837	-0.160805743559837
		key = 1.40	1.23422987316418	-0.0849100585751092	-0.0849100585751092
		key = 2.00	1.14639849173831	0.0711356016932285	0.0711356016932285
	}
	MachDrag
	{
		key = 0.00	0.0	0.0	0.0
		key = 0.65	0.0	0.0	0.0
		key = 0.80	0.671544715447154	0.18970189701897	0.18970189701897
		key = 0.85	0.7	0.318428184281844	0.318428184281844
		key = 0.90	0.76707317073171	0.447154471544717	0.447154471544717
		key = 0.95	0.83414634146341	0.535230352303524	0.535230352303524
		key = 1.00	0.92764227642276	0.62330623306233	0.62330623306233
		key = 1.05	1.02113821138211	0.259381511205548	0.259381511205548
		key = 1.10	1.00545672978443	-0.210457807713866	-0.210457807713866
		key = 1.15	0.95800086906795	0.0	0.0
	}
}
