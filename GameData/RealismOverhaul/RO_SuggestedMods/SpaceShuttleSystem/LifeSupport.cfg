@PART[SHUTTLE_Fuselase_Radiator|ShuttleCargo]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
	!MODULE[TacGenericConverter],*{}

    //  LOX to GOX converter. Converts the liquid oxygen into gas oxygen for
    //  the life support system.

    MODULE
    {
        name = TacGenericConverter
        converterName = LOX to GOX Converter
        tag = Life Support
        StartActionName = Start LOX to GOX Converter
        StopActionName = Stop LOX to GOX Converter
        conversionRate = 6.0
        GeneratesHeat = False
        UseSpecialistBonus = False

        INPUT_RESOURCE
        {
            ResourceName = LqdOxygen
            Ratio = 0.0000154599
            FlowMode = STAGE_PRIORITY_FLOW
        }

        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.05
        }

        OUTPUT_RESOURCE
        {
            ResourceName = Oxygen
            Ratio = 0.0125104279
            DumpExcess = False
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }
}

@PART[Space_Shuttle_Crew|Space_Shuttle_Crew_Analog|ShuttleCabin]:FOR[RealismOverhaul]:NEEDS[TacLifeSupport]
{
	@MODULE[ModuleFuelTanks]
	{
		@volume += 1324.2
		
		//https://science.ksc.nasa.gov/shuttle/technology/sts-newsref/sts-eclss-wcl.html#sts-eclss-water
		//Each of the four potable water tanks has a usable capacity of 74.8 kg -> 299,2 liters
		//only filled to 20 liters as on orbit water is generated by the fuel cells
		TANK
        {
            name = Water
            amount = 20
            maxAmount = 299.2
        }
		
		TANK
		{
			name = Food
            amount = 732
            maxAmount = 732
		}
		
		TANK
        {
            name = LithiumHydroxide
            amount = 100.8
            maxAmount = 100.8
        }
		
		TANK
        {
            name = Oxygen
            amount = 5000
            maxAmount = 5000
        }
		
		//https://science.ksc.nasa.gov/shuttle/technology/sts-newsref/sts-eclss-wcl.html#sts-eclss-waste
		TANK
        {
            name = WasteWater
            amount = 0
            maxAmount = 74.8
        }

        TANK
        {
            name = Waste
            amount = 0
            maxAmount = 67
        }
		
		TANK
        {
            name = CarbonDioxide
            amount = 0
            maxAmount = 5000
        }
	}
	
	!MODULE[TacGenericConverter],*{}

    MODULE
    {
        name = TacGenericConverter
        converterName = CO2 LiOH Scrubber
        tag = Life Support
        StartActionName = Start CO2 Scrubber
        StopActionName = Stop CO2 Scrubber
        conversionRate = 7.0
        GeneratesHeat = False
        UseSpecialistBonus = False

        INPUT_RESOURCE
        {
            ResourceName = CarbonDioxide
            Ratio = 0.006216
            FlowMode = STAGE_PRIORITY_FLOW
        }

        INPUT_RESOURCE
        {
            ResourceName = ElectricCharge
            Ratio = 0.1
        }

        INPUT_RESOURCE
        {
            ResourceName = LithiumHydroxide
            Ratio = 0.00001189
            FlowMode = STAGE_PRIORITY_FLOW
        }

        OUTPUT_RESOURCE
        {
            ResourceName = Waste
            Ratio = 0.00003932
            DumpExcess = False
            FlowMode = STAGE_PRIORITY_FLOW
        }
    }
}