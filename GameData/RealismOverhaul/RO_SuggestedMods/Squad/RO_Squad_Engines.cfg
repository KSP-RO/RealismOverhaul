//  ==================================================
//  RD-253 (booster engine).
//  ==================================================

+PART[engineLargeSkipper]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
    %name = RO-RD-253
}

@PART[RO-RD-253]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineSkipper/model
		scale = 1.82, 1.82, 1.82
	}

    %scale = 1.0
	@rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.02, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -3.74, 0.0, 0.0, -1.0, 0.0, 2
	%node_attach = 0.0, 0.02, 0.0, 0.0, 1.0, 0.0, 2

	%mass = 1.28
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = RD253
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 1635
		@maxThrust = 1635
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.4071
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.5929
		}

		@atmosphereCurve
		{
			@key,0 = 0 316
			@key,1 = 1 285
		}
	}
}

//  ==================================================
//  RD-253 (booster engine).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[RO-RD-253]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/SkipperB
	}
}

//  ==================================================
//  RL10 (vacuum engine).
//  ==================================================

@PART[engineLargeSkipper]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineSkipper/model
		scale = 0.8415, 0.8415, 0.8415
	}

    %scale = 1.0
	@rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.01, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.725, 0.0, 0.0, -1.0, 0.0, 2
	%node_attach = 0.0, 0.01, 0.0, 0.0, 1.0, 0.0, 2

	%mass = 0.167
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = RL10
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 65.6
		%minThrust = 65.6
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 444
			@key,1 = 1 255
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.763
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.237
		}
	}
}

//  ==================================================
//  RL10 (vacuum engine).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[engineLargeSkipper]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/SkipperB
	}
}

//  ==================================================
//  NSTAR (ion engine).
//  ==================================================

@PART[ionEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/ionEngine/model
		scale = 1.0, 1.0, 1.0
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.195, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -0.185, 0.0, 0.0, -1.0, 0.0, 1

	@category = Engine

	@mass = 0.0495
    @crashTolerance = 10
	@maxTemp = 673.15
    %skinMaxTemp = 673.15

    %engineType = NSTAR
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 0.000019
		@maxThrust = 0.000092
		@heatProduction = 0	

		!PROPELLANT[ElectricCharge]
		{
		}

		@PROPELLANT[XenonGas]
		{
			@ratio = 1.0
		}

		@atmosphereCurve
		{
			@key,0 = 0 3280
			@key,1 = 1 1
		}
	}

	!MODULE[ElectricEngineThrustLimiter]{}

	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = -2.3
		}
	}
}

//  ==================================================
//  LR105 (sustainer engine).
//  ==================================================

@PART[liquidEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-T30/model
		scale = 1.9, 1.9, 1.9
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 1.44, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -1.375, 0.0, 0.0, -1.0, 0.0, 2

	@mass = 0.46 // I think 844kg was for the engine + tank.
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = LR105
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@maxThrust = 366.1
		@minThrust = 366.1
		@heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 311
			@key,1 = 1 215
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.382
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.618
		}
	}

    //  Placeholder gimbal module.

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
	}
}

//  ==================================================
//  LR79 (booster engine).
//  ==================================================

@PART[liquidEngine1-2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = RealismOverhaul/Parts/Engines/OldVSRMainsail/Mainsail
		scale = 0.69, 0.69, 0.69
	}

    @scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.775, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.4, 0.0, 0.0, -1.0, 0.0, 2

	@mass = 0.907
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = LR79
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 947
		%minThrust = 947
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 289
			@key,1 = 1 255
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.3842
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.6158
		}
	}
	
	@MODULE[ModuleGimbal]
	{
		!gimbalRange = DEL // just in case
		%gimbalTransformName = thrustTransform
		%gimbalRange = 10
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
}
+PART[liquidEngine1-2]:FOR[RealismOverhaul]
{
	@name = RO-E1
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = RealismOverhaul/Parts/Engines/OldVSRMainsail/Mainsail
		scale = 0.69, 0.69, 0.69
	}

    @scale = 1.0
	%rescaleFactor = 1.4

	@node_stack_top = 0.0, 0.775, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.4, 0.0, 0.0, -1.0, 0.0, 2
	
	@title = E1
	%manufacturer = Rocketdyne
    %description = Backup Proposal for the first stage engine on the Titan 1 ICBM, and proposed first stage engine on the Saturn 1 but ultimately never flown. Diameter: [2.14 m].
	
	@mass = 1.264
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = E1
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False
	
	@MODULE[ModuleGimbal]
	{
		!gimbalRange = DEL // just in case
		%gimbalTransformName = thrustTransform
		%gimbalRange = 10
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
}

//  ==================================================
//  H-1/RS-27 (booster engine).
//  ==================================================

+PART[liquidEngine1-2]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
    @name = RO-H1-RS27
}

@PART[RO-H1-RS27]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    !MODEL,*{}

    MODEL
    {
        model = RealismOverhaul/Parts/Engines/OldVSRMainsail/Mainsail
        scale = 0.69, 0.69, 0.69
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.775, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.4, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.907
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = H1
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @maxThrust = 947
        @minThrust = 947
        @heatProduction = 100

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3842
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6158
        }

        @atmosphereCurve
        {
            @key,0 = 0 289
            @key,1 = 1 255
        }
    }
	@MODULE[ModuleGimbal]
	{
		!gimbalRange = DEL // just in case
		%gimbalTransformName = thrustTransform
		%gimbalRange = 10
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
}

//  ==================================================
//  LR89 (booster engine).
//  ==================================================

+PART[liquidEngine1-2]:BEFORE[RealismOverhaul]
{
	@name = RO-LR-89
}

@PART[RO-LR-89]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = RealismOverhaul/Parts/Engines/OldVSRMainsail/Mainsail
		scale = 0.6755, 0.6755, 0.6755
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.735, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.235, 0.0, 0.0, -1.0, 0.0, 2

	@mass = 0.72
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = LR89
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 758.7
		%minThrust = 758.7
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 282
			@key,1 = 1 248
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.382
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.618
		}
	}
	@MODULE[ModuleGimbal]
	{
		!gimbalRange = DEL // just in case
		%gimbalTransformName = thrustTransform
		%gimbalRange = 10
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
}

//  ==================================================
//  S1.5400/11D33, RD-58 (vacuum engine).
//  ==================================================

@PART[liquidEngine2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-T45/model
		scale = 1.625, 1.625, 1.625
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 1.21, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.315, 0.0, 0.0, -1.0, 0.0, 1
	%node_attach = 0.0, 1.21, 0.0, 0.0, 1.0, 0.0

	@mass = 0.15
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = RD58
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 63.7
		%minThrust = 63.7
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 338.6
			@key,1 = 1 100
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.359
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.641
		}
	}
}

//  ==================================================
//  RD-0210 (booster engine).
//  ==================================================

+PART[liquidEngine2-2]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
    @name = RO-RD-0210
}

@PART[RO-RD-0210]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEnginePoodle/model
		scale = 1.2, 1.2, 1.2
	}

    %scale = 1.0
	@rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.855, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -0.835, 0.0, 0.0, -1.0, 0.0, 2

	%mass = 0.566
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = RD0210
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 582.1
		@maxThrust = 582.1
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.4135
			%DrawGauge = True
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.5865
		}

		@atmosphereCurve
		{
			@key,0 = 0 327
			@key,1 = 1 225
		}
	}
}

//  ==================================================
//  LMDE (vacuum engine).
//  ==================================================

@PART[liquidEngine2-2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEnginePoodle/model
		scale = 1.2, 1.2, 1.2
	}

    %scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.855, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -0.835, 0.0, 0.0, -1.0, 0.0, 2

	%mass = 0.135
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = LMDE
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%minThrust = 4.67
		%maxThrust = 43.9
		%heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
			@ratio = 0.5017
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.4983
		}

		@atmosphereCurve
		{
			@key,0 = 0 311
			@key,1 = 1 100
		}
	}
}

//  ==================================================
//  RD-0105/0109 (vacuum engine).
//  ==================================================

@PART[liquidEngine3]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-909/model
		scale = 2.0, 2.0, 2.0
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.46, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -0.825, 0.0, 0.0, -1.0, 0.0, 2

	%mass = 0.125
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = RD0105
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%minThrust = 49.4
		%maxThrust = 49.4
		%heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.3594
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.6406
		}

		@atmosphereCurve
		{
			@key,0 = 0 316
			@key,1 = 1 100
		}
	}
}

//  ==================================================
//  RD-0105/0109 (vacuum engine).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[liquidEngine3]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV909
	}
}

//  ==================================================
//  LMAE (vacuum engine).
//  ==================================================

@PART[liquidEngineMini]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngine48-7S/model
		scale = 2.0, 4.1, 2.0
	}

    %scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -1.605, 0.0, 0.0, -1.0, 0.0, 2

	%mass = 0.095
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = LMAE
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 15.57
		%minThrust = 15.57
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 311
			@key,1 = 1 100
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
			@ratio = 0.5017
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.4983
		}
	}
}

//  ==================================================
//  TD-339 (vernier engine).
//  ==================================================

+PART[microEngine]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = RO-SurveyorVernier
}

@PART[RO-SurveyorVernier]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

	@mass = 0.009 // 2.66kg for the engine alone, but for RCS we over-mass for control systems and bladder/surface-tension tanks.
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	%engineType = TD339
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0.134
        @maxThrust = 0.463
        @heatProduction = 100

        @PROPELLANT[LiquidFuel]
        {
            @name = MMH
            @ratio = 0.516
        }

        @PROPELLANT[Oxidizer]
        {
            @name = MON10
            @ratio = 0.484
        }

        @atmosphereCurve
        {
            @key = 0 287
            @key = 1 100
        }
    }
}

//  ==================================================
//  TD-339 (vernier engine).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[RO-SurveyorVernier]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV-1B
	}

    !node_stack_top2 = NULL

    !MODULE[ModuleJettison]:HAS[#jettisonName[Size1B]]{}
}

//  ==================================================
//  Generic 1 kN thruster.

//  Not using engineType, this engine is virtually
//  an RCS thruster.
//  ==================================================

@PART[microEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	%title = 1kN Thruster
	%manufacturer = Generic
	%description = Thruster for orbital maneuvers, similar to ones used in the Galileo probe.

	%mass = 0.015
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	%useRcsConfig = RCSBlock4x
	%useRcsCostMult = 0.25
	%useRcsMass = True

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 1.618
		%minThrust = 1.618
		%heatProduction = 17.5
		%ullage = False
		%pressureFed = True
        %ignitions = -1

		@atmosphereCurve
		{
			@key,0 = 0 321
			@key,1 = 1 112
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = MMH
			@ratio = 0.504
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.496
		}

		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.01
		}
	}
}

//  ==================================================
//  Generic 1 kN thruster.

//  TestFlight compatibility.
//  ==================================================

@PART[microEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = ColdGasRCS
		mainConfiguration = engineConfig = Helium,engineConfig = Nitrogen:ColdGasRCS
		ratedBurnTime = 1200
		ignitionReliabilityStart = 0.98
		ignitionReliabilityEnd = 0.999
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.98
		cycleReliabilityEnd = 0.999
		reliabilityDataRateMultiplier = 0.1
		techTransfer = NitrousOxide,HTP,Hydrazine,Cavea-B,MMH+NTO,UDMH+NTO,Aerozine50+NTO:50
	}

	TESTFLIGHT
	{
		name = MonopropellantRCS
		mainConfiguration = engineConfig = NitrousOxide,engineConfig = HTP,engineConfig = Hydrazine,engineConfig = Cavea-B:MonopropellantRCS
		ratedBurnTime = 1200
		ignitionReliabilityStart = 0.98
		ignitionReliabilityEnd = 0.999
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.98
		cycleReliabilityEnd = 0.999
		reliabilityDataRateMultiplier = 0.1
		techTransfer = Helium,Nitrogen,MMH+NTO,UDMH+NTO,Aerozine50+NTO:50
	}

	TESTFLIGHT
	{
		name = BipropellantRCS
		mainConfiguration = engineConfig = MMH+NTO,engineConfig = UDMH+NTO,engineConfig = Aerozine50+NTO:BipropellantRCS
		ratedBurnTime = 1200
		ignitionReliabilityStart = 0.98
		ignitionReliabilityEnd = 0.999
		ignitionDynPresFailMultiplier = 0.1
		cycleReliabilityStart = 0.98
		cycleReliabilityEnd = 0.999
		reliabilityDataRateMultiplier = 0.1
		techTransfer = Helium,Nitrogen,NitrousOxide,HTP,Hydrazine,Cavea-B:50
	}
}

//  ==================================================
//  Generic 1 kN thruster.

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[microEngine]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV-1B
	}

    !node_stack_top2 = NULL

    !MODULE[ModuleJettison]:HAS[#jettisonName[Size1B]]{}
}

//  ==================================================
//  AJ10-137 (Apollo SPS).
//  ==================================================

+PART[microEngine]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = ROAJ10-137
}

@PART[ROAJ10-137]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DEL

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-1/model
		scale = 17.5, 17.5, 17.5
		position = 0.0, 2.0, 0.0
	}

	%node_stack_top = 0.0, 0.01, 0.0, 0.0, 1.0, 0.0, 4
	%node_attach = 0.0, 0.016, 0.01, 0.0, 1.0, 0.0, 4
	%node_stack_bottom = 0.0, -2.93, 0.0, 0.0, -1.0, 0.0, 3

	@mass = 0.65
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = AJ10_137
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 97.86
		@maxThrust = 97.86
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
			@ratio = 0.502
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.498
		}
		@atmosphereCurve
		{
			@key,0 = 0 314
			@key,1 = 1 150
		}
	}

    //  Placeholder gimbal module.

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
	}
}

//  ==================================================
//  AJ10-137 (Apollo SPS).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[ROAJ10-137]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV-1B
		@scale = 17.35, 9.0, 17.35
		@position = 0.0, 0.1, 0.0
	}

	%node_stack_top = 0.0, 0.001, 0.0, 0.0, 1.0, 0.0, 4
    !node_stack_top2 = NULL
	%node_attach = 0.0, 0.0, 0.001, 0.0, 1.0, 0.0, 4
	%node_stack_bottom = 0.0, -2.123, 0.0, 0.0, -1.0, 0.0, 3

	@MODULE[ModuleGimbal]
    {
        @gimbalTransformName = Gimbal
    }

    !MODULE[ModuleJettison]:HAS[#jettisonName[Size1B]]{}
}

//  ==================================================
//  Aerobee / WAC sustainer.
//  ==================================================

+PART[microEngine]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = ROAerobeeSustainer
}

@PART[ROAerobeeSustainer]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DEL

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-1/model
		scale = 0.8, 0.64, 0.8
		position = 0.0, 0.096, 0.0
	}

	%node_stack_top = 0.0, 0.016, 0.0, 0.0, 1.0, 0.0, 0
	%node_attach = 0.0, 0.016, 0.0, 0.0, 1.0, 0.0, 0
	%node_stack_bottom = 0.0, -0.084, 0.0, 0.0, -1.0, 0.0, 0

	// FIXME section
	%mass = 0.008 // total guess
	// ALSO: Mass ratio of propellants are total guesses.
	// In fact, it's 65:35 Aniline:Furfuryl Alc. Presume mass ratio for RFNA:that is same as IWFNA:UDMH for Able?
	// And Isps of Aerobee engines, too. Hard to find docs.
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = Aerobee
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 6.7
		%minThrust = 6.7
		%heatProduction = 40

		@atmosphereCurve
		{
			@key,0 = 0 230
			@key,1 = 1 184
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Aniline
			@ratio = 0.326832
		}

		PROPELLANT
		{
			name = Furfuryl
			ratio = 0.081708
		}

		@PROPELLANT[Oxidizer]
		{
			@name = IRFNA-III
			@ratio = 0.59146
		}
	}
}

//  ==================================================
//  Aerobee / WAC sustainer.

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[ROAerobeeSustainer]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		%model = VenStockRevamp/Squad/Parts/Propulsion/OMS-L
		%scale = 0.2125, 0.17, 0.2125
		%position = 0.0, 0.1, 0.0
	}

	%node_stack_top = 0.0, 0.1, 0.0, 0.0, 1.0, 0.0, 0
    !node_stack_top2 = NULL
	%node_attach = 0.0, 0.1, 0.0, 0.0, 1.0, 0.0, 0
	%node_stack_bottom = 0.0, -0.111, 0.0, 0.0, -1.0, 0.0, 0

    !MODULE[ModuleJettison]:HAS[#jettisonName[Size1B]]{}
}

//  ==================================================
//  NERVA 1 (Nuclear Thermal Rocket engine).
//  ==================================================

@PART[nuclearEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-N/model
		scale = 2.95, 2.86, 2.95
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 4.05, 0.0, 0.0, 1.0, 0.0, 3
	@node_stack_bottom = 0.0, -5.0, 0.0, 0.0, -1.0, 0.0, 3
	
	@mass = 8.5
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = NERVA
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 111
		@maxThrust = 333
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 1.0
		}

		@PROPELLANT[Oxidizer]
		{
			@name = EnrichedUranium
			@ratio = 0.00000000001
		}

		@atmosphereCurve
		{
			@key,0 = 0 925
			@key,1 = 1 380
		}
	}

    //  Placeholder gimbal module.

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
	}
}

//  ==================================================
//  AJ10-190 (radial).
//  ==================================================

@PART[omsEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	@MODEL
	{
		%scale = 11.0, 11.0, 11.0
		%position = 0.0, 0.0, 0.0
		%rotation = 380., 0.0, 0.0
	}

	@scale = 1.0
	%rescaleFactor = 1.0
	
	@mass = 0.118
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = AJ10_190
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 26.7
		@maxThrust = 26.7
		@heatProduction = 17.5

		@PROPELLANT[MonoPropellant]
		{
			@name = MMH
			@ratio = 0.504
		}

		PROPELLANT
		{
			name = NTO
			ratio = 0.496
		}

		@atmosphereCurve
		{
			@key,0 = 0 316
			@key,1 = 1 100
		}
	}
}

//  ==================================================
//  AJ10-190 (radial).

//  Engine configuration.
//  ==================================================

@PART[omsEngine]:AFTER[RealismOverhaulEngines]
{
	@title = AJ10-190 [Radial]
	
	!MODULE[ModuleGimbal],*{}
}

//  ==================================================
//  LR101 (Atlas, Thor/Delta vernier).
//  ==================================================

@PART[radialEngineMini]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	%mass = 0.024
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = LR101
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesRF
		%maxThrust = 4.523
		%minThrust = 4.523
		%heatProduction = 10

		@atmosphereCurve
		{
			@key,0 = 0 243
			@key,1 = 1 207
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.382
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.618
		}
	}
}

//  ==================================================
//  RD-855 (vernier engine).
//  ==================================================

@PART[radialLiquidEngine1-2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	
	%mass = 0.12
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = RD855
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		%maxThrust = 83
		%minThrust = 83
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 292
			@key,1 = 1 254
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.482
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.518
		}
	}
}

//  ==================================================
//  RAPIER.
//  ==================================================

@PART[RAPIER]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

    @description = The dual-mode active-cooling RAPIER hypersonic engine which burns Methane. SFC 2.0 lb/lbf/hr, O/F in rocket mode 2.8 to 1.

    @maxTemp = 873.15
    @crashTolerance = 10
    %skinMaxTemp = 973.15

    @MODULE[ModuleEnginesAJEJet]
    {
        @PROPELLANT[LiquidFuel]
        {
            @name = LqdMethane
        }
    }

	@MODULE[ModuleEngines*]:HAS[~engineID[AirBreathing]]
	{
		@name = ModuleEnginesRF
		@minThrust = 150
		@maxThrust = 250
		@heatProduction = 100
		%ullage = False
        %pressureFed = False

		@PROPELLANT[LiquidFuel]
		{
			@name = LqdMethane
			@ratio = 0.49
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.51
		}

		@atmosphereCurve
		{
			@key,0 = 0 360
			@key,1 = 1 300
		}
	}
}

//  ==================================================
//  Separation motor (large).
//  ==================================================

@PART[sepMotor1]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/solidBoosterSep/model
		scale = 2.2, 1.58, 2.2
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@title = Separation Motor (Large)
	@manufacturer = Generic
	@description = Small solid motor use to help separate one stage from another. Best used with others.

	@mass = 0.044
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@maxThrust = 98
		@heatProduction = 17.5
		%exhaustDamage = False

		@atmosphereCurve
		{
			@key,0 = 0 250
			@key,1 = 0 220
		}
	}

	MODULE
	{
		name = ModuleFuelTanks
		volume = 20.34
		type = PSPC
		basemass = -1
	}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = SolidFuel
		modded = false

		CONFIG
		{
			name = SolidFuel
			maxThrust = 98
			heatProduction = 17.5

			PROPELLANT
			{
				name = PSPC
				ratio = 1.0
				DrawGauge = True
			}

			atmosphereCurve
			{
				key = 0 250
				key = 1 220
			}
		}
	}

    !RESOURCE,*{}
}

//  ==================================================
//  Separation motor (large & small).

//  TestFlight compatibility.
//  ==================================================

@PART[sepMotor1|SnubOtron]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
	TESTFLIGHT
	{
		name = SolidFuel
		ratedBurnTime = 3
		ignitionReliabilityStart = 0.985
		ignitionReliabilityEnd = 0.9995
		ignitionDynPresFailMultiplier = 1000 // not a concern.
		cycleReliabilityStart = 0.99
		cycleReliabilityEnd = 0.9999 // because fail in first 5s is 10x, bump this up higher than expected.
		reliabilityDataRateMultiplier = 0.1 // we already start reliable, so don't get data too fast
		
		isSolid = True
	}
}

//  ==================================================
//	RD-856 (vernier engine).
//  ==================================================

@PART[smallRadialEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	
	%mass = 0.027
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = RD856
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@maxThrust = 13
		@minThrust = 13
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 280
			@key,1 = 1 84
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.482
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.518
		}
	}
}

//  ==================================================
//  Castor 30XL.
//  ==================================================

@PART[solidBooster]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/solidBoosterRT-10/model
		scale = 2.3368, 2.632887, 2.3368
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_bottom = 0.0, -3.294453, 0.0, 0.0, -1.0, 0.0, 2
	@node_stack_top = 0.0, 2.699947, 0.0, 0.0, 1.0, 0.0, 2
	@node_attach = 0.0, 0.0, -1.1684, 0.0, 0.0, 1.0, 1
	
	@mass = 2.3
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = Castor-30XL
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 0
		@maxThrust = 715
		@heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 303
			@key,1 = 0 100
		}
	}

	MODULE
	{
		name = ModuleFuelTanks
		volume = 12824.84
		type = HTPB
		basemass = -1
	}

    //  Placeholder gimbal module.

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
	}

    !RESOURCE,*{}
}

//  ==================================================
//  Castor 30XL.

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[solidBooster]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/RT5
		@scale = 2.3368, 4.4402956655, 2.3368
	}

    @node_stack_top = 0.0, 2.45, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -3.95, 0.0, 0.0, -1.0, 0.0, 2

	@MODULE[ModuleEngines*]
	{
		@thrustVectorTransformName = thrustTransform
	}

    @MODULE[ModuleGimbal]
    {
        @gimbalTransformName = thrustTransform
    }
}

//  ==================================================
//	Castor 120.
//  ==================================================

@PART[solidBooster1-1]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/solidBoosterBACC/model
		scale = 1.88976, 1.148061, 1.88976
	}

	%rescaleFactor = 1.0

	@node_stack_bottom = 0.0, -4.74, 0.0, 0.0, -1.0, 0.0, 2
	@node_stack_top = 0.0, 4.47, 0.0, 0.0, 1.0, 0.0, 2
	@node_attach = 0.0, 0.0, -1.1811, 0.0, 0.0, 1.0
	
	@mass = 4.35
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	%engineType = Castor-120
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
        @minThrust = 0
		@maxThrust = 1970
		@heatProduction = 100
		@useEngineResponseTime = False
		!engineAccelerationSpeed = DELETE

		@atmosphereCurve
		{
			@key,0 = 0 280
			@key,1 = 0 253
		}
	}

    //  Placeholder gimbal module.

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
	}

	MODULE
	{
		name = ModuleFuelTanks
		volume = 27655
		type = HTPB
		basemass = -1
	}

    !RESOURCE,*{}
}

//  ==================================================
//  J-2T (aerospike engine).
//  ==================================================

@PART[toroidalAerospike]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineAerospike/AeroSpike
		scale = 2.5, 1.667, 2.5
		position = 0.0, 0.1, 0.0
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.1, 0.0, 0.0, 1.0, 0.0, 2

	@mass = 1.4
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	%engineType = J2T
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 889.3
		@maxThrust = 889.3
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.745
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.255
		}

		!atmosphereCurve {}

		atmosphereCurve
		{
			key = 0 435 0 -355.588
			key = 1 300 -46.28566 -46.28566
			key = 2 270 -21.96388 -21.96388
			key = 10 150 -8.913048 -8.913048
			key = 40 0.0001 -2.319966 0
		}
	}
}

//  ==================================================
//  Conformal RCS Thruster.
//  ==================================================

@PART[vernierEngine]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

	@mass = 0.01

	%useRcsConfig = RCSBlock
	%useRcsMass = True

    @crashTolerance = 10
	@skinMaxTemp = 2500
	@maxTemp = 1500
	
	@title = Conformal RCS Thruster (275/445 N class)
	@manufacturer = Generic
	@description = A generic conformal RCS thruster. Use this for attitude control or translation/ullage for spaceplanes. LEO-rated heat shielding.
	
	@MODULE[ModuleRCS]
	{
		@name = ModuleRCS
		@thrusterPower = 0.275
		!resourceName = DELETE

		PROPELLANT
		{
			ratio = 1.0
			name = Hydrazine
		}

		!PROPELLANT[LiquidFuel]{}

		!PROPELLANT[Oxidizer]{}

		@atmosphereCurve
		{
			@key,0 = 0 254
			@key,1 = 1 82.08
		}
	}
}

//  ==================================================
//  Conformal RCS Thruster.

//  Realism Overhaul/Real Fuels compatibility.
//  ==================================================

@PART[vernierEngine]:AFTER[RO-RCS]
{
	@MODULE[ModuleEngineConfigs]
	{
		@CONFIG[MMH+NTO]
		{
			@IspSL = 0.953
		}

		@CONFIG[UDMH+NTO]
		{
			@IspSL = 0.95
		}

		@CONFIG[Aerozine50+NTO]
		{
			@IspSL = 0.963
		}
	}
}

//  ==================================================
//  Altair (X-248).
//  ==================================================

+PART[solidBooster1-1]:BEFORE[RealismOverhaul]
{
	@name = RO-X-248
}

@PART[RO-X-248]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    !MODEL,*{}

	MODEL
	{
        model = Squad/Parts/Engine/solidBoosterBACC/model
		scale = 0.34544, 0.256, 0.34544
	}

	@node_stack_bottom = 0.0, -1.055, 0.0, 0.0, -1.0, 0.0, 0
	@node_stack_top = 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0
	@node_attach = 0.0, 0.0, -0.22, 0.0, 0.0, 1.0, 0
	
	@mass = 0.03
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	%engineType = Altair
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
        @minThrust = 0
		@maxThrust = 12.4
		@heatProduction = 100
		@useEngineResponseTime = False
		!engineAccelerationSpeed = DELETE

        @PROPELLANT[SolidFuel]
        {
            @name = PSPC
        }

		@atmosphereCurve
		{
			@key,0 = 0 256
			@key,1 = 0 233
		}
	}

	MODULE
	{
        name = ModuleFuelTanks
		type = PSPC
		volume = 119.5403
        basemass = -1

        TANK
        {
            name = PSPC
            amount = 119.5403
            maxAmount = 119.5403
        }
	}

    !RESOURCE,*{}
}

//  ==================================================
//  Altair (X-248).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[RO-X-248]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
    @MODEL
    {
        @model = VenStockRevamp/Squad/Parts/Propulsion/BACC
        @scale = 0.34544, 0.256, 0.34544
	}
}

//  ==================================================
//  Altair-II (X-258).
//  ==================================================

+PART[solidBooster_sm]:BEFORE[RealismOverhaul]
{
	@name = RO-X-258
}

@PART[RO-X-258]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    !MODEL,*{}

	MODEL
	{
        model = Squad/Parts/Engine/solidBoosterRT-5/SRB_RT5
		scale = 0.64, 1.875, 0.64
	}

	%rescaleFactor = 1.0
	%scale = 1.0

	@node_stack_bottom = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 1
	@node_stack_top = 0.0, 1.03125, 0.0, 0.0, 1.0, 0.0, 1
	@node_attach = 0.0, 0.0, -0.4, 0.0, 0.0, 1.0

	@mass = 0.037
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	%engineType = Altair-II
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
        @minThrust = 22.3
		@maxThrust = 22.3
		@heatProduction = 100
		@useEngineResponseTime = False
		!engineAccelerationSpeed = DELETE

		@atmosphereCurve
		{
			@key,0 = 0 266
			@key,1 = 0 242
		}
	}
	
    MODULE
    {
        name = ModuleFuelTanks
        type = PSPC
        volume = 136.8
        basemass = -1

        TANK
        {
            name = PSPC
            amount = 136.8
            maxAmount = 136.8
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Altair-II (X-258).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[RO-X-258]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
    @MODEL
	{
        @model = VenStockRevamp/Squad/Parts/Propulsion/BACC
        @scale = 0.4718, 0.3125, 0.4718
	}

	@node_stack_top = 0.0, 1.215, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -1.295, 0.0, 0.0, -1.0, 0.0, 1
    @node_attach = 0.0, 0.0, -0.28, 0.0, 0.0, 1.0
}

//  ==================================================
//  KVD1/CE 7.5 (vacuum engine).
//  ==================================================

+PART[liquidEngine3]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = RO_KVD1
}

@PART[RO_KVD1]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

	!mesh = DEL

    !MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-909/model
		scale = 2.8, 4.0, 2.8
	}

	MODEL
	{
		model = RealismOverhaul/Models/KVDvernStock
		texture = ksp_r_microEngine_diff, Squad/Parts/Engine/liquidEngineLV-1R/ksp_r_microEngine_diff
		scale = 1.0, 1.0, 1.0
		position = 0.0, -1.6, -0.58
		rotation = 12.0, 0.0, 0.0
	}

	MODEL
	{
		model = RealismOverhaul/Models/KVDvernStock
		texture = ksp_r_microEngine_diff, Squad/Parts/Engine/liquidEngineLV-1R/ksp_r_microEngine_diff
		scale = 1.0, 1.0, 1.0
		position = 0.0, -1.6, 0.58
		rotation = 12.0, 180, 0.0
	}

	MODEL
	{
		model = Squad/Parts/Structural/strutOcto/model
		scale = 3.0, 4.5, 3.0
		position = 0.0, 0.35, 0.0
		rotation = 0.0, 22.5, 0.0
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.9, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -1.513, 0.0, 0.0, -1.0, 0.0, 2
	
	%mass = 0.282
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

	%engineType = KVD1
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesRF
		@thrustVectorTransformName = thrustTransform
		%engineID = mainEngine
		@minThrust = 71.6
		@maxThrust = 71.6
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.72856
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.27144
		}

		@atmosphereCurve
		{
			@key,0 = 0 461
			@key,1 = 1 150
		}
	}

	MODULE
	{
		name = ModuleEnginesRF
		thrustVectorTransformName = vern01Transform
		engineID = vernier
		minThrust = 2
		maxThrust = 2
		heatProduction = 0
		exhaustDamage = False
		ignitionThreshold = 0.1

		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.72856
		}

		PROPELLANT[Oxidizer]
		{
			name = LqdOxygen
			ratio = 0.27144
		}

		atmosphereCurve
		{
			key,0 = 0 452
			key,1 = 1 150
		}
	}

	// Verniers gimbal setup.

	@MODULE[ModuleGimbal]
	{
		@gimbalTransformName = vern01Transform
        !gimbalRange = NULL
		%gimbalRangeXP = 5
		%gimbalRangeXN = 5
		%gimbalRangeYP = 15
		%gimbalRangeYN = 15
		%useGimbalResponseSpeed = True
		%gimbalResponseSpeed = 16
	}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEnginesRF
		configuration = KVD-1-Verniers
		engineID = vernier
		isMaster = false
		modded = false

		CONFIG
		{
			name = KVD-1-Verniers
			minThrust = 4
			maxThrust = 4
			heatProduction = 0
            ullage = True
            pressureFed = False
            ignitions = 5

            IGNITOR_RESOURCE
            {
                name = ElectricCharge
                amount = 0.01
            }

			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.72856
			}

			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.27144
			}

			atmosphereCurve
			{
				key = 0 452
				key = 1 150
			}
		}
	}
}

//  ==================================================
//  KVD1/CE 7.5 (vacuum engine).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[RO_KVD1]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
    @MODEL,0
	{
        @model = VenStockRevamp/Squad/Parts/Propulsion/LV909
        @scale = 2.8, 4.0, 2.8
    }

    //  Hex-edited mu files originally by Ven, re-distributed under CC-BY-4.0.

    @MODEL,1		
    {
        @model = RealismOverhaul/Models/KVDvernVSR
        !texture = DELETE
        texture = SmallEngines_CLR, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_CLR
        texture = SmallEngines_NRM, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_NRM
    }

    @MODEL,2
    {
        @model = RealismOverhaul/Models/KVDvernVSR
        !texture = DELETE
        texture = SmallEngines_CLR, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_CLR
        texture = SmallEngines_NRM, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_NRM
    }
}

//  ==================================================
//  Star 37.
//  ==================================================

+PART[solidBooster_sm]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
    @name = RO-STAR-37
}

@PART[RO-STAR-37]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    @MODEL
    {
        %scale = 0.9347, 1.174, 0.9347
    }

    %scale = 1.0
    %rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.65, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -1.04, 0.0, 0.0, -1.0, 0.0, 1
	@node_attach = 0.0, 0.0, -0.45, 0.0, 0.0, 1.0

    @mass = 0.081
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = Star-37
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 0
        @maxThrust = 54.8
        @heatProduction = 100
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 289.8
            @key,1 = 1 200
        }
    }

    MODULE
    {
        name = ModuleGimbal
        gimbalTransformName = thrustTransform
        gimbalRange = 3.5
        useGimbalResponseSpeed = True
        gimbalResponseSpeed = 16
    }

    MODULE
    {
        name = ModuleFuelTanks
        type = HTPB
        volume = 602.25
        basemass = -1

        TANK
        {
            name = HTPB
            amount = 602.25
            maxAmount = 602.25
        }
    }

    !RESOURCE,*{}
}

//  ==================================================
//  Star 37.

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[RO-STAR-37]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
    @MODEL
    {
        @model = VenStockRevamp/Squad/Parts/Propulsion/RT5
        @scale = 0.9347, 1.174, 0.9347
    }
}

//  ==================================================
//  Star 48B.
//  ==================================================

@PART[solidBooster_sm]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

    @MODEL
	{
		@scale = 1.25, 1.25, 1.25
	}

	%scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_bottom = 0.0, -1.11, 0.0, 0.0, -1.0, 0.0, 1
	@node_stack_top = 0.0, 0.695, 0.0, 0.0, 1.0, 0.0, 1
	@node_attach = 0.0, 0.0, -0.625, 0.0, 0.0, 1.0

    @mass = 0.117
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = Star-48B
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @name = ModuleEnginesRF
        @minThrust = 78.0
        @maxThrust = 78.0
        @heatProduction = 100
        @useEngineResponseTime = False
        @engineAccelerationSpeed = 0

        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }

        @atmosphereCurve
        {
            @key,0 = 0 292.1
            @key,1 = 1 200
        }
    }

    //  Placeholder gimbal module.

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
	}

	MODULE
	{
		name = ModuleFuelTanks
		volume = 1144.6
		type = HTPB
		basemass = -1
	}

    !RESOURCE,*{}
}

//  ==================================================
//  Star 48B.

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[solidBooster_sm]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
    @MODEL
    {
        @model = VenStockRevamp/Squad/Parts/Propulsion/RT5
        @scale = 1.25, 1.25, 1.25  
    }
}

//  ==================================================
//  RS-25D/E (SSME).
//  ==================================================

@PART[SSME]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

    !mesh = NULL

    !MODEL,*{}

    MODEL
    {
        model = Squad/Parts/Engine/liquidEngineSSME/SSME
        scale = 1.915, 2.225, 1.915
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_bottom = 0.0, -3.475, 0.0, 0.0, -1.0, 0.0, 2

	@mass = 3.527
    @crashTolerance = 10
	@maxTemp = 873.15
    %skinMaxTemp = 973.15

    %engineType = SSME
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
        @name = ModuleEnginesRF
		@minThrust = 1400
		@maxThrust = 2280
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.728
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.272
		}

		@atmosphereCurve
		{
			@key,0 = 0 452
			@key,1 = 1 366
		}
	}
}

//  ==================================================
//  RS-25 (SSME).

//  Ven Stock Revamp compatibility.
//  ==================================================

@PART[SSME]:FOR[RealismOverhaul]:NEEDS[VenStockRevamp]
{
    @MODEL
    {
        @scale = 2.5, 2.78, 2.5
    }

    @node_stack_bottom = 0.0, -4.075, 0.0, 0.0, -1.0, 0.0, 2
}
