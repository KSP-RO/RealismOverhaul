//  ==================================================
//  RD-253
//  ==================================================

+PART[engineLargeSkipper]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
    %name = RO-RD-253
}

@PART[RO-RD-253]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineSkipper/model
		scale = 1.82, 1.82, 1.82
	}

	@MODEL:NEEDS[VenStockRevamp]
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/SkipperB
	}

    %scale = 1.0
	@rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.02, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -3.74, 0.0, 0.0, -1.0, 0.0, 2
	%node_attach = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 2

	%attachRules = 1,1,1,1,0

	%mass = 1.28
	%maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = RD253
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		@minThrust = 1635
		@maxThrust = 1635
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.4071
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.5929
		}

		@atmosphereCurve
		{
			@key,0 = 0 316
			@key,1 = 1 285
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  RL10
//  ==================================================

@PART[engineLargeSkipper]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineSkipper/model
		scale = 0.8415, 0.8415, 0.8415
	}
	@MODEL:NEEDS[VenStockRevamp]
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/SkipperB
	}

    %scale = 1.0
	@rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.01, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.725, 0.0, 0.0, -1.0, 0.0, 2
	%node_attach = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 2

	%attachRules = 1,1,1,1,0

	%mass = 0.167
	%maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = RL10
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		%maxThrust = 65.6
		%minThrust = 65.6
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 444
			@key,1 = 1 255
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.763
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.237
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  NSTAR
//  ==================================================

@PART[ionEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/ionEngine/model
		scale = 1.0, 1.0, 1.0
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.195, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -0.185, 0.0, 0.0, -1.0, 0.0, 1

	@category = Engine

	@mass = 0.0495
	@maxTemp = 773.15
    %skinMaxTemp = 873.15

    %engineType = NSTAR
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		@minThrust = 0.000019
		@maxThrust = 0.000092
		@heatProduction = 0	

		!PROPELLANT[ElectricCharge]
		{
		}

		@PROPELLANT[XenonGas]
		{
			@ratio = 1.0
		}

		@atmosphereCurve
		{
			@key,0 = 0 3280
			@key,1 = 1 1
		}
	}

	!MODULE[ElectricEngineThrustLimiter]{}

	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = -2.3
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  LR-105
//  ==================================================

@PART[liquidEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-T30/model
		scale = 1.9, 1.9, 1.9
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 1.44, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -1.375, 0.0, 0.0, -1.0, 0.0, 2

	@attachRules = 1,0,1,0,0

	@mass = 0.46 // I think 844kg was for the engine + tank.
	@maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = LR105
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		@maxThrust = 366.1
		@minThrust = 366.1
		@heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 311
			@key,1 = 1 215
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.382
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.618
		}
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 3
	}
}

//  ==================================================
//  LR-79
//  ==================================================

@PART[liquidEngine1-2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = RealismOverhaul/Parts/Engines/OldVSRMainsail/Mainsail
		scale = 0.69, 0.69, 0.69
	}

    @scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.775, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.4, 0.0, 0.0, -1.0, 0.0, 2

	@attachRules = 1,0,1,0,0

	@mass = 0.907
	@maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = LR79
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		%maxThrust = 947
		%minThrust = 947
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 289
			@key,1 = 1 255
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.3842
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.6158
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  H1/RS-27
//  ==================================================

+PART[liquidEngine1-2]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
    @name = RO-H1-RS27
}

@PART[RO-H1-RS27]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

    !mesh = NULL

    !MODEL,*{}

    MODEL
    {
        model = RealismOverhaul/Parts/Engines/OldVSRMainsail/Mainsail
        scale = 0.69, 0.69, 0.69
    }

    %scale = 1.0
    @rescaleFactor = 1.0

    @node_stack_top = 0.0, 0.775, 0.0, 0.0, 1.0, 0.0, 2
    @node_stack_bottom = 0.0, -1.4, 0.0, 0.0, -1.0, 0.0, 2

    @mass = 0.907
    @maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = H1
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

    @MODULE[ModuleEngines*]
    {
        @maxThrust = 947
        @minThrust = 947
        @heatProduction = 100

        @PROPELLANT[LiquidFuel]
        {
            @name = Kerosene
            @ratio = 0.3842
        }

        @PROPELLANT[Oxidizer]
        {
            @name = LqdOxygen
            @ratio = 0.6158
        }

        @atmosphereCurve
        {
            @key,0 = 0 289
            @key,1 = 1 255
        }
    }

    !MODULE[TweakScale]{}
}

//  ==================================================
//  LR-89
//  ==================================================

+PART[liquidEngine1-2]:BEFORE[RealismOverhaul]
{
	@name = RO-LR-89
}

@PART[RO-LR-89]:FOR[RealismOverhaul]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = RealismOverhaul/Parts/Engines/OldVSRMainsail/Mainsail
		scale = 0.6755, 0.6755, 0.6755
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 0.735, 0.0, 0.0, 1.0, 0.0, 2
	@node_stack_bottom = 0.0, -1.235, 0.0, 0.0, -1.0, 0.0, 2

	@attachRules = 1,0,1,0,0

	@mass = 0.72
	@maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = LR89
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		%maxThrust = 758.7
		%minThrust = 758.7
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 282
			@key,1 = 1 248
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.382
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.618
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  S1.5400/11D33, RD-58
//  ==================================================

@PART[liquidEngine2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-T45/model
		scale = 1.625, 1.625, 1.625
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	@node_stack_top = 0.0, 1.21, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -1.315, 0.0, 0.0, -1.0, 0.0, 1
	%node_attach = 0.0, 1.21, 0.0, 0.0, 1.0, 0.0, 1

	@attachRules = 1,1,1,0,0

	@mass = 0.15
	@maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = RD58
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		%maxThrust = 63.7
		%minThrust = 63.7
		%heatProduction = 100
		@atmosphereCurve
		{
			@key,0 = 0 338.6
			@key,1 = 1 100
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.359
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.641
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  RD-0210
//  ==================================================

+PART[liquidEngine2-2]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
    @name = RO-RD-0210
}

@PART[RO-RD-0210]:FOR[RealismOverhaul]
{
    %RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEnginePoodle/model
		scale = 1.2, 1.2, 1.2
	}

    %scale = 1.0
	@rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.855, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -0.835, 0.0, 0.0, -1.0, 0.0, 2

	%attachRules = 1,0,1,0,0

	%mass = 0.566
	%maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = RD0210
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		@minThrust = 582.1
		@maxThrust = 582.1
		@heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.4135
			%DrawGauge = True
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.5865
		}

		@atmosphereCurve
		{
			@key,0 = 0 327
			@key,1 = 1 225
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  LMDE
//  ==================================================

@PART[liquidEngine2-2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEnginePoodle/model
		scale = 1.2, 1.2, 1.2
	}

    %scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.855, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -0.835, 0.0, 0.0, -1.0, 0.0, 2

	%attachRules = 1,0,1,0,0

	%mass = 0.135
	%maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = LMDE
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass False

	@MODULE[ModuleEngines*]
	{
		%minThrust = 4.67
		%maxThrust = 43.9
		%heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
			@ratio = 0.5017
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.4983
		}

		@atmosphereCurve
		{
			@key,0 = 0 311
			@key,1 = 1 100
		}
	}
}

//  ==================================================
//  RD-0105/0109
//  ==================================================

@PART[liquidEngine3]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-909/model
		scale = 2.0, 2.0, 2.0
	}

	@MODEL:NEEDS[VenStockRevamp]
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV909B
	}

	@scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.46, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -0.825, 0.0, 0.0, -1.0, 0.0, 2

	%attachRules = 1,0,1,0,0

	%mass = 0.125
	%maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = RD0105
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		%minThrust = 49.4
		%maxThrust = 49.4
		%heatProduction = 100

		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.3594
		}

		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.6406
		}

		@atmosphereCurve
		{
			@key,0 = 0 316
			@key,1 = 1 100
		}
	}

    !MODULE[TweakScale]{}
}

//  ==================================================
//  LMAE
//  ==================================================

@PART[liquidEngineMini]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True

	!mesh = DELETE

	!MODEL,*{}

	MODEL
	{
		model = Squad/Parts/Engine/liquidEngine48-7S/model
		scale = 2.0, 4.1, 2.0
	}

    %scale = 1.0
	%rescaleFactor = 1.0

	%node_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -1.605, 0.0, 0.0, -1.0, 0.0, 2

	%attachRules = 1,0,1,0,0

	%mass = 0.095
	%maxTemp = 1023.15
    %skinMaxTemp = 1773.15

    %engineType = LMAE
    %engineTypeMult = 1
    %massOffset = 0
    %ignoreMass = False

	@MODULE[ModuleEngines*]
	{
		%maxThrust = 15.57
		%minThrust = 15.57
		%heatProduction = 100

		@atmosphereCurve
		{
			@key,0 = 0 311
			@key,1 = 1 100
		}

		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
			@ratio = 0.5017
		}

		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.4983
		}
	}

    !MODULE[TweakScale]{}
}

+PART[microEngine]:BEFORE[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = RO-SurveyorVernier
}
@PART[RO-SurveyorVernier]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	@MODEL:NEEDS[VenStockRevamp]
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV-1B
	}
	@title = TD-339
	%manufacturer = Thiokol
	@description = The Vernier System as used on the Surveyor Probes. Uses storable hypergolic propellants, has infinite restarts and is not subject to ullage. Throttleable down to 30%. Historically 3 of them were used on the Surveyor Probes which landed on the Moon.
	@mass = 0.009 // 2.66kg for the engine alone, but for RCS we over-mass for control systems and bladder/surface-tension tanks.
	@maxTemp = 1973.15
	!MODULE[ModuleEngineConfigs] {}
	@MODULE[ModuleEngines*]
	{
		@heatProduction = 100
		%ullage = False
		%pressureFed = True
		!IGNITOR_RESOURCE,* {}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.01
		}
	}
	!MODULE[ModuleAlternator]
	{
	}
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 8
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		modded = false
		configuration = TD-339
		CONFIG
		{
			name = TD-339
			minThrust = 0.133446648
			maxThrust = 0.462615048
			heatProduction = 100
			PROPELLANT
			{
				name = MMH
				ratio = 0.516
				DrawGauge = True
			}
			PROPELLANT
			{
				name = MON10
				ratio = 0.484
			}
			atmosphereCurve
			{
				key = 0 287
				key = 1 100
			}
		}
	}
	!useRcsConfig = DEL
	!useRcsCostMult = DEL
	!useRcsMass = DEL
}
@PART[microEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	@MODEL:NEEDS[VenStockRevamp]
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV-1B
	}
	
	%title = 1kN Thruster
	%manufacturer = Generic
	%description = Thruster for orbital maneuvers, similar to ones used in the Galileo probe.
	%attachRules = 1,1,1,0,0
	%mass = 0.015
	%maxTemp = 1973.15
	!MODULE[ModuleJettison],*:NEEDS[VenStockRevamp] {} // no tankbutss in LV-1B model
	!node_stack_top1 = DEL // no tankbutts in model, no need for extra node.
	@MODULE[ModuleEngines*]
	{
		%maxThrust = 1.618
		%minThrust = 1.618
		%heatProduction = 17.5
		@atmosphereCurve
		{
			@key,0 = 0 321
			@key,1 = 1 112
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = MMH
			@ratio = 0.504
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.496
		}
		ullage = False
		pressureFed = True
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.01
		}
	}
	useRcsConfig = RCSBlock4x
	useRcsCostMult = 0.25
	useRcsMass = True
}
+PART[microEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = ROAJ10-137
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DEL
	!MODEL {}
	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-1/model
		scale = 17.5, 17.5, 17.5
		position = 0.0, 2.0, 0.0
	}
	%node_stack_top = 0.0, 0.01, 0.0, 0.0, 1.0, 0.0, 4
	%node_attach = 0.0, 0.016, 0.01, 0.0, 1.0, 0.0, 4
	%node_stack_bottom = 0.0, -2.93, 0.0, 0.0, -1.0, 0.0, 3
	%attachRules = 1,1,1,0,0
	@mass = 0.650
	@maxTemp = 1973.15
	!MODULE[ModuleEngineConfigs] {}
	@MODULE[ModuleEngines*]
	{
		@minThrust = 97.86
		@maxThrust = 97.86
		@heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = Aerozine50
			@ratio = 0.502
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.498
		}
		@atmosphereCurve
		{
			@key,0 = 0 314
			@key,1 = 1 150
		}
		!IGNITOR_RESOURCE,* {}
	}
	engineType = AJ10_137
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 4.5
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}
	!useRcsConfig = DEL
	!useRcsCostMult = DEL
	!useRcsMass = DEL
}
@PART[ROAJ10-137]:AFTER[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		%model = VenStockRevamp/Squad/Parts/Propulsion/LV-1B
		%scale = 17.35, 9.0, 17.35
		%position = 0.0, 0.1, 0.0
	}
	%node_stack_top = 0.0, 0.001, 0.0, 0.0, 1.0, 0.0, 4
	%node_attach = 0.0, 0.0, 0.001, 0.0, 1.0, 0.0, 4
	%node_stack_bottom = 0.0, -2.123, 0.0, 0.0, -1.0, 0.0, 3
	
	@MODULE[ModuleGimbal]
	{
		%gimbalTransformName = Gimbal
	}
}


// Aerobee / WAC sustainer
+PART[microEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = ROAerobeeSustainer
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DEL
	!MODEL {}
	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-1/model
		scale = 0.8, 0.64, 0.8
		position = 0.0, 0.096, 0.0
	}
	%node_stack_top = 0.0, 0.016, 0.0, 0.0, 1.0, 0.0, 0
	%node_attach = 0.0, 0.016, 0.0, 0.0, 1.0, 0.0, 0
	%node_stack_bottom = 0.0, -0.08432, 0.0, 0.0, -1.0, 0.0, 0
	%title = Aerobee
	%manufacturer = Aerojet
	%description = Small sustainer for WAC Corporal, Aerobee sounding rockets. Pressure-fed. Used after a small solid booster. [0.3m]
	%attachRules = 1,1,1,0,0
	// FIXME section
	%mass = 0.008 // total guess
	// ALSO: Mass ratio of propellants are total guesses.
	// In fact, it's 65:35 Aniline:Furfuryl Alc. Presume mass ratio for RFNA:that is same as IWFNA:UDMH for Able?
	// And Isps of Aerobee engines, too. Hard to find docs.
	%maxTemp = 1273.15
	!fx_exhaustFlame_white_tiny = 0.0, -0.2816985, 0.0, 0.0, 1.0, 0.0, running

	!sound_vent_medium = engage
	!sound_rocket_mini = running
	!sound_vent_soft = disengage
	!sound_explosion_low = flameout
	// stolen from 24-77
	@MODULE[ModuleEngines*]
	{
		%maxThrust = 6.7
		%minThrust = 6.7
		%heatProduction = 40
		@atmosphereCurve
		{
			@key,0 = 0 230
			@key,1 = 1 184
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = Aniline
			@ratio = 0.326832
		}
		PROPELLANT
		{
			name = Furfuryl
			ratio = 0.081708
		}
		@PROPELLANT[Oxidizer]
		{
			@name = IRFNA-III
			@ratio = 0.59146
		}
		%ullage = True
		%ignitions = 1
		%pressureFed = True
		!IGNITOR_RESOURCE,* {}
	}
	!MODULE[ModuleEngineConfigs] {}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		origMass = 0.008
		//techLevel = 0
		//origTechLevel = 0
		//maxTechLevel = 0
		engineType = L+
		configuration = WAC-Corporal
		modded = false
		// ratio sources: https://books.google.com/books?id=BtJ1COIv6xQC&pg=PT135&lpg=PT135&dq=aniline+%22furfuryl%22&source=bl&ots=ZgEpXYt0co&sig=sQMSt434kQup0YLBLewUAFQWCIc&hl=en&sa=X&ved=0CDEQ6AEwBjgKahUKEwih6ezC44jGAhUBJqwKHahLAGs#v=onepage&q=aniline%20%22furfuryl%22&f=false for Corporal and Aerobee. http://www.tandfonline.com/doi/abs/10.1080/00028895809343554?journalCode=aiha20#.VXoYCUYvxgs for Aerobee 150 (Hydrazine added, skipping water)
		// Corporal: https://books.google.com/books?id=BtJ1COIv6xQC&pg=PT131&lpg=PT131&dq=wac+corporal+chamber+pressure&source=bl&ots=ZgEpXYxYfl&sig=RVlXztWra2dcTyjND--tYSdZaus&hl=en&sa=X&ved=0CCUQ6AEwAWoVChMIj5-rhPGIxgIVzB6sCh0iKADl#v=onepage&q=wac%20corporal%20chamber%20pressure&f=false
		CONFIG
		{
			name = WAC-Corporal
			maxThrust = 7.628 // 1500lbf (6.672kN) at _sea level_, vac calculated
			minThrust = 7.628
			heatProduction = 40
			PROPELLANT
			{
				name = Aniline
				ratio = 0.326832
				DrawGauge = True
			}
			PROPELLANT
			{
				name = Furfuryl
				ratio = 0.081708
			}
			PROPELLANT
			{
				ratio = 0.59146
				name = IRFNA-III
			}
			atmosphereCurve
			{
			// calculated vac Isp based off stated 191sl, using RPA with guesses for Pc and AR
				key = 0 218.36
				key = 1 191
			}
			massMult = 1
		}
		CONFIG
		{
			// source for some: http://www.designation-systems.net/dusrm/n-2.html
			// More info: http://rasaero.com/dloads/The%20Aerobee%20Sounding%20Rockets.pdf
			name = XASR-1
			maxThrust = 13.7628
			minThrust = 13.7628
			heatProduction = 40
			PROPELLANT
			{
				name = Aniline
				ratio = 0.2467
				DrawGauge = True
			}
			PROPELLANT
			{
				name = Furfuryl
				ratio = 0.1329
			}
			PROPELLANT
			{
				ratio = 0.6204
				name = IRFNA-III
			}
			atmosphereCurve
			{
				// Calculated from known Pc, AR, sl Isp
				key = 0 235.44
				key = 1 200
			}
			techRequired = basicRocketry
			cost = 30
			entryCost = 600
			entryCostSubtractors
			{
				AJ10-27 = 599 // 1 less than entry cost
			}
			massMult = 1.3
		}
		CONFIG
		{
			name = AJ10-27
			maxThrust = 21.28
			minThrust = 21.28
			heatProduction = 40
// the 45-45-10 mix of Aniline-Furfuryl-Hydrazine, appears to not be used.
//			PROPELLANT
//			{
//				name = Aniline
//				ratio = 0.1697
//				DrawGauge = True
//			}
//			PROPELLANT
//			{
//				name = Furfuryl
//				ratio = 0.1697
//			}
//			PROPELLANT
//			{
//				name = Hydrazine
//				ratio = 0.0377
//			}
//			PROPELLANT
//			{
//				ratio = 0.6229
//				name = IRFNA-III
//			}
			PROPELLANT
			{
				name = Aniline
				ratio = 0.2467
				DrawGauge = True
			}
			PROPELLANT
			{
				name = Furfuryl
				ratio = 0.1329
			}
			PROPELLANT
			{
				ratio = 0.6204
				name = IRFNA-III
			}
			atmosphereCurve
			{
				// Calculated from known Pc, AR, sl Isp
				key = 0 231
				key = 1 198
			}
			techRequired = basicRocketry
			cost = 50
			entryCost = 1000
			entryCostSubtractors
			{
				XASR-1 = 600
			}
			massMult = 1.5
		}
	}
	!useRcsConfig = DEL
	!useRcsCostMult = DEL
	!useRcsMass = DEL
}
@PART[ROAerobeeSustainer]:AFTER[RealismOverhaul]:NEEDS[VenStockRevamp]
{
	@MODEL
	{
		%model = VenStockRevamp/Squad/Parts/Propulsion/OMS-L
		%scale = 0.2125, 0.17, 0.2125
		%position = 0.0, 0.1, 0.0
	}
	%node_stack_top = 0.0, 0.1, 0.0, 0.0, 1.0, 0.0, 0
	%node_attach = 0.0, 0.1, 0.0, 0.0, 1.0, 0.0, 0
	%node_stack_bottom = 0.0, -0.11091152, 0.0, 0.0, -1.0, 0.0, 0
	%title = Aerobee
}
@PART[nuclearEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	!MODEL {}
	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineLV-N/model
		scale = 1.04, 1.122206, 1.04
	}
	@scale = 1.122206
	%rescaleFactor = 1.0
	@node_stack_top = 0.0, 1.40383, 0.0, 0.0, 1.0, 0.0, 1
	@node_stack_bottom = 0.0, -1.731957, 0.0, 0.0, -1.0, 0.0, 1
	@title = NERVA NRX
	@manufacturer = Aerojet
	@description =  [1.25m]
	@mass = 8.5
	@maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		@minThrust = 111
		@maxThrust = 333
		@heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 1.0
		}
		@PROPELLANT[Oxidizer]
		{
			@name = EnrichedUranium
			@ratio = 0.00000000001
		}
		@atmosphereCurve
		{
			@key,0 = 0 925
			@key,1 = 1 380
		}
		%ullage = True
	}
	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 2.5
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	!MODULE[ModuleAlternator]
	{
	}

		MODULE
		{
			name				   = ModuleResourceConverter
			ConverterName		   = Turbine Generator
			StartActionName		   = Start
			StopActionName		   = Stop
			AlwaysActive		   = true
			FillAmount			   = 1.000
			AutoShutdown		   = false
			GeneratesHeat		   = false
			TemperatureModifier	   = 2.000
			UseSpecializationBonus = false
			DefaultShutoffTemp	   = 0.500

			INPUT_RESOURCE
			{
				ResourceName = EnrichedUranium
				Ratio		 = 1e-13
			}

			OUTPUT_RESOURCE
			{
				ResourceName = ElectricCharge
				Ratio		 = 1.500
			}

			OUTPUT_RESOURCE
			{
				ResourceName = DepletedUranium
				Ratio		 = 1e-13
			}
		}

	!RESOURCE[ElectricCharge]
	{
	}
	RESOURCE
	{
		name = EnrichedUranium
		amount = 5
		maxAmount = 5
	}
	RESOURCE
	{
		name = DepletedUranium
		amount = 0
		maxAmount = 5
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = NERVA-NRX
		modded = false
		CONFIG
		{
			name = NERVA-NRX
			exhaustDamage = True
			ignitionThreshold = 0.1
			minThrust = 0
			maxThrust = 333
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 1.0
				DrawGauge = True
			}
			PROPELLANT
			{
				name = EnrichedUranium
				ratio = 0.00000000001
			}
			atmosphereCurve
			{
				key = 0 925
				key = 1 380
			}
		}
	}
}
@PART[omsEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	@MODEL
	{
		%scale = 11.0, 11.0, 11.0
		%position = 0, 0, 0
		%rotation = 38, 0, 0
	}
	@scale = 1.0
	%rescaleFactor = 1.0
	@title = AJ10-190 [Radial]
	@manufacturer = Aerojet
	@description = Aerojet AJ10-190 as found on the Space Shuttle Orbital Manoeuvring System (OMS)
	@mass = 0.118
	@maxTemp = 1973.15
	@PhysicsSignificance = 0
	@MODULE[ModuleEngines*]
	{
		@minThrust = 26.7
		@maxThrust = 26.7
		@heatProduction = 17.5
		@PROPELLANT[MonoPropellant]
		{
			@name = MMH
			@ratio = 0.504
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.496
		}
		@atmosphereCurve
		{
			@key,0 = 0 316
			@key,1 = 1 100
		}
		ullage = False
		pressureFed = True
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.3
		}
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		modded = false
		configuration = AJ10-190
		CONFIG
		{
			name = AJ10-190
			minThrust = 26.7
			maxThrust = 26.7
			heatProduction = 17.5
			PROPELLANT
			{
				name = MMH
				ratio = 0.504
				DrawGauge = True
			}
			PROPELLANT
			{
				name = NTO
				ratio = 0.496
			}
			atmosphereCurve
			{
				key = 0 316
				key = 1 100
			}
		}
	}
}
@PART[radialEngineMini]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	
	%attachRules = 0,1,0,0,0
	%mass = 0.024
	%maxTemp = 1973.15
	!fx_exhaustFlame_white_tiny = 0.0, -0.075, -0.3, 0.0, 1.0, 0.0, running
	!sound_vent_medium = engage
	!sound_rocket_mini = running
	!sound_vent_soft = disengage
	!sound_explosion_low = flameout
	// cribbed from 24-77
	EFFECTS
	{
	  power
	  {
		AUDIO
		{
		  channel = Ship
		  clip = sound_rocket_mini
		  volume = 0.0 0 0 0
		  volume = 0.01 0 0 0
		  volume = 1.0 1.0
		  pitch = 0.0 0.8
		  pitch = 1.0 1.0
		  loop = true
		}
		PREFAB_PARTICLE
		{
		  prefabName = fx_exhaustFlame_yellow_tiny_Z
		  transformName = thrustTransform
		  emission = 0.0 0 0 0
		  emission = 0.01 0 0 0
		  emission = 1.0 1.0
		  speed = 0.0 0.8
		  speed = 1.0 1.0
		}
	  }
	  engage
	  {
		AUDIO
		{
		  channel = Ship
		  clip = sound_vent_medium
		  loop = false
		}
	  }
	  disengage
	  {
		AUDIO
		{
		  channel = Ship
		  clip = sound_vent_soft
		  loop = false
		}
	  }
	}
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesRF
		%maxThrust = 4.523
		%minThrust = 4.523
		%heatProduction = 10
		@atmosphereCurve
		{
			@key,0 = 0 243
			@key,1 = 1 207
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 0.382
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.618
		}
		ullage = True
		ignitions = 1
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
	}
	@MODULE[ModuleGimbal]
	{
		%gimbalRange = 35
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		modded = false
		configuration = LR101-NA-3
		origMass = 0.024
		CONFIG
		{
			name = LR101-NA-3
			minThrust = 5.1144
			maxThrust = 5.1144
			heatProduction = 10
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.382
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.618
			}
			atmosphereCurve
			{
				key = 0 238
				key = 1 207
			}
		}
		CONFIG
		{
			name = LR101-NA-11
			minThrust = 5.369
			maxThrust = 5.369
			heatProduction = 10
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.3929
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.6071
			}
			atmosphereCurve
			{
				key = 0 249
				key = 1 209.8
			}
			techRequired = advRocketry
			cost = 15
			entryCost = 300
		}
		CONFIG
		{
			name = LR101-NA-15
			minThrust = 2.976
			maxThrust = 2.976
			heatProduction = 10
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.38264
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.61736
			}
			atmosphereCurve
			{
				key = 0 224.3
				key = 1 190.5
			}
			massMult = 0.8
			cost = -10
			entryCost = 0
			techRequired = heavyRocketry
		}
	}
}
@PART[radialLiquidEngine1-2]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	%title = RD-855 [Radial]
	%manufacturer = KB Yuzhnoye
	%description = Vernier thruster used on the first stage of the Tsyklon rocket.
	%attachRules = 1,1,1,0,0
	%mass = 0.12
	%maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		%maxThrust = 83
		%minThrust = 83
		%heatProduction = 100
		@atmosphereCurve
		{
			@key,0 = 0 292
			@key,1 = 1 254
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.482
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.518
		}
		ullage = True
		ignitions = 1
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
	}
	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 5.0
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		origMass = 0.12
		configuration = RD-855
		modded = false
		CONFIG
		{
			name = RD-855
			maxThrust = 83
			minThrust = 83
			PROPELLANT
			{
				name = UDMH
				ratio = 0.482
				DrawGauge = true
			}
			PROPELLANT
			{
				name = NTO
				ratio = 0.518
			}
			atmosphereCurve
			{
				key = 0 292
				key = 1 254
			}
		}
	}
}
@PART[RAPIER]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
}
@PART[sepMotor1]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	!MODEL {}
	MODEL
	{
		model = Squad/Parts/Engine/solidBoosterSep/model
		scale = 2.2, 1.58, 2.2
	}
	@scale = 1.0
	%rescaleFactor = 1.0
	@title = Separation Motor
	@manufacturer = Generic
	@description = Small solid motor use to help separate one stage from another. Best used with others.
	@mass = 0.044
	@maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 98
		@heatProduction = 17.5
		%exhaustDamage = False
		@atmosphereCurve
		{
			@key,0 = 0 250
			@key,1 = 0 220
		}
	}
	!RESOURCE[SolidFuel]
	{
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 20.34
		type = PSPC
		basemass = -1
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = SolidFuel
		modded = false
		CONFIG
		{
			name = SolidFuel
			maxThrust = 98
			heatProduction = 17.5
			PROPELLANT
			{
				name = PSPC
				ratio = 1
				DrawGauge = True
			}
			atmosphereCurve
			{
				key = 0 250
				key = 1 220
			}
		}
	}
}
@PART[smallRadialEngine]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	%title = RD-856 [Radial]
	%manufacturer = KB Yuzhnoye
	%description = Vernier thruster used on the second stage of the Tsyklon rocket.
	%attachRules = 1,1,1,0,0
	%mass = 0.027
	%maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		%maxThrust = 13
		%minThrust = 13
		%heatProduction = 100
		@atmosphereCurve
		{
			@key,0 = 0 280
			@key,1 = 1 84
		}
		@PROPELLANT[LiquidFuel]
		{
			@name = UDMH
			@ratio = 0.482
		}
		@PROPELLANT[Oxidizer]
		{
			@name = NTO
			@ratio = 0.518
		}
		ullage = True
		ignitions = 1
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.25
		}
	}
	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 5.0
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		origMass = 0.027
		configuration = RD-856
		modded = false
		CONFIG
		{
			name = RD-856
			maxThrust = 13
			minThrust = 13
			PROPELLANT
			{
				name = UDMH
				ratio = 0.482
				DrawGauge = true
			}
			PROPELLANT
			{
				name = NTO
				ratio = 0.518
			}
			atmosphereCurve
			{
				key = 0 280
				key = 1 84
			}
		}
	}
}
@PART[solidBooster]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	!MODEL {}
	MODEL
	{
		model = Squad/Parts/Engine/solidBoosterRT-10/model
		scale = 2.3368, 2.632887, 2.3368
	}
	@MODEL:NEEDS[VenStockRevamp]
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/RT5
		@scale = 2.3368, 4.4402956655, 2.3368
		%position = 0, 0.2577835324, 0
	}
	@scale = 1.0
	%rescaleFactor = 1.0
	@node_stack_bottom = 0.0, -3.294453, 0.0, 0.0, -1.0, 0.0, 2
	@node_stack_top = 0.0, 2.699947, 0.0, 0.0, 1.0, 0.0, 2
	@node_attach = 0.0, 0.0, -1.1684, 0.0, 0.0, 1.0, 1
	@title = Castor 30XL
	@manufacturer = ATK
	@description = The Castor 30XL is an enlarged Castor 30. Designed for the second stage of the Antares launcher. [2.34m]
	@attachRules = 1,1,1,1,0
	@mass = 2.3
	@maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		@minThrust = 0
		@maxThrust = 715
		@heatProduction = 100
		@atmosphereCurve
		{
			@key,0 = 0 303
			@key,1 = 0 100
		}
	}
	@MODULE[ModuleEngines*]:NEEDS[VenStockRevamp]
	{
		@thrustVectorTransformName = thrustTransform
	}
	!RESOURCE[SolidFuel]
	{
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 12824.84
		type = HTPB
		basemass = -1
	}
	MODULE:NEEDS[!VenStockRevamp]
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimalRange = 3.5
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}
	@MODULE[ModuleGimbal]
	{
		@gimbalTransformName = thrustTransform
		%gimbalRange = 3.5
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	engineType = Castor-30XL
}
@PART[solidBooster1-1]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	!MODEL,* {}
	MODEL
	{
		model = Squad/Parts/Engine/solidBoosterBACC/model
		scale = 1.88976, 1.148061, 1.88976
	}
	%rescaleFactor = 1.0
	@node_stack_bottom = 0.0, -4.494219107637, 0.0, 0.0, -1.0, 0.0, 2
	@node_stack_top = 0.0, 4.522782865317, 0.0, 0.0, 1.0, 0.0, 2
	@node_attach = 0.0, 0.0, -1.1811, 0.0, 0.0, 1.0
	@title = Castor 120
	@manufacturer = Thiokol (ATK)
	@description = The Castor 120 is a medium solid booster used on the Minotaur and Athena launch vehicles. Its design was based on the TU-903, which serves as the first stage of the Peacekeeper ICBM. The standard thrust curve can be modified to produce a regressive burn that reduces maximum acceleration or a saddle-shaped profile that limits aerodynamic forces. Burn time 79 seconds, diameter 2.34 m.
	@attachRules = 1,1,1,1,0
	@mass = 4.35
	@maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 1970
		@heatProduction = 100
		@useEngineResponseTime = False
		!engineAccelerationSpeed = DELETE
		@atmosphereCurve
		{
			@key,0 = 0 280
			@key,1 = 0 253
		}
	}
	!RESOURCE[SolidFuel]
	{
	}
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 5.5
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 27655
		type = HTPB
		basemass = -1
	}
	%engineType = Castor-120
}
@PART[toroidalAerospike]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DELETE
	!MODEL {}
	MODEL
	{
		model = Squad/Parts/Engine/liquidEngineAerospike/AeroSpike
		scale = 2.5, 1.667, 2.5
		position = 0.0, 0.1, 0.0
	}
	@scale = 1.0
	%rescaleFactor = 1.0
	@node_stack_top = 0.0, 0.1, 0.0, 0.0, 1.0, 0.0, 2
	@mass = 1.4
	@maxTemp = 1973.15
	@title = J-2T-200/250K
	@manufacturer = Rocketdyne
	@description = Aerospike. Using proven technology from the J-2 and introducing an aerospike nozzle to the developing J-2S machinery. [2.5m]
	@attachRules = 1,0,1,0,0
	@MODULE[ModuleEngines*]
	{
		@minThrust = 889.3
		@maxThrust = 889.3
		@heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.745
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.255
		}
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 435 0 -355.588
			key = 1 300 -46.28566 -46.28566
			key = 2 270 -21.96388 -21.96388
			key = 10 150 -8.913048 -8.913048
			key = 40 0.0001 -2.319966 0
		}
		ullage = True
		ignitions = 3
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 2.0
		}
	}
	!MODULE[ModuleAlternator]
	{
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		origMass = 1.4
		configuration = J-2T-200K
		modded = false
		CONFIG
		{
			name = J-2T-200K
			maxThrust = 889.3
			minThrust = 889.3
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.745
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.255
			}
			atmosphereCurve
			{
				key = 0 435
				key = 1 300
			}
			cost = 0
		}
		CONFIG
		{
			name = J-2T-250K
			maxThrust = 1111.6
			minThrust = 1111.6
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.745
				DrawGauge = true
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.255
			}
			atmosphereCurve
			{
				key = 0 441
				key = 1 290
			}
			cost = 1000
			entryCost = 30000
			entryCostSubtractors
			{
				XASR-1 = 600
			}
			techRequired = veryHeavyRocketry
		}
	}
}
@PART[vernierEngine]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	@mass = 0.01
	%useRcsConfig = RCSBlock
	@MODULE[ModuleRCS]
	{
		@name = ModuleRCS
		@thrusterPower = 0.275
		!resourceName = DELETE
		PROPELLANT
		{
			ratio = 1.0
			name = Hydrazine
		}
		!PROPELLANT[LiquidFuel]
		{
		}
		!PROPELLANT[Oxidizer]
		{
		}
		@atmosphereCurve
		{
			@key,0 = 0 254
			@key,1 = 1 82.08
		}
	}
}

@PART[vernierEngine]:AFTER[RO-RCS]
{
	@MODULE[ModuleEngineConfigs]
	{
		@CONFIG[MMH+NTO]
		{
			@IspSL = 0.953
		}
		@CONFIG[UDMH+NTO]
		{
			@IspSL = 0.95
		}
		@CONFIG[Aerozine50+NTO]
		{
			@IspSL = 0.963
		}
	}
}

// BACC clone, now Altair (X-248)
+PART[solidBooster1-1]:AFTER[RealismOverhaul]
{
	@name = RO-X-248
	@MODEL
	{
		@scale = 0.34544, 0.256, 0.34544
	}
	@node_stack_bottom = 0.0, -1.055, 0.0, 0.0, -1.0, 0.0, 0
	@node_stack_top = 0.0, 1.00352, 0.0, 0.0, 1.0, 0.0, 0
	@node_attach = 0.0, 0.0, -0.2193544, 0.0, 0.0, 1.0, 0
	@title = Altair
	@manufacturer = Allegany Ballistics Laboratory
	@description = A small solid kick motor. Developed for Vanguard's third stage but, with the second stage, reused as Able/Delta. Used to circularize at apogee or perform final payload kick. [0.45m]
	@mass = 0.03
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 12.4
		@heatProduction = 100
		@useEngineResponseTime = False
		!engineAccelerationSpeed = DELETE
		@atmosphereCurve
		{
			@key,0 = 0 256
			@key,1 = 0 233
		}
	}
	!MODULE[ModuleGimbal] {}
	@MODULE[ModuleFuelTanks]
	{
		@volume = 119.5403
		@type = PSPC
	}
	%engineType = Altair
	// Effects
	!fx_exhaustFlame_yellow = 0.0, -3.5, 0.0, 0.0, 1.0, 0.0, running
	!fx_exhaustSparks_yellow = 0.0, -3.5, 0.0, 0.0, 1.0, 0.0, running
	!fx_smokeTrail_medium = 0.0, -4, 0.0, 0.0, 1.0, 0.0, running
	fx_exhaustFlame_yellow_tiny = 0.0, -0.17, 0.163, 0.0, 1.0, 0.0, running
}
+PART[solidBooster_sm]:AFTER[RealismOverhaul]
{
	@name = RO-X-258
	@MODEL
	{
		@scale = 0.64, 1.875, 0.64
	}
	%rescaleFactor = 1.0
	%scale = 1.0
	@node_stack_bottom = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 0
	@node_stack_top = 0.0, 1.03125, 0.0, 0.0, 1.0, 0.0, 0
	@node_attach = 0.0, 0.0, -0.4, 0.0, 0.0, 1.0, 0
	@title = Altair II
	@manufacturer = Allegany Ballistics Laboratory
	@description = A small solid kick motor. Developed from the Altair, this successor was used on Scout and Delta. Used to circularize at apogee or perform final payload kick. Maximum thrust 26.4kN, burn time 28 seconds. [0.65m]
	@mass = 0.037
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 22.3
		@heatProduction = 100
		@useEngineResponseTime = False
		!engineAccelerationSpeed = DELETE
		@atmosphereCurve
		{
			@key,0 = 0 266
			@key,1 = 0 242
		}
	}
	!MODULE[ModuleGimbal] {}
	@MODULE[ModuleFuelTanks]
	{
		@volume = 136.8
		@type = PSPC
	}
	%engineType = Altair-II
	// Effects
	!fx_exhaustFlame_yellow = 0.0, -3.5, 0.0, 0.0, 1.0, 0.0, running
	!fx_exhaustSparks_yellow = 0.0, -3.5, 0.0, 0.0, 1.0, 0.0, running
	!fx_smokeTrail_medium = 0.0, -4, 0.0, 0.0, 1.0, 0.0, running
	%fx_exhaustFlame_yellow_tiny = 0.0, -0.17, 0.163, 0.0, 1.0, 0.0, running
}
+PART[liquidEngine3]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines]
{
	@name = RO_KVD1
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}
	!mesh = DEL
	MODEL:NEEDS[!VenStockRevamp]
	{
		model = Squad/Parts/Engine/liquidEngineLV-909/model
		scale = 2.8, 4.0, 2.8
	}
	@MODEL,0:NEEDS[VenStockRevamp]
	{
		@model = VenStockRevamp/Squad/Parts/Propulsion/LV909B
		%scale = 2.8, 4.0, 2.8
	}
	MODEL
	{
		model = RealismOverhaul/Models/KVDvernStock
		texture = ksp_r_microEngine_diff, Squad/Parts/Engine/liquidEngineLV-1R/ksp_r_microEngine_diff
		scale = 1, 1, 1
		position = 0, -1.15, -0.585
		rotation = 16.5, 0, 0
	}
	MODEL
	{
		model = RealismOverhaul/Models/KVDvernStock
		texture = ksp_r_microEngine_diff, Squad/Parts/Engine/liquidEngineLV-1R/ksp_r_microEngine_diff
		scale = 1, 1, 1
		position = 0, -1.15, 0.585
		rotation = 16.5, 180, 0
	}
	@MODEL,1:NEEDS[VenStockRevamp]		//Hex-edited mu files originally by Ven, re-distributed under CC-BY-4.0
	{
		@model = RealismOverhaul/Models/KVDvernVSR
		!texture = DELETE
		texture = SmallEngines_CLR, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_CLR
		texture = SmallEngines_NRM, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_NRM
	}
	@MODEL,2:NEEDS[VenStockRevamp]
	{
		@model = RealismOverhaul/Models/KVDvernVSR
		!texture = DELETE
		texture = SmallEngines_CLR, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_CLR
		texture = SmallEngines_NRM, VenStockRevamp/Squad/Parts/Propulsion/SmallEngines_NRM
	}
	MODEL
	{
		model = Squad/Parts/Structural/strutOcto/model
		scale = 3, 4.5, 3
		position = 0, 0.35, 0
		rotation = 0, 22.5, 0
	}

	@scale = 1.0
	%rescaleFactor = 1.0
	%node_stack_top = 0.0, 0.9, 0.0, 0.0, 1.0, 0.0, 2
	%node_stack_bottom = 0.0, -1.513004, 0.0, 0.0, -1.0, 0.0, 2
	%title = KVD-1/CE-7.5
	%manufacturer = KB Khimavtomatiki (Kosberg) / ISRO
	%description = Staged combustion hydrolox upper stage engine intended for use on the N-1M and considered for use on Proton and Angara, eventually licensed to India for its GSLV MkI and MkII.  Later versions were developed by India for domestic use on the as the CE-7.5.  The main engine bell is fixed in place, and two verniers are used to provide combined pitch-yaw-roll control; this leads to lower control authority than on stages where the main engine can gimbal.  This engine runs with a somewhat higher than average O/F ratio, resulting in a denser than average hydrolox stage. [2.5m]
	%attachRules = 1,1,1,1,0
	%mass = 0.282
	%maxTemp = 1973.15


	!fx_exhaustFlame_blue_small = DELETE
	!fx_exhaustLight_blue = DELETE
	!fx_smokeTrail_light = DELETE


	!sound_vent_medium = DELETE
	!sound_rocket_hard = DELETE
	!sound_vent_soft = DELETE
	!sound_explosion_low = DELETE

	EFFECTS
	{
	  running
	  {
		AUDIO
		{
		  channel = Ship
		  clip = sound_rocket_spurts
		  volume = 0.0 0.0 0 0
		  volume = 0.01 0 0 0
		  volume = 0.5 0.25
		  volume = 1.0 1.0
		  pitch = 0.0 1.3
		  pitch = 1.0 1.6
		  loop = true
		}
		PREFAB_PARTICLE
		{
		  prefabName = fx_exhaustFlame_blue_small
		  transformName = thrustTransform
		  emission = 0.0 0.0
		  emission = 0.01 0 0 0
		  emission = 0.01 0.0
		  emission = 1.0 1.0
		  speed = 0.0 0.8
		  speed = 1.0 1.0
		}
		PREFAB_PARTICLE
		{
		  prefabName = fx_exhaustFlame_white_tiny
		  transformName = vern01Transform
		  emission = 0.0 0.0
		  emission = 0.01 0 0 0
		  emission = 0.01 0.0
		  emission = 1.0 1.0
		  speed = 0.0 0.8
		  speed = 1.0 1.0
		}
	  }
	  engage
	  {
		AUDIO
		{
		  channel = Ship
		  clip = sound_vent_medium
		  loop = false
		}
	  }
	  disengage
	  {
		AUDIO
		{
		  channel = Ship
		  clip = sound_vent_soft
		  loop = false
		}
	  }
	}

	//density LH2 = 0.00007085
	//density LOX = 0.001141
	//density rat LH2:LOX = 0.06209465381244522348816827344435
	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesRF
		@thrustVectorTransformName = thrustTransform
		%engineID = mainEngine
		@minThrust = 71.6
		@maxThrust = 71.6
		@heatProduction = 100
		PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.72856
		}
		PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.27144
		}
		atmosphereCurve
		{
			@key,0 = 0 461
			@key,1 = 1 150
		}
		%ullage = True
		%pressureFed = False
		%ignitions = 5
		!IGNITOR_RESOURCE,* {}
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.5
		}
	}
	MODULE
	{
		name = ModuleEnginesRF
		thrustVectorTransformName = vern01Transform
		engineID = vernier
		minThrust = 2
		maxThrust = 2
		heatProduction = 0
		exhaustDamage = False
		ignitionThreshold = 0.1
		PROPELLANT
		{
			name = LqdHydrogen
			ratio = 0.72856
		}
		PROPELLANT[Oxidizer]
		{
			name = LqdOxygen
			ratio = 0.27144
		}
		atmosphereCurve
		{
			key,0 = 0 452
			key,1 = 1 150
		}
		ullage = True
		ignitions = 5
		IGNITOR_RESOURCE
		{
			name = ElectricCharge
			amount = 0.01
		}
	}

	@MODULE[ModuleGimbal]
	{
        @gimbalTransformName = vern01Transform
		@gimbalRange = 15
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}
	@MODULE[ModuleGimbal]:NEEDS[VenStockRevamp]
	{
        	@gimbalTransformName = Nozzle
	}
	!MODULE[ModuleEngineConfigs]
	{
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEnginesFX
		configuration = KVD-1
		engineID = mainEngine
		modded = false
		CONFIG
		{
			name = KVD-1
			minThrust = 69.6
			maxThrust = 69.6
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.72856
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.27144
			}
			atmosphereCurve
			{
				key = 0 461.5
				key = 1 150.0
			}

		}
		CONFIG
		{
			name = CE-7.5
			minThrust = 69.55
			maxThrust = 69.55
			heatProduction = 100
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.72856
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.27144
			}
			atmosphereCurve
			{
				key = 0 452.0
				key = 1 150.0
			}
		}
	}
	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEnginesFX
		configuration = KVD-1-Verniers
		engineID = vernier
		isMaster = false
		modded = false
		CONFIG
		{
			name = KVD-1-Verniers
			minThrust = 4
			maxThrust = 4
			heatProduction = 0
			PROPELLANT
			{
				name = LqdHydrogen
				ratio = 0.72856
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.27144
			}
			atmosphereCurve
			{
				key = 0 452.0
				key = 1 150.0
			}
		}
	}
}
@PART[solidBooster_sm]:FOR[RealismOverhaul]
{
	%RSSROConfig = True
	
	@MODEL
	{
		@scale = 1.25, 1.35466667, 1.25
	}
	%scale = 1.0
	%rescaleFactor = 1.0
	@node_stack_bottom = 0.0, -1.0838, 0.0, 0.0, -1.0, 0.0, 1
	@node_stack_top = 0.0, 0.7451125, 0.0, 0.0, 1.0, 0.0, 1
	@node_attach = 0.0, 0.0, -0.625, 0.0, 0.0, 1.0, 1
	@title = Star 48B
	@manufacturer = Thiokol
	@description = Also known as the Payload Assistance Module (PAM) B, this kick motor was used for Delta and STS launches to add extra impulse to the payload. This is the short-nozzle version. Maximum thrust 76.11kN, burn time 85 seconds. [1.3m]
	@mass = 0.12 // averaged initial and burnout dry mass
	@maxTemp = 1973.15
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 65.5
		@heatProduction = 100
		@atmosphereCurve
		{
			@key,0 = 0 286
			@key,1 = 1 200
		}
	}
	!RESOURCE[SolidFuel] {}
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform // unless there's a better transform?
		gimbalRange = 3.5
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}
	MODULE
	{
		name = ModuleFuelTanks
		volume = 1135.6
		type = HTPB
		basemass = -1
	}
	%engineType = Star48B
}

// RAPIER config, ported from old AJE
@PART[RAPIER]:FOR[RealismOverhaul]
{
	@description = The dual-mode active-cooling RAPIER hypersonic engine which burns Methane. SFC 2.0 lb/lbf/hr, O/F in rocket mode 2.8 to 1.
	@MODULE[ModuleEnginesAJEJet]
	{
		@PROPELLANT[LiquidFuel]
		{
			@name = LqdMethane
		}
	}
	@MODULE[ModuleEngines*]:HAS[~engineID[AirBreathing]]
	{
		@name = ModuleEnginesRF
		@minThrust = 150
		@maxThrust = 250
		@heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = LqdMethane
			@ratio = 0.49
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.51
		}
		@atmosphereCurve
		{
			@key,0 = 0 360
			@key,1 = 1 300
		}
		%ullage = False
	}
}

// Vector
@PART[SSME]:FOR[RealismOverhaul]:NEEDS[!RftS,!RealFuels_StockEngines] // RS-25D/E
{
	%RSSROConfig = True
	!MODULE[TweakScale]
	{
	}

    MODEL:NEEDS[!VenStockRevamp]
    {
        model = Squad/Parts/Engine/liquidEngineSSME/SSME
        scale = 1.915, 2.225, 1.915
    }

    @MODEL:NEEDS[VenStockRevamp]
    {
        @scale = 2.5, 2.78, 2.5
    }

    %scale = 1.0
    @rescaleFactor = 1.0
    @node_stack_bottom:NEEDS[!VenStockRevamp] = 0.0, -3.475, 0.0, 0.0, -1.0, 0.0, 2
    @node_stack_bottom:NEEDS[VenStockRevamp] = 0.0, -4.075, 0.0, 0.0, -1.0, 0.0, 2
	@mass = 3.527
	@maxTemp = 1800
	@MODULE[ModuleEngines*]
	{
		@minThrust = 1400
		@maxThrust = 2280
		@heatProduction = 100
		@PROPELLANT[LiquidFuel]
		{
			@name = LqdHydrogen
			@ratio = 0.728
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 0.272
		}
		@atmosphereCurve
		{
			@key,0 = 0 452
			@key,1 = 1 366
		}
		!IGNITOR_RESOURCE,* {}
	}
	engineType = SSME
}
