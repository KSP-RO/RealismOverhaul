//Sources
//https://www.spacex.com/vehicles/dragon/
//https://www.wikiwand.com/en/Crew_Dragon_Demo-1
//https://www.nasa.gov/feature/top-10-things-to-know-for-nasa-s-spacex-demo-2-return
//https://www.reddit.com/r/spacex/comments/k7uu9b/whats_the_mass_of_dragon_2_heres_what_i_could_dig/

@PART[TE_18_DRAGONV2_HEATSHIELD]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon v2 PICA-X Heatshield
	@manufacturer = SpaceX
	@description = Heatshield to safely return to Earth after spending time in orbit aboard the Dragon capsule.

	@mass = 0.35
}

@PART[TE_18_DRAGONV2_POD]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon v2 Crew Capsule
	@manufacturer = SpaceX
	@description = Dragon v2 is the crewed capsule from SpaceX, used ot ferry astronatus and send cargo to orbit and space stations.

	@mass = 8.877

	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 1.5
	}

	@MODULE[ModuleEnginesFX]
	{
		%EngineType = LiquidFuel
	}

	MODULE
	{
		name = ModuleEngineConfigs
		type = ModuleEngines
		configuration = SuperDraco
		origMass = 0.065

		CONFIG
		{
			name = SuperDraco
			description = Abort engines on Dragon v2, initially also to be used for landing.
			minThrust = 14.2 //20% minimum throttle
			maxThrust = 71
			heatProduction = 54

			PROPELLANT
			{
				name = MMH
				ratio = 0.5629
				DrawGauge = True
			}
			PROPELLANT
			{
				name = NTO
				ratio = 0.4371
			}
			PROPELLANT
			{
				name = Helium
				ratio = 108.35
				ignoreForIsp = True
			}

			atmosphereCurve
			{
				key = 0 280 //guess
				key = 1 235
			}

			ullage = False
			pressureFed = True
			ignitions = 0

			IGNITOR_RESOURCE
			{
				name = ElectricCharge
				ratio = 0.5
			} 
		}
	}

	@MODULE[ModuleRCSFX],*
	{
		@thrusterPower = 1.2 //3x400N per axis thrusters
		!resourceName = NULL

		!PROPELLANT[MonoPropellant]
		{
		}

		PROPELLANT
		{
			name = MMH
			ratio = 0.5629
			DrawGauge = True
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.4371
		}
		PROPELLANT
		{
			name = Helium
			ratio = 108.35
			ignoreForIsp = True
		}

		atmosphereCurve
		{
			key = 0 300
			key = 1 255 //guess
		}
	}

	@MODULE[ModuleReactionWheel]
	{
		@PitchTorque = 0.6
		@YawTorque = 0.6
		@RollTorque = 0.6
	}

	@RESOURCE[ElectricCharge]
	{
		@amount = 5500
		@maxAmount = 5500
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 3301.43 //1.1t MMH + 1.45t NTO 
		basemass = -1

		TANK
		{
			name = MMH
			amount = 1265.81
			maxAmount= 1265.81
		}
		TANK
		{
			name = NTO
			amount = 1005.62
			maxAmount = 1005.62
		}
		TANK
		{
			name = Helium
			amount = 249276.89
		}
	}
}

@PART[TE_18_DRAGONV2_TRUNK]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon v2 Trunk
	@manufacturer = SpaceX
	@description = The trunk attaches the Dragon to the Falcon 9 upper stage, and can also hold cargo within the large palyoad bay.

	@mass = 0.7

	@RESOURCE[ElectricCharge]
	{
		@amount = 1700
		@maxAmount = 1700
	}
}

@PART[TE_20_CargoRodan]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon v2 Cargo Capsule
	@manufacturer = SpaceX
	@description = Cargo version of Dragon v2.

	@mass = 8.877

	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 1.5
	}

	@MODULE[ModuleRCSFX*]
	{
		@thrusterPower = 1.2 //3x400N per axis thrusters
		!resourceName = NULL

		!PROPELLANT[MonoPropellant]
		{
		}

		PROPELLANT
		{
			name = MMH
			ratio = 0.5629
			DrawGauge = True
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.4371
		}
		PROPELLANT
		{
			name = Helium
			ratio = 108.35
			ignoreForIsp = True
		}

		atmosphereCurve
		{
			key = 0 300
			key = 1 255 //guess
		}
	}

	@MODULE[ModuleReactionWheel]
	{
		@PitchTorque = 0.6
		@YawTorque = 0.6
		@RollTorque = 0.6
	}

	@RESOURCE[ElectricCharge]
	{
		@amount = 5500
		@maxAmount = 5500
	}

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 3301.43 //1.1t MMH + 1.45t NTO 
		basemass = -1

		TANK
		{
			name = MMH
			amount = 1265.81
			maxAmount= 1265.81
		}
		TANK
		{
			name = NTO
			amount = 1005.62
			maxAmount = 1005.62
		}
		TANK
		{
			name = Helium
			amount = 249276.89
		}
	}
}

@PART[TE_21_DXL_Docking]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon XL Docking
	@manufacturer = SpaceX
	@description = The command module for the Dragon XL cargo vehicle. Attach a dokcing port on top.

	@mass = 0.44

	@MODULE[ModuleRCSFX],*
	{
		@thrusterPower = 0.8 //assumed 800N per axis thrusters
		!resourceName = NULL

		!PROPELLANT[MonoPropellant]
		{
		}

		PROPELLANT
		{
			name = MMH
			ratio = 0.5629
			DrawGauge = True
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.4371
		}
		PROPELLANT
		{
			name = Helium
			ratio = 108.35
			ignoreForIsp = True
		}

		atmosphereCurve
		{
			key = 0 307 //guess
			key = 1 259 //guess
		}
	}

	!RESOURCE,*{}
	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 3584.42 //1.25t MMH + 1.625t NTO
		basemass = -1

		TANK
		{
			name = MMH
			amount = 1420.45
			maxAmount = 1420.45
		}
		TANK
		{
			name = NTO
			amount = 1128.47
			maxAmount = 1128.47
		}
		TANK
		{
			name = Helium
			amount = 279729.41
			maxAmount = 279729.41
		}
		TANK
		{
			name = ElectricCharge
			amount = 5500
			maxAmount = 5500
		}
	}
}

@PART[TE_21_DXL_RCS]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon XL RCS
	@manufacturer = SpaceX
	@description = 3 axis RCS to be used on Dragon XL.

	@mass = 0.18

	@MODULE[ModuleRCSFX*]
	{
		@thrusterPower = 0.8 //assumed 800N per axis thrusters
		!resourceName = NULL

		!PROPELLANT[MonoPropellant]
		{
		}

		PROPELLANT
		{
			name = MMH
			ratio = 0.5629
			DrawGauge = True
		}
		PROPELLANT
		{
			name = NTO
			ratio = 0.4371
		}
		PROPELLANT
		{
			name = Helium
			ratio = 108.35
			ignoreForIsp = True
		}

		atmosphereCurve
		{
			key = 0 307 //guess
			key = 1 259 //guess
		}
	}
}

@PART[TE_21_DXL_Storage]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon XL Storage Container
	@manufacturer = SpaceX
	@description = Being a cargo vehicle, it is important to have a good storage capacity, especially since it is going to Lunar Gateway

	@mass = 1.3

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 5000
		basemass = -1
	}
}

@PART[TE_21_DXL_Utility]:FOR[RealismOverhaul]
{
	%RSSROConfig = true
	@rescaleFactor = 1.48

	@title = Dragon XL Utility
	@manufacturer = SpaceX
	@description = Tail end of Dragon XL, controls the Dragon XL autonomously, probably.

	@mass = 0.88
}