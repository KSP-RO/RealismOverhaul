//	================================================================================
//	RO Waterfall Configs
//	================================================================================

// Centaur V Aft Bulkhead
@PART[SP_vulcanQuadAdaptor]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!EFFECTS {}
	!MODULE[ModuleWaterfallFX] {}
	ROWaterfall
	{
		template = rowaterfall-rcs-hypergolic-1
		audio = rcs-jet-1
		transform = rcsTransform
		position = 0,0,0
		rotation = 0, 0, 180
		scale = 1.3, 1.3, 1.3
	}
}


// GEM-63XL
@PART[bluedog_Delta_GEM63XL]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!MODULE[ModuleWaterfallFX] {}
	ROWaterfall
	{
		template = rowaterfall-hybrid-srm-1
		useHybrid = true
		audio = srm-2
		position = 0,0,0.3225
		rotation = 0, 0, 0
		scale = 1.617, 1.617, 1.617
		glowStretch = 0.1
		glow = ro-srm
	}
}



// BE-4
@PART[SP_engineBE4]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!EFFECTS,* {}
	!MODULE[ModuleWaterfallFX],* {}
	ROWaterfall
	{
		template = waterfall-methalox-lower-BE4-1
		audio = pump-fed-heavy-1
		position = 0,0,0
		rotation = 0, 0, 0
		scale = 1.4, 1.4, 1.4
		glow = ro-methalox-purple
	}
}


// RL10 Fixed
@PART[bluedog_Centaur_RL10_LV2]:BEFORE[ROWaterfall]:NEEDS[Waterfall]
{
	!EFFECTS {}
	ROWaterfall
	{
		template = waterfall-hydrolox-upper-1
		audio = pump-fed-light-1
		transform = fxTransform
		position = 0,0,0
		rotation = 0, 0, 0
		scale = 0.795, 0.795, 0.795
		@scale[2] *= 0.8
		glow = ro-hydrolox-blue
		defaultMainPlumeVariantName = a3

		MainPlumeVariant:NEEDS[B9PartSwitch]
		{
			name = a42n
			template = waterfall-hydrolox-upper-1
			scale = 0.96, 0.96, 0.96
			@scale[2] *= 0.9
			recomputeGlowSize = true
		}

		MainPlumeVariant:NEEDS[B9PartSwitch]
		{
			name = a5
			template = waterfall-hydrolox-lower-2
			scale = 0.32, 0.32, 0.32
			glowRecolor = ro-hydrolox-red-blue
		}

		MainPlumeVariant:NEEDS[B9PartSwitch]
		{
			name = c1
			template = waterfall-hydrolox-upper-1
			scale = 1.08, 1.08, 1.08
			@scale[2] *= 0.9
			recomputeGlowSize = true
		}

		MainPlumeVariant:NEEDS[B9PartSwitch]
		{
			name = c1-1
			template = waterfall-hydrolox-upper-1
			scale = 1.23, 1.23, 1.23
			@scale[2] *= 0.9
			recomputeGlowSize = true
		}

		MainPlumeVariant:NEEDS[B9PartSwitch]
		{
			name = c3
			template = waterfall-hydrolox-upper-1
			scale = 1.474, 1.474, 1.474
			recomputeGlowSize = true
		}

		MainPlumeVariant:NEEDS[B9PartSwitch]
		{
			name = cece-methalox
			template = waterfall-methalox-upper-1
			scale = 0.85, 0.85, 0.85
			@scale[2] *= 0.8
			glowRecolor = ro-methalox-purple
		}
	}

	@MODULE[ModuleEngineConfigs]:NEEDS[B9PartSwitch]
	{
		@CONFIG[RL10A-4-2N] { %rowaterfallVariant = a42n }
		@CONFIG[RL10A-5] { %rowaterfallVariant = a5 }
		@CONFIG[RL10C-1] { %rowaterfallVariant = c1 }
		@CONFIG[RL10C-1-1] { %rowaterfallVariant = c1-1 }
		@CONFIG[RL10C-3] { %rowaterfallVariant = c3 }
		@CONFIG[RL10C-X] { %rowaterfallVariant = c3 }
		@CONFIG[CECE-Methane] { %rowaterfallVariant = cece-methalox }
	}
}
@PART[bluedog_Centaur_RL10_LV2]:AFTER[zROWaterfall_Post]:NEEDS[Waterfall,B9PartSwitch]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[rowaterfallMainPlumeSwitch]]
	{
		@SUBTYPE[a5]
		{
			@MODULE
			{
				@DATA
				{
					@TEMPLATE:HAS[#templateName[rowaterfall-glow-hydrolox-red-blue]]
					{
						@scale = 0.397, 0.397, 0.7
					}
				}
			}
		}
	}
}