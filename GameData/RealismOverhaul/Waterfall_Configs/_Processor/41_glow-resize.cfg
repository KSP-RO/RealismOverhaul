// Resize glow to be the same *visual* size as the main plume. This is necessary because many
// plumes have "intrinsic" sizes that do not match with glow effects.

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-alcolox-lower-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.189
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hydrolox-lower-2]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.28
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hydrolox-lower-3]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.28
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hydrolox-lower-4]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.28
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hydyne-lower-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.021
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hypergolic-UDMH-NTO-lower-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.977
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hypergolic-aerozine50-upper-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            __tmp = -0.0251
            @__tmp *= #$/ROWaterfall/scale[2]$
            @position[2] += #$__tmp$
            !__tmp = delete
            @scale[*],* *= 1.075
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hypergolic-HDA-UDMH-upper-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.079
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hypergolic-IRFNA-UDMH-upper-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.057
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hypergolic-UDMH-NTO-upper-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.1
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-hypergolic-white-upper-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.075
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerolox-lower-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.415
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerolox-lower-4]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.42
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerolox-lower-5*]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.42
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerolox-lower-RD170-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.42
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerolox-sustainer-2*]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.42
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerosene-nitric-acid-lower-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            __tmp = -0.02
            @__tmp *= #$/ROWaterfall/scale[2]$
            @position[2] += #$__tmp$
            !__tmp = delete
            @scale[*],* *= 0.932
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerolox-upper-3]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            __tmp = -0.02
            @__tmp *= #$/ROWaterfall/scale[2]$
            @position[2] += #$__tmp$
            !__tmp = delete
            @scale[*],* *= 0.5075
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-kerosene-nitric-acid-upper-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.930
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[waterfall-keroxide-lower-1]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 0.930
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[rowaterfall-hypergolic-superdraco]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.189
        }
    }
}

@PART[*]:HAS[@ROWaterfall:HAS[#template[rowaterfall-hydrolox-ssme]]]:FOR[zROWaterfall_41_GlowResize]:NEEDS[Waterfall]
{
    @MODULE[ModuleWaterfallFX]:HAS[#__ro_waterfall[main]]
    {
        @TEMPLATE:HAS[#__ro_waterfall[glow]]
        {
            @scale[*],* *= 1.28
        }
    }
}
